<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Andriu Cavelti">

<title>Entwicklung eines R-Pakets für Data Storytelling und Datenvisualisierungen</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/quarto.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="index_files/libs/quarto-html/anchor.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="index_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="index_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="index_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<style>
    .quarto-title-block .quarto-title-banner {
      background: #0d7abc;
    }
    </style>


</head>

<body>

<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <div class="quarto-title-block"><div><h1 class="title">Entwicklung eines R-Pakets für Data Storytelling und Datenvisualisierungen</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Gesamten Code zeigen</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Gesamten Code verbergen</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">Quellcode anzeigen</a></li></ul></div></div>
            <p class="subtitle lead">Masterarbeit</p>
                      </div>
  </div>
    
  <div class="quarto-title-meta-author">
    <div class="quarto-title-meta-heading">Autor:in</div>
    <div class="quarto-title-meta-heading">Zugehörigkeit</div>
    
      <div class="quarto-title-meta-contents">
      Andriu Cavelti 
    </div>
      <div class="quarto-title-meta-contents">
          <p class="affiliation">
              Universität Basel, Digital Humanities
            </p>
        </div>
      </div>

  <div class="quarto-title-meta">

        
      <div>
      <div class="quarto-title-meta-heading">Veröffentlichungsdatum</div>
      <div class="quarto-title-meta-contents">
        <p class="date">19. Februar 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
  <li><a href="#einleitung" id="toc-einleitung" class="nav-link active" data-scroll-target="#einleitung">Einleitung</a></li>
  <li><a href="#sec-von-datenwerten-zu-visualisierung" id="toc-sec-von-datenwerten-zu-visualisierung" class="nav-link" data-scroll-target="#sec-von-datenwerten-zu-visualisierung">Von Datenwerten zu Visualisierung</a>
  <ul class="collapse">
  <li><a href="#sec-das-kartesisches-koordinatensystem-als-positionsskala" id="toc-sec-das-kartesisches-koordinatensystem-als-positionsskala" class="nav-link" data-scroll-target="#sec-das-kartesisches-koordinatensystem-als-positionsskala">Das kartesisches Koordinatensystem als Positionsskala</a></li>
  <li><a href="#sec-farben-als-steuerungsinstrument" id="toc-sec-farben-als-steuerungsinstrument" class="nav-link" data-scroll-target="#sec-farben-als-steuerungsinstrument">Farbe als Steuerungsinstrument</a></li>
  <li><a href="#sec-gestaltungsprizipien-in-datenvisualisierungen" id="toc-sec-gestaltungsprizipien-in-datenvisualisierungen" class="nav-link" data-scroll-target="#sec-gestaltungsprizipien-in-datenvisualisierungen">Gestaltungsprizipien in Datenvisualisierungen</a></li>
  <li><a href="#mit-daten-geschichten-erzählen" id="toc-mit-daten-geschichten-erzählen" class="nav-link" data-scroll-target="#mit-daten-geschichten-erzählen">Mit Daten Geschichten erzählen</a></li>
  </ul></li>
  <li><a href="#vorgehen-methode" id="toc-vorgehen-methode" class="nav-link" data-scroll-target="#vorgehen-methode">Vorgehen Methode</a>
  <ul class="collapse">
  <li><a href="#tidy-data-als-basis-von-datenvisualisierungen" id="toc-tidy-data-als-basis-von-datenvisualisierungen" class="nav-link" data-scroll-target="#tidy-data-als-basis-von-datenvisualisierungen">Tidy Data als Basis von Datenvisualisierungen</a></li>
  <li><a href="#sec-die-beziehung-von-daten-und-visualiserungen-mit-grammer-of-graphics" id="toc-sec-die-beziehung-von-daten-und-visualiserungen-mit-grammer-of-graphics" class="nav-link" data-scroll-target="#sec-die-beziehung-von-daten-und-visualiserungen-mit-grammer-of-graphics">Die Beziehung von Daten und Visualiserungen mit “Grammer of Graphics”</a></li>
  </ul></li>
  <li><a href="#r-paket-entwicklung" id="toc-r-paket-entwicklung" class="nav-link" data-scroll-target="#r-paket-entwicklung">R-Paket Entwicklung</a>
  <ul class="collapse">
  <li><a href="#struktur-im-prozess" id="toc-struktur-im-prozess" class="nav-link" data-scroll-target="#struktur-im-prozess">Struktur im Prozess</a></li>
  <li><a href="#tidy-evaluation" id="toc-tidy-evaluation" class="nav-link" data-scroll-target="#tidy-evaluation">Tidy evaluation</a></li>
  </ul></li>
  <li><a href="#workflow-für-die-entwickung-von-paketen-in-r" id="toc-workflow-für-die-entwickung-von-paketen-in-r" class="nav-link" data-scroll-target="#workflow-für-die-entwickung-von-paketen-in-r">Workflow für die Entwickung von Paketen in R</a>
  <ul class="collapse">
  <li><a href="#schritt-1-initiierung-des-pakets" id="toc-schritt-1-initiierung-des-pakets" class="nav-link" data-scroll-target="#schritt-1-initiierung-des-pakets">Schritt 1: Initiierung des Pakets</a></li>
  <li><a href="#sec-schritt-2-funktionen-schreiben" id="toc-sec-schritt-2-funktionen-schreiben" class="nav-link" data-scroll-target="#sec-schritt-2-funktionen-schreiben">Schritt 2: Funktionen schreiben</a></li>
  <li><a href="#schritt-3-dokumentation" id="toc-schritt-3-dokumentation" class="nav-link" data-scroll-target="#schritt-3-dokumentation">Schritt 3: Dokumentation</a></li>
  <li><a href="#schritt-4-testen" id="toc-schritt-4-testen" class="nav-link" data-scroll-target="#schritt-4-testen">Schritt 4: Testen</a></li>
  <li><a href="#schritt-5-installieren" id="toc-schritt-5-installieren" class="nav-link" data-scroll-target="#schritt-5-installieren"><strong>Schritt 5: Installieren</strong></a></li>
  </ul></li>
  <li><a href="#readme-verwendung-von-biviz" id="toc-readme-verwendung-von-biviz" class="nav-link" data-scroll-target="#readme-verwendung-von-biviz">(README) Verwendung von {biviz}</a>
  <ul class="collapse">
  <li><a href="#datenvisualisierungsfamilien" id="toc-datenvisualisierungsfamilien" class="nav-link" data-scroll-target="#datenvisualisierungsfamilien">Datenvisualisierungsfamilien</a></li>
  <li><a href="#vorteile" id="toc-vorteile" class="nav-link" data-scroll-target="#vorteile">Vorteile</a></li>
  </ul></li>
  <li><a href="#fazit" id="toc-fazit" class="nav-link" data-scroll-target="#fazit">Fazit</a></li>
  <li><a href="#literaturverzeichnis" id="toc-literaturverzeichnis" class="nav-link" data-scroll-target="#literaturverzeichnis">Literaturverzeichnis</a></li>
  </ul>
</nav>
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="einleitung" class="level1">
<h1>Einleitung</h1>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Hinweis
</div>
</div>
<div class="callout-body-container callout-body">
<p>Diese Arbeit ist mit <a href="https://quarto.org/" style="font-size: 11pt;">Quarto</a> geschrieben. Eine HTML-Version der Arbeit steht zusammen mit der Dokumentation auf der Website des Pakets <a href="https://tricktracktriu.github.io/biviz" style="font-size: 11pt;">biviz</a> (https://tricktracktriu.github.io/biviz/) zur Verfügung. Der Quellcode des Pakets ist unter <a href="https://github.com/tricktracktriu/biviz/" style="font-size: 11pt;">GitHub</a> (https://github.com/tricktracktriu/biviz/) abrufbar.</p>
</div>
</div>
<p><br>
Datenvisualisierungen und die Auseinandersetzung mit Informationsdesign für quantitative Daten gab es schon lange vor Big Data. John W. Tukey <span class="citation" data-cites="tukey1977">(<a href="#ref-tukey1977" role="doc-biblioref">Tukey 1977</a>)</span>, Edward R. Tufte <span class="citation" data-cites="tufte2001">(<a href="#ref-tufte2001" role="doc-biblioref">Tufte 2001</a>, Erstveröffentlichung 1982)</span> und William S. Cleveland <span class="citation" data-cites="cleveland1984">(<a href="#ref-cleveland1984" role="doc-biblioref">Cleveland und McGill 1984</a>)</span> sind bis heute prägend für das Gebiet der Datenvisualisierung. Datenvisualisierungen wurden aber schon viel früher für die Erkenntnisgewinnung verwendet. John Snow, ein britischer Epidemiologe im 19. Jahrhundert, erkannte durch die Visualisierung von Choleratodesfällen auf einer Karte von London (jeder Todesfall war ein kleiner schwarzer Balken), dass die Cholerafälle sich rund um eine Wasserpumpe in der Broad Street konzentrierten. Nach der Abschaltung der Wasserpumpe gab es keine weiteren Fälle mehr <span class="citation" data-cites="gerste2022 snow1855">(<a href="#ref-gerste2022" role="doc-biblioref">Gerste 2022</a>, Kapitel Karte des Todes; <a href="#ref-snow1855" role="doc-biblioref">Snow 1855, 45</a>)</span>. Datenvisualisierungen können wichtige Einblicke in Daten geben. Dennoch werden sie in der statistischen Ausbildung oft etwas vernachlässigt.</p>
<blockquote class="blockquote">
<p>The Analysis stage has traditionally been the main emphasis of statistics courses […] but sometimes all that is required is a useful visualization […].<br>
<span class="citation" data-cites="spiegelhalter2020">(<a href="#ref-spiegelhalter2020" role="doc-biblioref">Spiegelhalter 2020, 15</a>)</span></p>
</blockquote>
<p>Datenvisualisierungen alleine reichen aber nicht aus. Sie müssen eine Geschichte erzählen, damit sie zu einer Aktion führen, beispielsweise zur Abschaltung der Wasserpumpe in der Broad Street. Das Storytelling ist bei der Arbeit mit Daten eine der wichtigsten Aufgaben. Nate Silver beschreibt es wie folgt:</p>
<blockquote class="blockquote">
<p>The number have no way of speaking for themselves. We speak for them. We imbue them with meaning.<br>
<span class="citation" data-cites="silver2020">(<a href="#ref-silver2020" role="doc-biblioref">Silver 2020, 9</a>)</span></p>
</blockquote>
<p>Als ich bei meinem alten Arbeitgeber angefangen habe, bemerkte ich schnell, dass diese Erkenntnisse in der Berufswelt noch nicht überall fussgefasst haben. Daten wurden meistens als Tabellen oder einzelne Werte in Excel oder PowerPoint dargestellt. Manchmal gab es auch Grafiken, sie wurden aber erstellt ohne sich Gedanken über die gewünschte Botschaft und ihre Wirkung zu machen. Bei diesem Workflow gibt es zwei grosse Probleme, welche die Qualität der Datenanalysen einschränken. Zum einen sind die Reports oder Analysen nicht reproduzierbar. In Excel ist Copy-Paste und händische Arbeitsschritte der Standard bei der Aufbereitung sowie Verarbeitung von Daten. Folglich können die Auswertungen nicht reproduziert werden. Das hat weiter zur Folge, dass die Arbeitsschritte bei jeder Auswertungsperiode manuell abgearbeitet werden müssen. Das kann zu Fehlern führen und bringt viel Aufwand mit sich. Leider können dabei die Fehlerquellen nicht mit Sicherheit ausgemacht werden, da die manuellen Arbeitsschritte nicht “aufgezeichnet” werden. Ein Skript basierter Workflow kann beiden Problemen entgegenwirken. Im Skript werden alle Arbeitsschritte als Code festgehalten. Am besten werden gleich ganze Datenpipelines erstellt. Bei wiederkehrenden Reports muss anschliessend nur die Datenquelle aktualisiert und das Skript laufen gelassen werden. Alle Arbeitschritte werden anschliessend automatisch durchgeführt. Durch den Code sind die einzelnen Arbeitsschritte “verschriftlicht” und der Computer führt die Anweisungen im Skript aus. Somit kann genau nachvollzogen werden, was, wann und wie gemacht wird. Das heisst, der Report ist reproduzierbar. Das zweite Problem ist die Annahme, dass die Daten für sich selbst sprechen und Datenvisualisierungen verwendet werden ohne sich Gedanken dazu zu machen, ob die gewählte Form nützlich für die Botschaft ist. Diese Problematik für die Qualität der Datenanalysen ist der Ausgangspunkt dieser Masterarbeit. Damit Analysen gehört werden, müssen sie überzeugen. Datenvisualisierungen sind ein wichtiges Tool um die Daten und Erkenntnisse klar und aussagekräftig zu präsentieren. Der Masterarbeit ging die Fragestellung “Wie wird Data Storytelling integraler Bestandteil eines Report?” voraus. Das ist eine komplexe Frage und steht im Zusammenhang mit Arbeitsprozessen sowie Gewohnheiten. Wilke <span class="citation" data-cites="wilke2020">(<a href="#ref-wilke2020" role="doc-biblioref">2020</a>)</span> vergleicht die Fähigkeit klare, attraktive und überzeugende Visualisierungen zu erstellen mit dem “Ohr” eines Textredakteurs der beim Lesen innerlich zu “hört”, ob ein Text gut geschrieben ist:</p>
<blockquote class="blockquote">
<p>[…] brauchen wir in ähnlicher Weise ein “Auge”, also die Fähigkeit, eine Abbildung zu betrachten und festzustellen, ob sie ausgewogen, klar und überzeugend ist. Und ebenso wie beim Beurteilen von Text kann die Fähigkeit, zu sehen, ob eine Abbildung funktioniert oder nicht, erlernt werden. […] Meine Erfahrung nach entwickeln Sie […] noch kein Auge, wenn Sie am Wochenende mal ein Buch lesen. Es ist ein lebenslanger Prozess […].<br>
<span class="citation" data-cites="wilke2020">(<a href="#ref-wilke2020" role="doc-biblioref">Wilke 2020, XI</a>)</span></p>
</blockquote>
<p>Da es in einer Masterarbeit schwer ist, einen lebenslangen Prozess zu untersuchen, verfolgt diese Masterarbeit ein bescheideneres Ziel. Die Arbeit möchte die Entwicklung von Data Storys und Datenvisualisierungen unterstützen. Dies geschieht indem in R ein Visualisierungsprogramm entwickelt wird. Ziel des Pakets (Software) ist es, oft verwendete Datenvisualisierungen möglichst einfach zu erstellen. Gleichzeitig sollen die Grafiken einfach individuell weiterentwickelt werden können. Das heisst, die Funktionen im entwickelten Paket erzeugen Datenvisualisierungen, die so verwendet werden können, ihr ganzes Potential aber erst mit einigen interaktiven Codeergänzungen ausschöpfen. Die Idee dabei ist, dass die Hürde eine Datenvisualisierung zu erstellen möglichst gering ist. Desto einfacher ein Prozess ist, je eher wird er angewendet. Es ist schade, wenn aufgrund des befürchteten Arbeitsaufwands (oder Zeitdrucks) keine Grafik erstellt wird oder nicht verschiedene Formen der Grafik getestet werden (was immer der Fall sein sollte). Mit der Zunahme der Datenmenge (Big Data) geht auch der Wusch einher die Daten zu verstehen. Dank der Erzählung von Geschichten entlang Datenvisualisierung werden Daten in Informationen verwandelt und helfen Verständnis für eine Sachlage zu schaffen sowie Entscheidungen zu treffen <span class="citation" data-cites="nussbaumerknaflic2017">(<a href="#ref-nussbaumerknaflic2017" role="doc-biblioref">Nussbaumer Knaflic 2017</a>)</span>. Mit dieser Masterarbeit soll dieser Prozess vereinfacht werden, ohne an Flexibilität einzubüssen.</p>
<p>Im ersten Teil der Arbeit werden die wichtigsten Punkte für die Erstellung von Visualisierungen mit Daten eingeführt und erläutert. Wie werden aus Datenwerten Datenvisualisierungen? Zum einen sind das technische Aspekte wie das Koordinatensystem, zum anderen psychologische Faktoren wie die Verarbeitung von kognitiven Reizen. Im zweiten Teile wird auf Methoden und Voraussetzungen der Datenvisualisierungen, die bei der Erstellung des Pakets verwendet wurden, eingegangen. Der dritte Abschnitt erläutert die klassischen Entwicklungsschritte eines Pakets. Am Ende wird die Anwendung des entwickelten Pakets beispielhaft gezeigt und anschliessend ein Fazit gezogen.</p>
<div style="page-break-after: always;"></div>
</section>
<section id="sec-von-datenwerten-zu-visualisierung" class="level1">
<h1>Von Datenwerten zu Visualisierung</h1>
<p>Daten zu visualisieren heisst, eine Transformation von Daten hin zu systematischen und logischen visuelle Elementen zu vollziehen, welche in ihrer Summe als bildliche Einheit interpretiert werden. Im Kern ordnet der Transformationsprozess den Daten ein quantifizierbares Merkmal zu. Das kann eine Grösse, eine Farbe, eine Form oder eine Position sein. In der Datenvisualisierung stehen 4 grundlegende Aesthetics (Gestaltungselemente) für die Darstellung von Daten als Grafiken zur Verfügung <span class="citation" data-cites="wilke2020">(<a href="#ref-wilke2020" role="doc-biblioref">Wilke 2020, 7</a>)</span>.</p>
<div id="tbl-aesthetics" class="anchored">
<table class="table">
<caption>Tabelle&nbsp;1: Basis Aesthetics Quelle: <span class="citation" data-cites="wilke2020">Wilke (<a href="#ref-wilke2020" role="doc-biblioref">2020</a>)</span>, S. 8.</caption>
<colgroup>
<col style="width: 26%">
<col style="width: 25%">
<col style="width: 23%">
<col style="width: 22%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Position</th>
<th style="text-align: center;">Grösse</th>
<th style="text-align: center;">Farbe</th>
<th style="text-align: center;">Form</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><img src="images/aes_position.JPG" class="img-fluid"></td>
<td style="text-align: center;"><img src="images/aes_groesse.JPG" class="img-fluid"></td>
<td style="text-align: center;"><img src="images/aes_farbe.JPG" class="img-fluid"></td>
<td style="text-align: center;"><img src="images/aes_form.JPG" class="img-fluid"></td>
</tr>
</tbody>
</table>
</div>
<p>Die Aesthetics Linientyp, Linienbreite und Transparenz können als Spezialelemente von Form, Grösse und Farbe interpretiert werden.</p>
<p>Aesthetics werden in 2 Skalen unterteilt: solche die kontinuierliche Daten darstellen können und solche, die das nicht können <span class="citation" data-cites="wilke2020">(<a href="#ref-wilke2020" role="doc-biblioref">Wilke 2020, 8–9</a>)</span>. Unter kontinuierlichen Daten werden alle Skalenniveaus, für die eine beliebige Anzahl an Zwischenausprägungen besteht, gefasst: beispielsweise eine Zeitdauer. Umgekehrt haben diskrete Daten eine begrenzte Anzahl an Ausprägungen, die nicht weiter abgestuft werden können. Es ist zum Beispiel nicht möglich, dass eine Familie 1.7 Kinder hat. Das Skalenniveau definiert die Art der Ausprägung (Werte) der gemessenen Dimensionen (Merkmale), die in einer Variable erfasst werden. Bei quantitativen Forschungsmethoden werden die Skalen sehr genau definiert, da das Skalenniveau die rechnerischen Operationen und die Vergleichsmöglichkeiten definiert <span class="citation" data-cites="diaz-bone2006 field2012">(<a href="#ref-diaz-bone2006" role="doc-biblioref">Diaz-Bone 2006, Kap. 2.1, 2.2</a>; <a href="#ref-field2012" role="doc-biblioref">Field, Miles, und Field 2012, Kap. 1.5.1</a>)</span>. Für die Anwendung der Aesthetics ist aber die Unterscheidung zwischen kontinuierlichen und diskreten Skalen entscheidend.</p>
<div id="tbl-variablentypen" class="anchored">
<table class="table">
<caption>Tabelle&nbsp;2: Variablentypen für Visualisierungen. Quelle: <span class="citation" data-cites="wilke2020">Wilke (<a href="#ref-wilke2020" role="doc-biblioref">2020</a>)</span>, S. 9. Eigene Anpassungen.</caption>
<colgroup>
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 20%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th>Variablentyp</th>
<th>Skala</th>
<th>Beispiel</th>
<th>Beschreibung</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Quantitativ/<br>
numerisch</td>
<td>Kontinuierlich</td>
<td>1,3; 83; 1.5 x 10<sup>-2</sup></td>
<td>Beliebige numerische Werte. Diese können ganze, rationale oder reelle Zahlen sein.<br>
</td>
</tr>
<tr class="even">
<td>Quantitativ/<br>
numerisch</td>
<td>Diskret</td>
<td>1, 2, 3, 4</td>
<td>Zahlen in diskreten Einheiten sind meistens ganze Zahlen. Ausnahmen: Bspw. die Werte 0.5, 1.0, 1.5 sind auch diskrete Werte, sofern im Datensatz keine dazwischen liegenden Werte <strong>existieren können</strong>.<br>
</td>
</tr>
<tr class="odd">
<td>Qualitativ/<br>
nominal</td>
<td>Diskret</td>
<td>Hund, Katze, Fisch</td>
<td>Eindeutige Kategorien ohne feste Reihenfolge. Oft als Merkmale bezeichnet.<br>
</td>
</tr>
<tr class="even">
<td>Qualitativ/<br>
ordinal</td>
<td>Diskret</td>
<td>schlecht, angemessen, gut<br>
</td>
<td>Eindeutige Kategorien mit fester Reihenfolge. Oft als geordnete Merkmale bezeichnet.</td>
</tr>
<tr class="odd">
<td>Datum oder Zeit</td>
<td>Kontinuierlich oder diskret</td>
<td>5. Jan 2018, 08:03h</td>
<td>Spezifische Tage und/oder Zeiten. Allgemeine Datumsangaben ohne Jahr sind auch möglich (“4. Juli”). Das Format kann variieren.<br>
</td>
</tr>
<tr class="even">
<td>Text</td>
<td>Keine oder diskret</td>
<td>Franz jagt im Taxi quer durch Bayern.</td>
<td>Freitext. Kann bei Bedarf als kategorisierbar behandelt werden.</td>
</tr>
</tbody>
</table>
</div>
<p>Die <a href="#tbl-data-abfall-zuerich">Tabelle&nbsp;3</a> zeigt die verschiedenen Variablentypen. Die Spalte <em>Jahr</em> ist ein diskreter Datumwert, da kein anderes Jahr in der Variable vorkommt. <em>Gemeinde</em> und <em>Abfallart</em> sind beides nominale (kategorische) Werte ohne logische Reihenfolge. <em>Menge in Tonnen</em> ist ein kontinuierlicher numerischer Wert.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>abfall_zh_sample <span class="ot">&lt;-</span> </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  biviz<span class="sc">::</span>abfall_zh<span class="sc">|&gt;</span> </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span><span class="fu">c</span>(<span class="st">"Gemeinde_Nr"</span>, <span class="st">"Einheit"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"Menge in Tonnen"</span> <span class="ot">=</span> Wert) <span class="sc">|&gt;</span> </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">%%</span> <span class="dv">214</span> <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>abfall_zh_sample <span class="sc">|&gt;</span> </span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">4</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tbl-data-abfall-zuerich" class="anchored">
<table class="table table-sm table-striped">
<caption>Tabelle&nbsp;3: Abfallart und -menge im Kanton Zürich. Quelle: <span class="citation" data-cites="amtfürabfallwasserenergieundluftdeskantonszürich2022">Amt für Abfall, Wasser, Energie und Luft des Kantons Zürich (<a href="#ref-amtfürabfallwasserenergieundluftdeskantonszürich2022" role="doc-biblioref">2022</a>)</span> <code>%%% ANPASSEN biviz pkg %%%</code></caption>
<thead>
<tr class="header">
<th style="text-align: right;">Jahr</th>
<th style="text-align: left;">Gemeinde</th>
<th style="text-align: left;">Abfallart</th>
<th style="text-align: right;">Menge in Tonnen</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2021</td>
<td style="text-align: left;">Aeugst a.A.</td>
<td style="text-align: left;">Brennbare Abfälle und Sperrgut</td>
<td style="text-align: right;">323</td>
</tr>
<tr class="even">
<td style="text-align: right;">2021</td>
<td style="text-align: left;">Affoltern a.A.</td>
<td style="text-align: left;">Brennbare Abfälle und Sperrgut</td>
<td style="text-align: right;">2188</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2021</td>
<td style="text-align: left;">Bonstetten</td>
<td style="text-align: left;">Brennbare Abfälle und Sperrgut</td>
<td style="text-align: right;">871</td>
</tr>
<tr class="even">
<td style="text-align: right;">2021</td>
<td style="text-align: left;">Hausen a.A.</td>
<td style="text-align: left;">Brennbare Abfälle und Sperrgut</td>
<td style="text-align: right;">603</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Für die Abbildung der Daten auf den Aesthetics wird angegeben, welche Datenwerte welchem Wert auf der Datenskala entsprechen. Das bedeutet, mithilfe der Skala erfolgt die eindeutige Zuordnung zwischen Daten und Aesthetics. Bei einem Diagramm mit einer x-Achse wird angegeben welcher Wert auf welcher Position auf dieser Achse dargestellt wird. Der gleichen Logik folgend, wird angegeben welche Grösse, Farbe oder Form ein Datenwert einnehmen soll. Anstatt eine Positionsskala wird eine Grössen-, Farben- oder Formskala verwendet. Ein Datenwert entspricht in jeder Skala einem eindeutigen Skalawert bzw. Aesthetic. Je Datenwert darf es nur einen Skalawert geben und umgekehrt. Eine eins zu eins Beziehung ist notwendig, damit die Datenvisualisierung nicht mehrdeutig wird (vgl. <a href="#sec-die-beziehung-von-daten-und-visualiserungen-mit-grammer-of-graphics">Kapitel&nbsp;3.2</a>).</p>
<div id="fig-aesthetics" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="images/image-103507192.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Abbildung&nbsp;1: Skalen verknüpfen Datenwerte mit Aesthetics. Quelle: <span class="citation" data-cites="wilke2020">Wilke (<a href="#ref-wilke2020" role="doc-biblioref">2020</a>)</span>, S. 10</figcaption><p></p>
</figure>
</div>
<p>Wenden wir diese Erkenntnisse beim Datensatz zum Abfall im Kanton Zürich an, dann erhalten wird folgendes Ergebnis: Auf der x-Achse werden die <em>Gemeinden</em> anhand der Positionsskala platziert. Die Variable hat keine logische Reihenfolge. Für die Unterstützung des lesens des Diagramms (<a href="#fig-abfall_zh">Abbildung&nbsp;2</a>), sind die Gemeinden anhand der Menge an Abfall sortiert. Auf der Positionsskala y-Achse ist die <em>Menge in Tonnen</em> übertragen. Zusätzlich wurden die <em>Gemeinden</em> auf die Farbskala übertragen. Vor dem Hintergrund des Data Storytelling lässt sich die Frage stellen, ob die Verwendung des Aesthetic Farbe sinnvoll ist (vgl. <a href="#sec-farben-als-steuerungsinstrument">Kapitel&nbsp;2.2</a>). Bei diesem Beispiel steht jedoch die Beziehung zwischen den Datenwerten und Aesthetics durch Skalen im Zentrum. Daher wurde für jede Gemeinde eine eigene Farbe verwendet.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>abfall_zh_sample <span class="sc">|&gt;</span> </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    Gemeinde <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Aeugst a.A."</span>, </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Affoltern a.A."</span>, </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Bonstetten"</span>, </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Hausen a.A."</span>),</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    Abfallart <span class="sc">==</span> <span class="st">"Brennbare Abfälle und Sperrgut"</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">|&gt;</span> </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_amounts_grouped</span>(</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">fct_reorder</span>(Gemeinde, <span class="st">`</span><span class="at">Menge in Tonnen</span><span class="st">`</span>),</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">`</span><span class="at">Menge in Tonnen</span><span class="st">`</span>, </span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">group =</span> Gemeinde</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># nicht notwendig, macht den plot aber etwas hübscher</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Gemeinde"</span>) <span class="sc">+</span> </span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-abfall_zh" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="index_files/figure-html/fig-abfall_zh-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption class="figure-caption">Abbildung&nbsp;2: Anzahl brennbare Abfälle und Sperrgut je Gemeinde im Jahr 2021. Eigene Darstellung.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<section id="sec-das-kartesisches-koordinatensystem-als-positionsskala" class="level2">
<h2 class="anchored" data-anchor-id="sec-das-kartesisches-koordinatensystem-als-positionsskala">Das kartesisches Koordinatensystem als Positionsskala</h2>
<p>Bei der <a href="#fig-abfall_zh">Abbildung&nbsp;2</a> entspricht die Positionsskala einem kartesischen 2D-Koordinatensystem. Jeder Ort ist durch einen x- und y-Wert eindeutig markiert. Da die Achsen positive als auch negative Zahlen darstellen, muss der Zahlenbereich für jede Achse definiert werden. Bei diesem Beispiel verläuft die y-Achse von 0 bis 2297.4 (5% über dem höchsten y-Wert, welcher bei diesem Beispiel 2188 ist). Ist ein Datenwert innerhalb des definierten Zahlenbereichs, dann wird er im Diagramm an der entsprechenden Position abgebildet. Ansonsten wird der Wert verworfen und erscheint nicht im Diagramm <span class="citation" data-cites="wilke2020">(<a href="#ref-wilke2020" role="doc-biblioref">Wilke 2020, 13</a>)</span>.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>temp_plot <span class="ot">&lt;-</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span>economics <span class="sc">|&gt;</span> </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">group =</span> <span class="st">"eco"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(date <span class="sc">&gt;</span> <span class="st">"1980-01-01"</span> <span class="sc">&amp;</span> date <span class="sc">&lt;=</span> <span class="st">"2000-01-01"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_timeseries_line</span>(<span class="at">x =</span> date, <span class="at">y =</span> unemploy, <span class="at">group =</span> group) <span class="sc">+</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="fu">ymd</span>(<span class="st">"1980-01-01"</span>), <span class="fu">ymd</span>(<span class="st">"1990-01-01"</span>), <span class="fu">ymd</span>(<span class="st">"2000-01-01"</span>)),</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"1980"</span>, <span class="st">"1990"</span>, <span class="st">"2000"</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal_grid</span>() <span class="sc">+</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Jahr"</span>,</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Arbeitslose"</span> <span class="co">#\n in 1000"</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="co">#+  theme(axis.title.y = element_text(size = 12))</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_grid</span>(</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_grid</span>(</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>    temp_plot, <span class="cn">NULL</span>, temp_plot,</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">rel_widths =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="fl">0.06</span>, <span class="dv">2</span>),</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">""</span>, <span class="st">"b"</span>),</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">nrow =</span> <span class="dv">1</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>  <span class="cn">NULL</span>, temp_plot,</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">rel_heights =</span> <span class="fu">c</span>(<span class="fl">1.5</span>, <span class="fl">0.06</span>, <span class="dv">1</span>),</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">""</span>, <span class="st">""</span>, <span class="st">"c"</span>),</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">label_y =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="fl">1.2</span>),</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol =</span> <span class="dv">1</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-economics" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="index_files/figure-html/fig-economics-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption class="figure-caption">Abbildung&nbsp;3: Die Anzahl Arbeitslose sind in tausend angegeben. Datenquelle: Teil des ggplot2 Pakets. Eigene Darstellung.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>Beim kartesischen Koordinatensystem sind die Abstände zwischen den Gitterlinien der Achsen diskrete Schritte. Entlang einer Achse sind die Gitterlinien gleichmässig verteilt und entsprechen einer linearen Positionsskala. Dies gilt sowohl für die Dateneinheiten als auch in der Visualisierung. In allen drei Diagrammen der <a href="#fig-economics">Abbildung&nbsp;3</a> sind die Schritte auf der y-Achse 3000 je Gitterlinie und auf der x-Achse 10 Jahre. Der verwendete Raum um die diskreten Schritte abzubilden können aber unterschiedlich gross sein, womit unterschiedliche Botschaften vermittelt werden. Abbildung (a) betont die Veränderung auf der y-Achse und Abbildung (c) betont die Veränderung über die Zeit. Werden auf der x- und y-Achse die gleichen Einheiten verwendet, so sollten die Gitterabstände identische sein. So, dass der Abstand zwischen zwei Gitterlinien die gleiche Menge an Dateneinheiten beinhaltet <span class="citation" data-cites="wilke2020">(<a href="#ref-wilke2020" role="doc-biblioref">Wilke 2020, 14–15</a>)</span>.</p>
<p>Neben linearen Achsen gibt es auch nichtlineare Skalen, welche meistens eine logarithmische Skala verwendet. Hier entspricht eine Einheit auf der Skala einer Multiplikation von einem festen Wert <span class="citation" data-cites="wilke2020">(<a href="#ref-wilke2020" role="doc-biblioref">Wilke 2020, 17</a>)</span>. Bei Datenvisualisierungen werden auch Polarkoordinatensysteme verwendet, bei denen die Position durch den Winkel und radialen Abstand zum Ursprung angegeben wird <span class="citation" data-cites="wilke2020">(<a href="#ref-wilke2020" role="doc-biblioref">Wilke 2020, 22</a>)</span>. Da bei dieser Arbeit ausser beim Donutdiagramm nur das lineare kartesische Koordinatensystem verwendet wird, stehen diese Systeme nicht im Fokus. Für eine Vertiefung der Thematik ist das <em>Kapitel 3</em> aus <span class="citation" data-cites="wilke2020">Wilke (<a href="#ref-wilke2020" role="doc-biblioref">2020</a>)</span> zu Empfehlen.</p>
</section>
<section id="sec-farben-als-steuerungsinstrument" class="level2">
<h2 class="anchored" data-anchor-id="sec-farben-als-steuerungsinstrument">Farbe als Steuerungsinstrument</h2>
<p>Bei Datenvisualisierungen sind Farben ein wirkungsvolles Mittel um die Betrachtenden beim Lesen des Diagramms zu unterstützen und ihre Aufmerksamkeit zu lenken. Damit die Wirkung sich entfalten kann, muss die Anwendung von Farben selektiv und überlegt sein. Die Verwendung von Farbe sollte ein bewusster Entscheid mit einer strategischen Absicht sein. Welche Aspekte sollen die Aufmerksamkeit der Lesenden erhalten? Damit die Farben wirken, benötigt es einen Kontrast. Die Gitterlinien der bisherigen Grafiken sind alle in grau. Farben heben sich besser von grau als von blau ab, dadurch entsteht ein grösserer Kontrast zu den Farben, die für die Lenkung der Lesenden verwendet werden. Für die grösste Wirkung der Farben werden sie sparsam und konsistent eingesetzt. So wird gewährleistet, dass sie ihre präattentive Wirkung beibehalten. Ist alles unterschiedlich, dann kann auch nichts hervorstechen <span class="citation" data-cites="nussbaumerknaflic2017">(<a href="#ref-nussbaumerknaflic2017" role="doc-biblioref">Nussbaumer Knaflic 2017, 98–99</a>)</span>. Unter präattentive Merkmale versteht Nussbaumer Knaflic Kennzeichnungen, die ein vorbewusste Wahrnehmung von Sinnesreizen stimulieren und effizent mit dem ikonischen Gedächtnis interagieren. Das ikonische Gedächtnis ist aktiviert, sobald wir etwas betrachten. Dabei nehmen wir seine Tätigkeit nicht bewusst wahr. Bereits nach einem Sekundenbruchteil wird das Signal ans Kurzzeitgedächtnis weitergeleitet. Hier werden die Informationen verarbeitet. Da das Kurzzeitgedächtnis nur eine begrenzte Kapazität hat, müssen beim Data Storytelling die Reize für das Gehirn bewusst gesteuert werden. Die kognitive Belastung für das Publikum soll möglichst gering sein, damit es die vermittelten Informationen aufnehmen kann. Das Kurzzeitgedächtnis kann in etwa vier Elemente visueller Informationen zeitgleich Verarbeiten. Indem Informationen als zusammenhängende visuelle Elemente dargestellt werden, wird die kognitive Belastung für das Publikum reduziert und besitzt dennoch eine hohe Informationsdichte. Präattentive Merkmale helfen die Aufmerksamkeit des Publikums zu steuern und eine visuelle Hierarchie in einem Diagramm zu schaffen. Neben Farben sind auch Formen, Grösse oder Positionen klassiche präattentive Merkmale <span class="citation" data-cites="nussbaumerknaflic2017">(<a href="#ref-nussbaumerknaflic2017" role="doc-biblioref">Nussbaumer Knaflic 2017, 83–86</a>)</span>. Beispielsweise können wir dank der präattentiven Funktion der Farbe einfacher und schneller die Anzahl Dreien in einem Zahlenblock zählen <a href="#fig-ohne_praeattetiven_merkmalen">Abbildung&nbsp;4 (a)</a> und <a href="#fig-mit_praeattetiven_merkmalen">Abbildung&nbsp;4 (b)</a>.</p>
<div id="fig-praeattetiven_merkmalen" class="quarto-layout-panel">
<figure class="figure">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-ohne_praeattetiven_merkmalen" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="images/ohne_praeattentive_merkmale.jpg" class="img-fluid figure-img" data-ref-parent="fig-praeattetiven_merkmalen"></p>
<p></p><figcaption class="figure-caption">(a) Ohne präattentivem Merkmal</figcaption><p></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-mit_praeattetiven_merkmalen" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="images/mit_praeattentive_merkmale.jpg" class="img-fluid figure-img" data-ref-parent="fig-praeattetiven_merkmalen"></p>
<p></p><figcaption class="figure-caption">(b) Mit präattentivem Merkmal</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p></p><figcaption class="figure-caption">Abbildung&nbsp;4: Zahlen mit und ohne präattentivem Merkmal. Quelle: <span class="citation" data-cites="nussbaumerknaflic2017">(<a href="#ref-nussbaumerknaflic2017" role="doc-biblioref">Nussbaumer Knaflic 2017, 86</a>)</span></figcaption><p></p>
</figure>
</div>
<p>Die korrekte Verwendung von Farbpaletten und ihre Wichtigkeit für die Kommunikation mit Datenvisualisierungen betrifft neben der Interpretation der Diagrammen auch die Berücksichtigung der Farbenblindheit <span class="citation" data-cites="hawkins2015 bartram2017">(<a href="#ref-hawkins2015" role="doc-biblioref">Hawkins 2015</a>; <a href="#ref-bartram2017" role="doc-biblioref">Bartram, Patra, und Stone 2017</a>)</span>. Die wichtigsten Aufgaben von Farben ist die Unterscheidung von Datengruppen (wie bei <a href="#fig-mit_praeattetiven_merkmalen">Abbildung&nbsp;4 (b)</a> ), das Darstellen von Datenwerten oder die Hervorhebung von Datenpunkte. Bei <a href="#fig-abfall_zh">Abbildung&nbsp;2</a> dient die Farbe als Unterscheidungsmerkmal der einzelnen Gemeinden. Bei der Anwendung von Farbe als Unterscheidungsmerkmal werden qualitative Farbskalen verwendet. Das heisst, die Anzahl Farben ist endlich, sie unterscheiden sich voneinander und sind gleichwertig zueinander. Folglich darf keine Farbe dominanter als die andere sein und der Eindruck einer Reihenfolge muss vermieden werden <span class="citation" data-cites="wilke2020">(<a href="#ref-wilke2020" role="doc-biblioref">Wilke 2020, 25–26</a>)</span>. Die Okabe Ito Farbskala <span class="citation" data-cites="okabe">(<a href="#ref-okabe" role="doc-biblioref">Okabe und Ito 2008</a>)</span> ist eine bekannte Standardskala welche die beschriebenen Voraussetzungen erfüllt und Farbenblindheit berücksichtigt. Rund acht Prozent der Männer und ein halbes Prozent der Frauen sind farbenblind, wodurch sie Rottöne und Grüntöne nur schlecht unterscheiden können.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> Um positive und negative Punkte trotzdem mit Farben hervorzuheben wird oft blau für positive Werte und orange für negative Werte verwendet <span class="citation" data-cites="nussbaumerknaflic2017">(<a href="#ref-nussbaumerknaflic2017" role="doc-biblioref">Nussbaumer Knaflic 2017, 101–2</a>)</span>. Um quantitative Datenwerte darzustellen werden sequenzielle Farbskalen verwendet, bei denen erkennbar ist, welcher Wert grösser oder kleiner ist. Damit abgeschätzt werden kann, wie weit zwei Werte voneinander entfernt sind, müssen sich die Farbabstuffungen gleichmässig über den gesamten Bereich verändern. Das ist sowohl mit einem einzelnen Farbton wie auch mit mehreren Farbtönen möglich. Werden quantitative Datenwerte relativ zu einem neutralen Mittelpunkt visualisiert, wird eine divergente Farbskala verwendet. Beispielsweise bei einer Variable mit positiven als auch negativen Werten <span class="citation" data-cites="wilke2020">(<a href="#ref-wilke2020" role="doc-biblioref">Wilke 2020, 27–28</a>)</span>.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">swatchplot</span>(</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Qualitative 1"</span>              <span class="ot">=</span> <span class="fu">qualitative_hcl</span>(<span class="at">n =</span> <span class="dv">5</span>, <span class="at">palette =</span> <span class="st">"Dark 3"</span>),</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Qualitative 2"</span>              <span class="ot">=</span> <span class="fu">qualitative_hcl</span>(<span class="at">n =</span> <span class="dv">5</span>, <span class="at">palette =</span> <span class="st">"Pastel 1"</span>),</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Sequenziell</span><span class="sc">\n</span><span class="st">einfarbig"</span>     <span class="ot">=</span> <span class="fu">sequential_hcl</span>(<span class="at">n =</span> <span class="dv">5</span>, <span class="at">palette =</span> <span class="st">"Blues"</span>),</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Sequenziell</span><span class="sc">\n</span><span class="st">mehrfarbig"</span>    <span class="ot">=</span> <span class="fu">sequential_hcl</span>(<span class="at">n =</span> <span class="dv">5</span>, <span class="at">palette =</span> <span class="st">"YlOrRd"</span>),</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Divergent"</span>                  <span class="ot">=</span> <span class="fu">diverging_hcl</span>(<span class="at">n =</span> <span class="dv">5</span>, <span class="at">palette =</span> <span class="st">"Green-Brown"</span>),</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">off =</span> <span class="dv">0</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-farbskalen" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="index_files/figure-html/fig-farbskalen-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption class="figure-caption">Abbildung&nbsp;5: Das R Paket colorspace <span class="citation" data-cites="zeileis2020">(<a href="#ref-zeileis2020" role="doc-biblioref">Zeileis u.&nbsp;a. 2020</a>)</span> ist ein flexibles Werkzeug um eigene Farbpaletten zu erstellen (beispielsweise eine Okabe Ito Farbskala) oder auf bestehende Skalen zuzugreifen. Eigene Darstellung.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>Wann ist der Einsatz von Farbe sinnvoll? Immer dann wenn sie dem Publikum das Lesen des Diagramms erleichtert. Farbe muss nicht unterhalten, sondern ein Signal senden. Verändert sich etwas in der Grafik oder gibt es einen wichtigen Punkt zu beachten? Dann muss das Publikum auf diesen Umstand aufmerksam gemacht werden. Das geht nur, wenn die Farben zurückhaltend und durchgehend sind, also nicht in jeder Visualisierung eine andere Farbe verwendet wird. Die kognitive Belastung reduziert sich, wenn die Bedeutung einer Farbe innerhalb eines Visualisierungsportfolio (beispielsweise in einem Paper oder in einer Präsentation) gleich bleibt <span class="citation" data-cites="nussbaumerknaflic2017">(<a href="#ref-nussbaumerknaflic2017" role="doc-biblioref">Nussbaumer Knaflic 2017, 100–101</a>)</span>. Ansonsten besteht nicht nur die Gefahr, dass das Publikum verwirrt sondern gar aktiv in die Irre geführt wird <span class="citation" data-cites="borland2007">(<a href="#ref-borland2007" role="doc-biblioref">Borland und Taylor Ii 2007, 15</a>)</span>.</p>
</section>
<section id="sec-gestaltungsprizipien-in-datenvisualisierungen" class="level2">
<h2 class="anchored" data-anchor-id="sec-gestaltungsprizipien-in-datenvisualisierungen">Gestaltungsprizipien in Datenvisualisierungen</h2>
<p>Die Aufnahme von Informationen ist für das Gehirn eine mentale Anstrengung. Die Gehirnkapazität des Publikums ist begrenzt, daher muss die kognitive Belastung bewusst und effektiv gestaltet sein. Das bedeutet, relevanten Informationen müssen mit möglichst geringer wahrgenommener kognitiver Belastung kommuniziert werden. Dafür müssen die Signale (die Informationen, die vermittelt werden) gestärkt und das Rauschen (Elemente die von der Information ablenken) reduziert werden. Das Diagramm soll eingänglich und einfach erscheinen. Komplizierte Grafiken können das Publikum abschrecken und ihre Aufmerksamkeit geht verloren. Die Gestaltprinzipien der visuellen Wahrnehmung helfen die Signale einer Grafik zu erkennen und Rauschen zu minimieren. Damit die Botschaft der präsentierten Daten einfach erkennbar ist <span class="citation" data-cites="nussbaumerknaflic2017">(<a href="#ref-nussbaumerknaflic2017" role="doc-biblioref">Nussbaumer Knaflic 2017, 61–63</a>)</span>. Die Überlegungen und Grafiken zu den Gestaltprinzipien folgen den Ausführungen von Nussbaumer Knaflic <span class="citation" data-cites="nussbaumerknaflic2017">(<a href="#ref-nussbaumerknaflic2017" role="doc-biblioref">2017</a>)</span> im Kapitel <em>Gestaltprinzipien der visuellen Wahrnehmung</em>:</p>
<div id="fig-naehe" class="quarto-layout-panel" data-fig-pos="H">
<figure class="figure">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="images/gestaltprinzip_naehe.jpg" class="img-fluid figure-img"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="images/gestaltprinzip_naehe2.jpg" class="img-fluid figure-img"></p>
</div>
</div>
<p></p><figcaption class="figure-caption">Abbildung&nbsp;6: Das Gestaltprinzip der Nähe.</figcaption><p></p>
</figure>
</div>
<p>Durch die physische Nähe der Punkte, werden sie als zusammengehörig wahrgenommen. Dank der Anordnung und Nutzung von Zwischenräumen sehen die Augen Gruppen, Linien etc.. Bei den vertikalen Reihen ist der Weissraum (Zwischenräume) grösser zwischen den nebeneinander liegenden Punkten und bei den horizontalen Reihen zwischen den oberen und unteren Punkten.</p>
<div id="fig-aehnlichkeit" class="quarto-layout-panel" data-fig-pos="H">
<figure class="figure">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="images/gestaltprinzip_aehnlichkeit.jpg" class="img-fluid figure-img"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="images/gestaltprinzip_aehnlichkeit2.jpg" class="img-fluid figure-img"></p>
</div>
</div>
<p></p><figcaption class="figure-caption">Abbildung&nbsp;7: Das Gestaltprinzip der Ähnlichkeit.</figcaption><p></p>
</figure>
</div>
<p>Haben Objekte eine ähnliche Erscheinung (Form, Farbe, Grösse, etc) so stellt unser Gehirn eine Verbindung zwischen diesen Punkten her. Damit kann dem Publikum wichtige Interpretationshilfe geboten werden und die kognitive Belastung ist tief. Beispielsweise sehen wir durch die Färbung der Punkte in der zweiten Grafik Linien.</p>
<div id="fig-umrandung" class="quarto-layout-panel" data-fig-pos="H">
<figure class="figure">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="images/gestaltprinzip_umrandung.jpg" class="img-fluid figure-img"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="images/gestaltprinzip_umrandung2.jpg" class="img-fluid figure-img"></p>
</div>
</div>
<p></p><figcaption class="figure-caption">Abbildung&nbsp;8: Das Gestaltprinzip der Umrandung</figcaption><p></p>
</figure>
</div>
<p>Durch einen Rahmen werden Teilemengen einfach als Gruppe identifiziert. Die Fläche kann schattiert oder klassisch mit Linien umrandet werden. Die Umrandung ist hilfreich zur Unterscheidung von unterschiedlichen (Daten-) Bereichen.</p>
<div id="fig-form" class="quarto-layout-panel" data-fig-pos="H">
<figure class="figure">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="images/gestaltprinzip_form.jpg" class="img-fluid figure-img"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="images/gestaltprinzip_form2.jpg" class="img-fluid figure-img"></p>
</div>
</div>
<p></p><figcaption class="figure-caption">Abbildung&nbsp;9: Das Gestaltprinzip der Form.</figcaption><p></p>
</figure>
</div>
<p>Unser Hirn neigt dazu, einzelne Elemente in einer Reihe wenn möglich als ein einzige Form wahrzunehmen. Trotz der Lücken in der Kreisform erkennt unser Gehirn einen Kreis, indem er die fehlenden Teile ausfüllt. Dazu muss das Konstrukt aber bekannt und eine einfach Darstellung sein. Dank dem Konzept der Form erkennen wir auch, die Zusammengehörigkeit einer Grafik ohne einen Rahmen. Gleichzeitig wird das Rauschen reduziert und die Daten hervorgehoben.</p>
<div id="fig-kontinuitaet" class="quarto-layout-panel" data-fig-pos="H">
<figure class="figure">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="images/gestaltprinzip_kontinuitaet.jpg" class="img-fluid figure-img"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="images/gestaltprinzip_kontinuitaet2.jpg" class="img-fluid figure-img"></p>
</div>
</div>
<p></p><figcaption class="figure-caption">Abbildung&nbsp;10: Das Gestaltprinzip der Kontinuität.</figcaption><p></p>
</figure>
</div>
<p>Unser Gehirn sucht in Objekten die Kontinuität und das Bekannte. Daher erwarten die meisten Menschen beim Auseinander nehmen des Bildes 1, das Bild 2, obwohl es genauso gut Bild 3 sein könnte <span class="citation" data-cites="kanizsa1970">(vgl. auch <a href="#ref-kanizsa1970" role="doc-biblioref">Kanizsa 1970</a>)</span>. Im Balkendiagramm wird kein y-Achse benötigt, da unser Hirn die Linie selber zeichnet und erkennt, dass alle Balken am gleichen Punkt starten. Da die Distanz bzw. der Weissraum zwischen der Beschriftung (links) und den dargestellten Daten (rechtes) überall identisch ist, wird eine Linie signalisiert.</p>
<div id="fig-verbindung" class="quarto-layout-panel" data-fig-pos="H">
<figure class="figure">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="images/gestaltprinzip_verbindung.jpg" class="img-fluid figure-img"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="images/gestaltprinzip_verbindung2.jpg" class="img-fluid figure-img"></p>
</div>
</div>
<p></p><figcaption class="figure-caption">Abbildung&nbsp;11: Das Gestaltprinzip der Verbindung.</figcaption><p></p>
</figure>
</div>
<p>Das Gestaltprinzip der Verbindung ist stärker als das Prinzip der Ähnlichkeit und schwächer als die Umrandung. Das heisst, die Zusammengehörigkeit von verbundenen Elemente ist stärker als die gleiche Farbe, Grösse oder Form. Eine Umrandung besitzt jedoch eine höhere visuelle Hirarchie als die Verbindung, wodurch die Objekte in einem Rahmen zusammengehörig wahrgenommen werden obwohl sie mit einem anderen Objekten verbunden sind. Verbindungen helfen, den Datenpunkten eine Ordnung zu geben und wird unter anderem bei Liniendiagrammen eingesetzt. Die meisten Liniendiagramme bestehen aus einzelnen Datenpunkten, welche erst dank dem Gestaltprinzip der Verbindung als Kontinuum erkennbar sind.</p>
</section>
<section id="mit-daten-geschichten-erzählen" class="level2">
<h2 class="anchored" data-anchor-id="mit-daten-geschichten-erzählen">Mit Daten Geschichten erzählen</h2>
<p>Die Vermittlung von Analysen ist üblicherweise der einzige Teil, welcher das Publikum zu sehen bekommt von einer Datenanalyse. Folglich sollte dieser Schritt möglichst erfolgreich und nachhaltig gestaltet sein. Damit das erreicht wird, muss der Wechsel von der erforschenden Analyse zur erklärenden Analyse erfolgen. Die erforschende Analyse ist der Prozess, welcher zu neuem Verständnis und neuen Erkenntnissen führt. Bei der Vermittlung der Resultate kann aber nicht der gesamte analytische Prozess wiedergeben werden, daher ist es wichtig einen erklärenden Ansatz anzuwenden. Hier wird eine bestimmte Erkenntnis erklärt und analysiert, die für das Publikum und die gegebene Situation wichtig ist <span class="citation" data-cites="nussbaumerknaflic2017">(<a href="#ref-nussbaumerknaflic2017" role="doc-biblioref">Nussbaumer Knaflic 2017, 17</a>)</span>.</p>
<div id="tbl-erforschen-erklaeren" class="anchored">
<table class="table">
<caption>Tabelle&nbsp;4: Die zwei Arten der Analyse. Quelle: <span class="citation" data-cites="dykes2020">Dykes (<a href="#ref-dykes2020" role="doc-biblioref">2020</a>)</span>, S. 138. Eigene Anpassungen.</caption>
<colgroup>
<col style="width: 38%">
<col style="width: 33%">
<col style="width: 27%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">erforschende Analyse</th>
<th style="text-align: left;">erklärende Analyse</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Ziel</td>
<td style="text-align: left;">Verstehen</td>
<td style="text-align: left;">Kommunizieren<br>
</td>
</tr>
<tr class="even">
<td style="text-align: left;">Publikum</td>
<td style="text-align: left;">Analyst:in (sich selbst)</td>
<td style="text-align: left;">andere Personen<br>
</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Vertrautheit des Publikums mit den Daten</td>
<td style="text-align: left;">Sehr vertraut</td>
<td style="text-align: left;">Nicht bis wenige vertraut<br>
</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fokus der Visualisierung</td>
<td style="text-align: left;">Flexibel und schnell</td>
<td style="text-align: left;">Einfach, klar und schlüssig<br>
</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Erzählung</td>
<td style="text-align: left;">Unbekannt</td>
<td style="text-align: left;">Bekannt<br>
</td>
</tr>
<tr class="even">
<td style="text-align: left;">Resultat</td>
<td style="text-align: left;">Insight (Verständnis &amp; Erkenntnis)</td>
<td style="text-align: left;">Aktion</td>
</tr>
</tbody>
</table>
</div>
<p>In der Forschung ist die erklärende Position die Beantwortung der Forschungsfrage und im geschäftlichen Umfeld beispielsweise die Erklärung, weshalb der Pendenzenstand im Team A zugenommen hat. Um die Fragen zu beantworten, werden eine Vielzahl von erforschenden Analysen durchgeführt, aber nur einige wenige geben Informationen um die Fragestellung zu beantworten. Auf diese Informationen wird bei der erklärenden Analyse eingegangen. Damit die Argumente überzeugen und die Erkenntnisse in Erinnerung bleiben, wird eine packende Geschichte benötigt. Die Erzählung einer Geschichte hilft, die gewonnen Fakten aus der erforschenden Analyse bei der erklärenden Analyse dem Publikum interessant und nachvollziehbar zu präsentieren. Damit das möglich ist, muss der Kontext eruiert werden. Wer ist das Publikum und in welcher Rolle stehe ich zum Zielpublikum? Je nach Situation muss eine andere Kommunikation gewählt werden, damit die Geschichte ihr Ziel erreicht. Was soll das Publikum wissen? Erkennen was für das Publikum spannend und relevant ist. Hier wir die Handlung der Geschichte definiert. Dabei muss immer die Frage beantwortet werden, weshalb soll sich das Publikum für die Geschichte interessieren. Wie kann die Frage beantwortet werden? Bei diesem Schritt werden die Daten ausgewählt, welche die Geschichte untermauern und plausibilisieren <span class="citation" data-cites="nussbaumerknaflic2017">(<a href="#ref-nussbaumerknaflic2017" role="doc-biblioref">Nussbaumer Knaflic 2017, 18–23</a>)</span>.</p>
<p>Was aber ist eine Geschichte? Bei einer Geschichte werden Beobachtungen, Erkenntnisse und Ereignisse in eine bestimmte Reihenfolge gebracht, mit dem Ziel beim Publikum eine emotionale Wirkung zu erzielen. Durch den Aufbau einer Spannung am Anfang und der Lösung am Ende der Geschichte wird das Publikum gefesselt, was eine emotionale Reaktion auslöst <span class="citation" data-cites="wilke2020">(<a href="#ref-wilke2020" role="doc-biblioref">Wilke 2020, 304</a>)</span>. Neben der Wiederholung ist die emotionale Wirkung der Geschichte durch den Spannungsbogen wichtig, damit sie in unserem Gedächtnis bleibt. Es gibt eine Vielzahl von narrativen Strukturen und Methoden des Storytellings, sei es im Theater, im Film oder bei Texten. Eine einfache Methode für das Data Storytelling ist das Muster Anfang-Mitte-Ende, welches dem klassischen Narrativ eines Forschungspaper (Einleitung-Hauptteil-Schlussfolgerung) gleicht. Am Anfang wir die Handlung eingeführt und eine Auslegeordnung gemacht, damit das Publikum erkennt, weshalb die Geschichte wichtig für sie ist. Was ist der Kontext, welches sind die Schlüsselpunkte, was ist das Problem und was ist die gewünschte Lösung? In der Mitte muss das Publikum von einem Sachstand überzeugt werden. Deshalb steht das <em>wie</em> der Problemlösung im Zentrum. Dafür wird das Thema in seinen Details (Hintergrundinformationen, Vergleiche, Szenarien, mögliche Problemlösungen) dargestellt. Am Ende wird auf die Ausgangslage Bezug genommen und eine Handlungsempfehlung abgegeben. Über den ganzen Prozess hinweg steht immer das Publikum im Mittelpunkt: Warum ist es relevant für sie? Was stösst auf Resonanz und motiviert? Dabei steht jedes Mal der gleiche Inhalt zur Debatte, lediglich aus unterschiedlichen Perspektiven (Einführen, Details, Zusammenfassen) <span class="citation" data-cites="nussbaumerknaflic2017">(<a href="#ref-nussbaumerknaflic2017" role="doc-biblioref">Nussbaumer Knaflic 2017, 146–49</a>)</span>.</p>
<p>Bei der Integration von Datenvisualisierungen in Geschichte müssen gewisse Punkte berücksichtigt werden. Erstens kann eine einzelne Visualisierung keine ganze Geschichte erzählen. Damit mit Visualisierung eine Geschichte erzählt werden kann, benötigt es mehrere Diagramme. Je Station des Storytellings benötigt es in der Regel mindestens eine Grafik. Sowenig in Textform der Anfang, die Mitte und das Ende einer Geschichte in einem Satz sinnvoll dargelegt werden kann, kann dies auch keine Visualisierung erreichen <span class="citation" data-cites="wilke2020">(<a href="#ref-wilke2020" role="doc-biblioref">Wilke 2020, 305</a>)</span>. Damit die Visualisierung (Form) den gewünschten Effekt (Funktion) auslöst, muss die Form (Visualisierung) der Funktion (Effekt) folgen. Das heisst, die Visualisierung soll etwas auslösen, damit das funktioniert, benötigt sie eine vorher definierte Funktion (Was soll die Grafik machen?). Um die Funktion des Diagramms zu zeigen, muss dem Publikum gezeigt werden, wie es mit der Darstellung umgehen soll. Die wichtigste Methode dafür ist bei der Datenvisualisierung die Verwendung von Farben (vgl. <a href="#sec-farben-als-steuerungsinstrument">Kapitel&nbsp;2.2</a>). Damit die Hervorhebung seine Wirkung entfalten kann, ist es wichtig sparsam mit diesem Tool umzugehen <span class="citation" data-cites="nussbaumerknaflic2017">(<a href="#ref-nussbaumerknaflic2017" role="doc-biblioref">Nussbaumer Knaflic 2017, 107–9</a>)</span>. Zudem muss die Visualisierung zugänglich sein. Nicht das Publikum ist verantwortlich, dass es die Grafik versteht sondern die Autorschaft. Das wird erreicht durch ein verständliches Design (keine unnötige Komplexität), Lesbarkeit (Schriftart und Grösse), Klarheit (wichtiges wird hervorgehoben) und einfache Sprache (Publikum angepasst). Das Publikum muss durch das Diagramm geführt werden, dazu sind Titel, Achsenbeschriftungen und direkte Annotationen notwendig <span class="citation" data-cites="nussbaumerknaflic2017">(<a href="#ref-nussbaumerknaflic2017" role="doc-biblioref">Nussbaumer Knaflic 2017, 118–19</a>)</span>. Werden alle diese Punkte berücksichtige und alle Elemente folgen einer visuellen Ordnung, dann hat das Diagramm eine ansprechende Ästhetik, wodurch das Vertrauen des Publikums gewonnen wird [<span class="citation" data-cites="nussbaumerknaflic2017">Nussbaumer Knaflic (<a href="#ref-nussbaumerknaflic2017" role="doc-biblioref">2017</a>)</span>, S. 68; S. 123].</p>
</section>
</section>
<section id="vorgehen-methode" class="level1">
<h1>Vorgehen Methode</h1>
<section id="tidy-data-als-basis-von-datenvisualisierungen" class="level2">
<h2 class="anchored" data-anchor-id="tidy-data-als-basis-von-datenvisualisierungen">Tidy Data als Basis von Datenvisualisierungen</h2>
<p>Für die effiziente Anwendung von Datenvisualisierungen müssen die Daten als <em>Tidy Data</em> <span class="citation" data-cites="wickham2014">(<a href="#ref-wickham2014" role="doc-biblioref">H. Wickham 2014</a>)</span> aufbereitet sein. Folgende Kriterien müssen gemäss Wickham <span class="citation" data-cites="wickham2014">(<a href="#ref-wickham2014" role="doc-biblioref">2014, 4</a>)</span> erfüllt sein, damit ein Datensatz dem Grundsatz Tidy Data entspricht:</p>
<ol type="1">
<li><p>Jede Variable hat eine eigene Spalte.</p></li>
<li><p>Jede Beobachtung hat eine eigene Zeile.</p></li>
<li><p>Jeder Wert hat eine eigene Zelle.</p></li>
</ol>
<div id="fig-tidy-data-struktur" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="images/image-192429895.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Abbildung&nbsp;12: Bei einem tidy Datenset sind Variablen in Spalten, Beobachtungen in Zeilen und Werte in Zellen gespeichert. Quelle: <span class="citation" data-cites="wickham2016">H. Wickham und Grolemund (<a href="#ref-wickham2016" role="doc-biblioref">2016</a>)</span>, S. 149.</figcaption><p></p>
</figure>
</div>
<p>Die Standardisierung der Organisation von Datenwerten in einem Datensatz vereinfacht die Datenanalyse. Die Datenstruktur (Zweidimensionale Tabelle mit Spalten und Zeilen) wird beim Tidy Data Ansatz mit einer Semantik (Variablen, Beobachtungen, Werte) verknüpft. Es ist nicht immer einfach herauszufinden, was Beobachtungen und was Variablen sind. Um die Variablen und Beobachtungen für eine Datenanalyse herauszufinden, gilt der Grundsatz: Beziehungen lassen sich einfacher zwischen Variablen beschreiben und Vergleiche zwischen Gruppen von Beobachtungen <span class="citation" data-cites="wickham2014">(<a href="#ref-wickham2014" role="doc-biblioref">H. Wickham 2014, 3–4</a>)</span>.</p>
<div id="fig-tidy-data" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="images/tidy_data.jpg" class="img-fluid figure-img" alt="There are two sets of anthropomorphized data tables. The top group of three tables are all rectangular and smiling, with a shared speech bubble reading “our columns are variables and our rows are observations!”. Text to the left of that group reads “The standard structure of tidy data means that “tidy datasets are all alike…” The lower group of four tables are all different shapes, look ragged and concerned, and have different speech bubbles reading (from left to right) “my column are values and my rows are variables”, “I have variables in columns AND in rows”, “I have multiple variables in a single column”, and “I don’t even KNOW what my deal is.” Next to the frazzled data tables is text “...but every messy dataset is messy in its own way."></p>
<p></p><figcaption class="figure-caption">Abbildung&nbsp;13: Ordnung durch Tidy Data. Quelle: <span class="citation" data-cites="lowndes2020">Lowndes und Horst (<a href="#ref-lowndes2020" role="doc-biblioref">2020</a>)</span></figcaption><p></p>
</figure>
</div>
<p>Abgesehen, dass mit Tidy Data eine konsistente Methode für die Datenspeicherung verwendet wird, kann R die Vorteile einer vektorisierten Programmiersprache so optimal ausschöpfen <span class="citation" data-cites="wickham2016">(<a href="#ref-wickham2016" role="doc-biblioref">H. Wickham und Grolemund 2016, 150</a>)</span>. Vektorisiert bedeutet, dass eine Funktion einen Vektor mit Werten als Input nimmt und einen Vektor mit der gleichen Anzahl an Werten als Output retourniert <span class="citation" data-cites="wickham2016">(<a href="#ref-wickham2016" role="doc-biblioref">H. Wickham und Grolemund 2016, 56</a>)</span>. Tidy Data entspricht einem langen Datenformat. Dadurch entsteht eine Redundanz an Werten, was bei der Speicherung von Daten nicht gewünscht ist, aber die Datenanalyse vereinfacht <span class="citation" data-cites="healy2018">(<a href="#ref-healy2018" role="doc-biblioref">Healy 2018, 56</a>)</span>.</p>
</section>
<section id="sec-die-beziehung-von-daten-und-visualiserungen-mit-grammer-of-graphics" class="level2">
<h2 class="anchored" data-anchor-id="sec-die-beziehung-von-daten-und-visualiserungen-mit-grammer-of-graphics">Die Beziehung von Daten und Visualiserungen mit “Grammer of Graphics”</h2>
<p>Die Datenvisualisierungen im entwickelten Paket {<strong>biviz}</strong> basieren auf dem Paket <strong>{ggplot2}</strong> <span class="citation" data-cites="hadley2016">(<a href="#ref-hadley2016" role="doc-biblioref">H. Wickham 2016</a>)</span>, welches den Ansatz <em>The Grammar of Graphics</em> <span class="citation" data-cites="wilkinson2005">(<a href="#ref-wilkinson2005" role="doc-biblioref">Wilkinson 2005</a>)</span> verfolgt und vektorisiert ist. Durch die Grammer of Graphics werden Beziehungen zwischen den Daten und ihrer grafischen Darstellung ausgedrückt und bietet eine einheitliche Möglichkeit Visualisierungen zu erstellen. In der Theorie folgt die Grammer of Graphics sieben Schritten zur Erstellung einer Grafik. Daten werden Variablen zugeordnet. Anschliessend durchlaufen die Variablen drei mögliche Transformationsschritte (Algebra, Skalen, Statistik). Danach werden die transformierten Variablen einem geometrischen Objekt übergeben, damit die Daten eine Form erhalten. Im nächsten Schritt wird das Objekt in einem Koordinatensystem positioniert. Zum Schluss wird ein visuell wahrnehmbares Objekt erstellt, das Grafik heisst <span class="citation" data-cites="wilkinson2012">(<a href="#ref-wilkinson2012" role="doc-biblioref">Wilkinson 2012, 376–77</a>)</span>. Diese strukturierte Beziehung zwischen den Datenvariablen und deren Repräsentation in einer Grafik macht sich das Paket {ggplot2} zu eigen um Diagramme zu erstellen. Dazu werden zuerst die Daten definiert, anschliessend wird das visuelle Element gewählt und am Ende werden die Details einer Visualisierung angepasst. Das heisst, ein Code mit {ggplot2} folgt bei der Erstellung einer Grafik einer logischen Struktur. Es werden Verbindungen zwischen den Datenvariablen und den Skalen der grafischen Elementen (Farbe, Form, Position, Grösse) einer Visualisierung hergestellt. Diese Verbindungen heissen <em>aesthetics</em> (vgl. <a href="#sec-von-datenwerten-zu-visualisierung">Kapitel&nbsp;2</a>). Am Ende des Datenvisualisierungsprozess wird diese Verbindung in eine Grafik umgewandelt. Damit eine solche Verbindung entstehen kann, werden in der Funktion <code>ggplot()</code> die Daten sowie die Beziehung zwischen den Datenvariablen und dem <em>mapping</em> auf die aesthetics definiert. Anschliessend wird dem Programm gesagt, welcher Diagrammtyp (Balkendiagramm, Streudiagramm, etc.) dargestellt werden soll. Diagrammtypen werden anhand der <em>geom</em> definiert. Mit dem geom wird gesagt, welches geometrische Objekt (Balken, Punkte, etc.) für das Diagramm benutzt wird. Das heisst Balkendiagramme werden mit <code>geom_bar()</code> oder Streudiagramme mit <code>geom_point()</code> erzeugt. Diese Abfolge von Code reicht, damit {ggplot2} eine Grafik erstellen kann. Um mehr Details der Grafik, wie Achsen, Skalen oder Beschriftungen zu kontrollieren, werden weitere Codestücke hinzugefügt. Dafür wird die gleiche Logik wie beim Definieren der Diagrammtypen benutzt <span class="citation" data-cites="healy2018">(<a href="#ref-healy2018" role="doc-biblioref">Healy 2018, 54–56</a>)</span>. Viele Schritte der Grammer of Graphics haben bei {ggplot2} abhängig von den Daten und dem gewählten geom eine Voreinstellung, beispielsweise bei den Transformationsschritten und dem Koordinatensystem. Die Einstellungen können aber manuell angepasst werden. Jeder Teilaspekt hat eine eigene Funktion, welche Argumente besitzt, die spezifizieren was an der Grafik angepasst wird.</p>
<p>Durch die Zerstückelung der einzelnen Schritte der Erstellung einer Datenvisualisierung, kann systematisch Stück für Stück eine individuelle Grafik erstellt werden. Dabei basieren die unterschiedlichen Grafiktypen immer auf den oben beschriebenen Grundspezifikationen. Am Ende besteht ein Diagramm immer aus einer Kombination von drei Quellen: 1. Daten, dessen Datenwerte durch das geom dargestellt werden. 2. Skalen und Koordinatensystem um die Daten in eine Grafik abzubilden. 3. Erläuterungen wie Labels oder Titel damit die Grafik interpretierbar wird <span class="citation" data-cites="wickham2010">(<a href="#ref-wickham2010" role="doc-biblioref">H. Wickham 2010, 4–5</a>)</span>.</p>
<p>Die Umsetzung in {ggplot2} folgt immer dem gleichen Konzept <span class="citation" data-cites="healy2018">(<a href="#ref-healy2018" role="doc-biblioref">Healy 2018, 60</a>)</span>:</p>
<ol type="1">
<li>Daten als Tidy Data aufbereiten.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Step 1: Tidy Data</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>ggplot2<span class="sc">::</span>mpg <span class="sc">|&gt;</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(manufacturer<span class="sc">:</span>cyl, class) <span class="sc">|&gt;</span> </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="sc">|&gt;</span> </span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">manufacturer</th>
<th style="text-align: left;">model</th>
<th style="text-align: right;">displ</th>
<th style="text-align: right;">year</th>
<th style="text-align: right;">cyl</th>
<th style="text-align: left;">class</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">audi</td>
<td style="text-align: left;">a4</td>
<td style="text-align: right;">1.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="even">
<td style="text-align: left;">audi</td>
<td style="text-align: left;">a4</td>
<td style="text-align: right;">1.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">audi</td>
<td style="text-align: left;">a4</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="even">
<td style="text-align: left;">audi</td>
<td style="text-align: left;">a4</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">2008</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="odd">
<td style="text-align: left;">audi</td>
<td style="text-align: left;">a4</td>
<td style="text-align: right;">2.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">compact</td>
</tr>
<tr class="even">
<td style="text-align: left;">audi</td>
<td style="text-align: left;">a4</td>
<td style="text-align: right;">2.8</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">compact</td>
</tr>
</tbody>
</table>
</div>
</div>
<ol start="2" type="1">
<li>Daten definieren und entscheiden welche Beziehung abgebildet werden sollen.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Step 2: Mapping</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>plot <span class="ot">&lt;-</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">data =</span> mpg,</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> class)) <span class="co"># aesthetics</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>plot</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ol start="3" type="1">
<li>Wahl des geometrischen Objekts. Es sind mehrere Layer möglich. Die aesthetics können je geom in der <code>geom_*()</code> Funktion angepasst werden.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Step 3: Geom</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>plot <span class="ot">&lt;-</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  plot <span class="sc">+</span> </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>plot</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ol start="4" type="1">
<li>Kontrolle von Details im Diagramm inkl. Koordinatensystem. Default ist das kartesische Koordinatensystem <span class="citation" data-cites="wilke2020">(<a href="#ref-wilke2020" role="doc-biblioref">Wilke 2020, 13</a>)</span>.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Step 4: Details</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>plot <span class="ot">&lt;-</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  plot <span class="sc">+</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>)) <span class="sc">+</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"SUVs sind die grösste Gruppe von Fahrzeugtypen"</span>,</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Autotyp"</span>,</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Anzahl"</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  cowplot<span class="sc">::</span><span class="fu">theme_minimal_hgrid</span>()</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>plot</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="624"></p>
</div>
</div>
</section>
</section>
<section id="r-paket-entwicklung" class="level1">
<h1>R-Paket Entwicklung</h1>
<section id="struktur-im-prozess" class="level2">
<h2 class="anchored" data-anchor-id="struktur-im-prozess">Struktur im Prozess</h2>
<p>Zu Beginn des Entwicklungsprozesses standen organisatorische Entscheide im Fokus. Zum einen musste die Ordnerstruktur des Pakets bestimmt und zum anderen eine Strategie für die Benennung der Funktionen definiert werden. Beide Aspekte helfen eine Struktur im Paket zu etablieren. Die Ordnerstruktur im {biviz} Paket folgt der Empfehlung von Bannert <span class="citation" data-cites="bannert2022">(<a href="#ref-bannert2022" role="doc-biblioref">Bannert 2022, Kap. 3.2.5</a>)</span>:</p>
<ul>
<li><p>R</p>
<p>Hier werden die Skripts der Funktionen gespeichert. Die einzelne Funktionen des Pakets werden thematisch in einer Datei zusammengefasst. Dank dem Paket {<strong>roxygen2}</strong> <span class="citation" data-cites="hadleywickham2022">(<a href="#ref-hadleywickham2022" role="doc-biblioref">H. Wickham, Danenberg, u.&nbsp;a. 2022a</a>)</span> kann die Dokumentation der Funktionen gleich im selben Skript wie die Funktionen geschrieben werden. Mit dem Paket {<strong>devtools}</strong> <span class="citation" data-cites="hadleywickham2022a">(<a href="#ref-hadleywickham2022a" role="doc-biblioref">H. Wickham, Hester, u.&nbsp;a. 2022a</a>)</span> werden automatisch alle relevanten Dateien für die Dokumentation erzeugt. {devtools} erstellt diesen Ordner automatisch.</p></li>
<li><p>man</p>
<p>In diesen Ordner wird im Normalfall die automatisch erzeugte Dokumentation abgespeichert und beinhaltet die Funktion- und Datendokumentationen. Diese Dokumentationen werden bei der Anwendung des Pakets mithilfe ?function_name oder help(function_name) aufgerufen. {devtools} erstellt diesen Ordner automatisch.</p></li>
<li><p>data</p>
<p>Damit der Bezug der Daten relativ bleibt, werden sie in einem separaten Ordner abgespeichert. Der relative Bezug auf Daten und Funktionen (R) ist wichtig, damit andere Nutzende das Programm einfach verwenden können und der Pfad nicht aufgrund der persönlichen Ordnerstruktur gebrochen wird. Weitere Details zu relativen Datenpfaden hat Jenny Bryan ein einem Blogpost dargestellt <span class="citation" data-cites="jennybryan2017">(<a href="#ref-jennybryan2017" role="doc-biblioref">Bryan 2017</a>)</span>.</p></li>
<li><p>inst</p>
<p>R Pakete werden in der Regel mit <code>install.packages()</code> installiert und werden irgendwo auf dem Computer auf dem R verwendet wird abgespeichert. Sollen Dateien, welche nicht direkt in Zusammenhang mit dem Paket stehen mitgeliefert werden, dann ist der <em>inst</em> Ordner ein guter Ort dafür. Der Ordner wird im Stammordner des installierten Pakets gespeichert und bleibt so immer in Bezug zum Paket. Der Ordner bietet auch Platz für Sandboxes oder um mit neuen Funktionen zu experimentieren.</p>
<blockquote class="blockquote">
<p><strong>TODO</strong>: docs / vignettes<br>
https://devops-carpentry.github.io/book/programming.html#folder-structure<br>
https://r-pkgs.org/vignettes.html#sec-vignettes-article<br>
https://r-pkgs.org/other-markdown.html<br>
https://r-pkgs.org/lifecycle.html#sec-lifecycle-breaking-change-pros-cons</p>
</blockquote></li>
</ul>
<p>Neben der Ordnerstruktur ist für die stringente Entwicklung und anschliessende Nutzung des Pakets eine einheitliche Syntax wichtig. Für {biviz} wird der snake_case Ansatz verwendet. Beim snake_case werden alle Begriffe in Kleinbuchstaben oder Zahlen verwendet und mit einem Unterstrich (_) verbunden. Neben der Darstellung ist auch der Inhalt wichtig. Gute Namen können bereits eine Form der Dokumentation sein und entsprechend beschreiben was sie repräsentieren. Als Faustregel gilt: Variablen sind Nomen und beschreiben was sie sind (<code>abfallart</code>). Funktionen sind Verben und beschreiben was sie machen (<code>plot_amounts_grouped</code>). <span class="citation" data-cites="hadleywickham2022b">(<a href="#ref-hadleywickham2022b" role="doc-biblioref">H. Wickham 2022</a>)</span> Es hilft sich in Erinnerung zu rufen, dass der Code auch von Menschen gelesen und verstanden werden muss. Für den Computer ist es nicht relevant ob <code>function1()</code> oder <code>compute_max()</code> steht. Für einen Menschen ist es jedoch ein grosser Unterschied und macht den Code verständlicher. Entsprechend soll der Code für Menschen einfach und verständlich gehalten werden.</p>
</section>
<section id="tidy-evaluation" class="level2">
<h2 class="anchored" data-anchor-id="tidy-evaluation">Tidy evaluation</h2>
<p>Im Tidyverse Ecosystem wird Tidy evaluation verwendet, was eine Spezialform des non-standard evaluation ist (mehr Details zu non-standard evaluation <span class="citation" data-cites="wickham2019">(<a href="#ref-wickham2019" role="doc-biblioref">H. Wickham 2019</a>, Abschnitt Metaprogramming)</span>). Für das Paket {biviz} wurde das data masking und tidy selection angewendet. Mit dem <strong>data-masking</strong> können Variablen in bestimmten Funktionen so verwendet werden, als ob sie in der Programmierumgebung bzw. Funktionsumgebung sind. Es reicht dann <code>variable_x</code> zu verwenden anstatt <code>df$variable_x</code>. Mit data-masking verschwimmt die Abgrenzung zwischen env-variables (Variablen fürs Programmieren, welche in R mit <code>&lt;-</code> erstellt werden und Objekte sind) und data-variables (Statistische Variablen, welche in Datentabellen gespeichert sind) <span class="citation" data-cites="wickham2022">(<a href="#ref-wickham2022" role="doc-biblioref">H. Wickham, François, u.&nbsp;a. 2022</a>)</span>. Vereinfacht gesagt, wird durch das data-masking die spezifisch aufgerufene env-variable (im Normalfall eine Datentabelle) zur Programmierumgebung und die data-variable zur env-variable während dem Aufruf der Funktion.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">variable_x =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">3</span>), <span class="at">variable_y =</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>))</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="do">## env-variable</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  variable_x variable_y
       &lt;dbl&gt; &lt;chr&gt;     
1          1 a         
2          1 b         
3          3 c         </code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="do">## data-variable</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>variable_x</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 1 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="do">## ohne tidy evaluation</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>df[df<span class="sc">$</span>variable_x <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> df<span class="sc">$</span>variable_y <span class="sc">==</span> <span class="st">"a"</span>, ]</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  variable_x variable_y
       &lt;dbl&gt; &lt;chr&gt;     
1          1 a         </code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="do">## mit tidy evaluation</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(df, variable_x <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> variable_y <span class="sc">==</span> <span class="st">"a"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  variable_x variable_y
       &lt;dbl&gt; &lt;chr&gt;     
1          1 a         </code></pre>
</div>
</div>
<p>Das tidy evaluation Konzept vereinfacht die interaktive Datenanalyse. Beim Programmieren mit Tools die data-masking benutzen gilt es jedoch gewisse Herausforderungen zu meistern. Beim Schreiben von eigenen Funktionen mit data-variables müssen sie im Code speziell mit {{ variable_x }} (“{{” wird auch curly-curly genannt) aufgerufen werden. Ohne die Einschliessung in {{ sucht R in der Funktionsumgebung bzw. Programmierumgebung nach einer env-variable “variable_x” und findet sie nicht, da variable_x eine data-variable ist, welche eine Spalte im df (env-variable) ist. {{ ist ein Weiterleitungsoperator, wodurch Funktionen mit data-masking welche in der selber geschriebenen Funktion verwendet werden ihr Verhalten in die neue Umgebung mitnehmen <span class="citation" data-cites="henry2022 henry2022a">(<a href="#ref-henry2022" role="doc-biblioref">Henry und Wickham 2022b</a>, <a href="#ref-henry2022a" role="doc-biblioref">2022a</a>)</span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="do">## interaktive Datenanalyse</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">max =</span> <span class="fu">max</span>(variable_x))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
    max
  &lt;dbl&gt;
1     3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Funktionen programmieren</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>compute_max <span class="ot">&lt;-</span>  <span class="cf">function</span>(data, variable) {</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  data <span class="sc">|&gt;</span> </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">max =</span> <span class="fu">max</span>({{ variable }}))</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="fu">compute_max</span>(df, variable_x)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
    max
  &lt;dbl&gt;
1     3</code></pre>
</div>
</div>
<p>Beim <strong>tidy-selection</strong> können in gewissen Funktionen auf die Variablen anhand ihres Namens, Typs oder Position zugegriffen werden. Tidy-selection folgt den gleichen Prinzipien wie data-masking. Folglich gelten die gleichen Regeln wie oben beim data-masking beschrieben <span class="citation" data-cites="wickham2022">(<a href="#ref-wickham2022" role="doc-biblioref">H. Wickham, François, u.&nbsp;a. 2022</a>)</span>.</p>
</section>
</section>
<section id="workflow-für-die-entwickung-von-paketen-in-r" class="level1">
<h1>Workflow für die Entwickung von Paketen in R</h1>
<p>Wie für viele andere Aufgaben gibt es in R Pakete, welche die Entwicklung von eigenen Paketen unterstützen. Diese Pakete werden im {devtools} <span class="citation" data-cites="wickham2022a">(<a href="#ref-wickham2022a" role="doc-biblioref">H. Wickham, Hester, u.&nbsp;a. 2022b</a>)</span> zusammengefasst. Nach dem das Paket devtools installiert und geladen ist, kann der Entwicklungsprozess beginnen. Der hier beschriebene Ablauf orientiert sich am Kapitel <em>The Whole Game</em> der zweiten Edition des Buches R Packages <span class="citation" data-cites="wickham2015a rpackag">(<a href="#ref-wickham2015a" role="doc-biblioref">H. Wickham 2015a</a>; <a href="#ref-rpackag" role="doc-biblioref">J. Wickham Hadley und Bryan 2022</a>)</span> und wird beispielhaft am Toypaket {dogorcat} durchgespielt. Die zweite Edition ist noch nicht veröffentlicht, die work-in-progress Version steht jedoch <a href="https://r-pkgs.org/whole-game.html">online</a> zur Verfügung. In den folgenden Schritten werden die Funktionsaufrufe mit Angabe des spezifischen Pakets angegeben, damit die Herkunft der Funktionen ersichtlich ist.</p>
<section id="schritt-1-initiierung-des-pakets" class="level2">
<h2 class="anchored" data-anchor-id="schritt-1-initiierung-des-pakets">Schritt 1: Initiierung des Pakets</h2>
<p>Als erstes wird mit <code>usethis::create_package("dogorcat")</code> im derzeitigen Arbeitsverzeichnis das Paket erstellen. Alternativ kann auch ein spezifischer Ordner verwendet werden <code>usethis::create_package("C:/Users/Andriu/Documents/dogorcat").</code> Mit <code>usethis::use_git()</code> und <code>usethis::use_github()</code> oder via Tools &gt; Version Control kann ein Git repository sowie die Verbindung zum GitHub repository erstellt werden.</p>
<div id="pkg_development_step_1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="images/pkg_step_1.JPG" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Initiierung des Pakets.</figcaption><p></p>
</figure>
</div>
</section>
<section id="sec-schritt-2-funktionen-schreiben" class="level2">
<h2 class="anchored" data-anchor-id="sec-schritt-2-funktionen-schreiben">Schritt 2: Funktionen schreiben</h2>
<p>Nach der Initiierung des Pakets können Funktionen geschrieben werden. Zuerst wird mit <code>usethis::use_r("dog_or_cat")</code> (kann später auch verwendet werden um das Skript zu öffnen) ein Skriptfile im Ordner R abgespeichert. Dieser Schritt kann natürlich auch manuell erfolgen. Anschliessend wird die Funktion geschrieben. Die Funktionen im {biviz} sind als Familien organisiert. Das heisst, je Thema – beispielsweise Proportions – gibt es eine Datei in der der Quellcode und die Dokumentation von mehreren Funktionen zusammen leben. Der Code kann direkt in der Funktion mit <code>#</code> dokumentiert werden. Wichtig beim Dokumentieren des Codes ist das <em>Warum</em>. Warum mache ich das so, wie ich es mache? Für weitere Details zum Schreiben von Funktionen eignet sich das Kapitel Functions are for Humans and Computers im Buch R for Data Science <span class="citation" data-cites="wickham2016">(<a href="#ref-wickham2016" role="doc-biblioref">H. Wickham und Grolemund 2016</a>)</span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>dog_or_cat <span class="ot">&lt;-</span> <span class="cf">function</span>(favorite) {</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># eine fehlerhafte eingabe soll so früh wie möglich erkannt werden</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stopifnot</span>(<span class="st">"Das Argument 'favorite' muss ein String sein."</span> </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>            <span class="ot">=</span> <span class="fu">is.character</span>(favorite), </span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Kein anderes Haustier möglich. Wähle Dog oder Cat."</span> </span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>            <span class="ot">=</span> favorite <span class="sc">==</span> <span class="st">"dog"</span> <span class="sc">|</span> favorite <span class="sc">==</span> <span class="st">"cat"</span>)</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ifelse</span>(favorite <span class="sc">==</span> <span class="st">"cat"</span>, <span class="st">"Miauu!"</span>, <span class="st">"Woof, woof!"</span>)</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Mit <code>devtools::load_all()</code> (“Ctrl + Shift + L” oder Build &gt; Load All) kann anschliessend das Paket geladen werden und die Funktion steht zur Verfügung.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dog_or_cat</span>(<span class="st">"dog"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Woof, woof!"</code></pre>
</div>
</div>
<p>Mit <code>devtools::check()</code> (“Ctrl + Shift + E” oder Build &gt; Check Package) wird ein R CMD check aufgerufen, welcher prüft ob das Paket funktionsfähig ist. Es ist zu empfehlen <code>devtools::check()</code> regelmässig auszuführen, damit frühzeitig Fehler entdeckt und behoben werden können. Beispielsweise nach dem Schreiben einer neuen Funktion.</p>
</section>
<section id="schritt-3-dokumentation" class="level2">
<h2 class="anchored" data-anchor-id="schritt-3-dokumentation">Schritt 3: Dokumentation</h2>
<p>Als erstes werden die Metadaten für das Paket erfasst. Dazu wird das File <code>DESCRIPTION</code> geöffnet und die relevanten Daten (Paketname, Autor, Licence, etc.) erfasst. Die Lizenz wird am einfachsten mit einem Shortcut wie <code>usethis::use_mit_licences()</code> ausgefüllt.</p>
<p>Anschliessend wird eine Dokumentation für die Funktion erstellt. Dazu wird das Paket {roxygen2} <span class="citation" data-cites="wickham2022b">(<a href="#ref-wickham2022b" role="doc-biblioref">H. Wickham, Danenberg, u.&nbsp;a. 2022b</a>)</span> verwendet. Im Skript mit der Funktion wird der Cursor in der Funktion <code>dog_or_cat</code> platziert und via Code &gt; Insert Roxygen Skeleton das Template aufgerufen. Anschliessend können alle Punkte bearbeitet werden.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' Title</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param favorite </span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="co">#' @return </span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="co">#' @export</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="co">#' @examples</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>dog_or_cat <span class="ot">&lt;-</span> <span class="cf">function</span>(favorite) {</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># eine fehlerhafte eingabe soll so früh wie möglich erkennt werden</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stopifnot</span>(<span class="st">"Das Argument 'favorite' muss ein String sein."</span> </span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>            <span class="ot">=</span> <span class="fu">is.character</span>(favorite), </span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Kein anderes Haustier möglich. Wähle Dog oder Cat."</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>            <span class="ot">=</span> favorite <span class="sc">==</span> <span class="st">"dog"</span> <span class="sc">|</span> favorite <span class="sc">==</span> <span class="st">"cat"</span>)</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ifelse</span>(favorite <span class="sc">==</span> <span class="st">"cat"</span>, <span class="st">"Miauu!"</span>, <span class="st">"Woof, woof!"</span>)</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Nun soll der Dokumentationsteil noch als separate Datei im Ordner <em>man</em> gespeichert werde, damit es später mit <code>?dog_or_cat</code> oder <code>help("dog_or_cat")</code> zur Verfügung steht. Mit <code>devtools::document()</code> (“Ctrl + Shift + D” oder Build &gt; Document) wird in man die Datei dog_or_cat.Rd erstellt.</p>
<p>Die Verwendung von Funktionen aus anderen Paketen muss ebenfalls dokumentiert werden. Dazu wird mit <code>usethis::use_package("pkgname")</code> das Paket in <code>DESCRIPTION</code> als Import angegeben und mit <code>@importFrom</code> in der Dokumentation vermerkt. Alternativ kann auch die Funktion mit <code>pkgname::functionname</code> aufgerufen werden, wodurch das <code>@importFrom</code> hinfällig ist.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' Liebliengshaustier eruieren</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param favorite </span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="co">#' @return Ein character (string) Vektor.</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="co">#' @export</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="co">#' </span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="co">#' @importFrom dplyr</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="co">#' if_else</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="co">#' @examples</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="co">#' dog &lt;- tidy_dog_or_cat("dog")</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a><span class="co">#' dog</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>tidy_dog_or_cat <span class="ot">&lt;-</span> <span class="cf">function</span>(favorite) {</span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># eine fehlerhafte eingabe soll so früh wie möglich erkennt werden</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stopifnot</span>(<span class="st">"Das Argument 'favorite' muss ein String sein."</span> </span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>            <span class="ot">=</span> <span class="fu">is.character</span>(favorite),</span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Kein anderes Haustier möglich. Wähle Dog oder Cat."</span> </span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>            <span class="ot">=</span> favorite <span class="sc">==</span> <span class="st">"dog"</span> <span class="sc">|</span> favorite <span class="sc">==</span> <span class="st">"cat"</span>)</span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">if_else</span>(favorite <span class="sc">==</span> <span class="st">"cat"</span>, <span class="st">"Miauu!"</span>, <span class="st">"Woof, woof!"</span>)</span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Als letztes wird noch ein <code>README</code> für GitHub benötigt. Hier werden der Zweck des Pakets, die Installationsanweisungen und einen kleinen Einblick in die Anwendung des Pakets gegeben. Natürlich können noch weitere Punkte ins <code>README</code> gepackt werden. Am einfachsten wird mit <code>devtools::use_readme_rmd()</code> ein RMakrdown Dokument erstellt, so kann die Seite in gewohnter Umgebung geschrieben werden. Anschliessend wir mit <code>devtools::build_readme()</code> das <code>README.md</code>für GitHub erstellt. Das <code>README</code> ist die Homepage und unterstützt beim Einstieg ins Paket. Später kann auch eine eigene Website erstellt werden.</p>
</section>
<section id="schritt-4-testen" class="level2">
<h2 class="anchored" data-anchor-id="schritt-4-testen">Schritt 4: Testen</h2>
<p>Das Testen der Funktionen ist ein wichtiger Teil der Paketentwicklung. Es ist so wichtig, dass es sich ab einer gewisse Relevanz (Anzahl Funktionen, Anzahl Nutzende, etc.) lohnt die Test zu formalisieren. Mit {<strong>testthat</strong>} <span class="citation" data-cites="wickham2011a">(<a href="#ref-wickham2011a" role="doc-biblioref">H. Wickham 2011</a>)</span> liefert das Paket {devtools} ein Framework, welches das Schreiben von Tests unterstützt. Für das Testen von grafischen Outputs wir zusätzlich noch das Paket {<strong>vdiffr</strong>} <span class="citation" data-cites="henry2023">(<a href="#ref-henry2023" role="doc-biblioref">Henry u.&nbsp;a. 2023</a>)</span> benötigt. Beim Unit Test wird die erwartete Ausgabe eines Codes festgehalten und mit dem tatsächlichen Wert verglichen. Dieser Prozess läuft automatisch auf der Basis von Code. Beim Snaphot testing wird eine Datei erstellt, die von einem Menschen lesbar ist. Bei Datenvisualisierungen – wie im Paket {biviz} – wird das Snaphot testing angewendet. Hier wird ein Bildfile mit der erwarteten Darstellung erstellt. Beim Testen wird anschliessend mit der erwarteten Darstellung abgeglichen. Snapshots test für Grafiken sind anfällig. Aus diesem Grund und da {biviz} noch in der Entwicklungsphase ist, werden die Test bei {biviz} noch informell, also manuell gemacht. Ausgenommen davon sind die standardisierten R CMD checks wie in <a href="#sec-schritt-2-funktionen-schreiben">Kapitel&nbsp;5.2</a> beschrieben. Beim nächsten Entwicklungsschritt, sollen die Tests wie oben beschrieben formalisiert werden.</p>
</section>
<section id="schritt-5-installieren" class="level2">
<h2 class="anchored" data-anchor-id="schritt-5-installieren"><strong>Schritt 5: Installieren</strong></h2>
<p>Vor dem Installieren des Pakets wird nochmals mit <code>devtools::check()</code> alles geprüft und anschliessend mit <code>devtools::install()</code> (oder von GitHub mit <code>devtools::install_github()</code>) installiert. Danach wird das Paket wie alle Pakete mit <code>base::library()</code> verwendet.</p>
<p>Die effektive Entwicklung von Paketen geschieht in den Schritten zwei bis vier. Die Anwendung und Reihenfolge dieser Schritte ist dabei dynamisch.</p>
</section>
</section>
<section id="readme-verwendung-von-biviz" class="level1">
<h1>(README) Verwendung von {biviz}</h1>
<p>Mit {biviz} können häufig verwendete Datenvisualisierungen mit einfachen Funktionen erstellt werden. {biviz} stellt insbesondere Datenvisualisierungen, die oft im Bereich Business Intelligence (BI) verwendet werden, zur Verfügung. Das Paket implementiert Trends der Datenvisualisierung, wodurch sich das Paket auch für andere Zwecke eignet. In {biviz} werden {ggplot2} Wrapper zur Verfügung gestellt, welche die gängigen Datenvisualisierungen erzeugen. Dies hat den Vorteil, dass bei Standardgrafiken die Datenvisualisierung nicht Schicht für Schicht programmiert wird, wie es beim {ggplot2} Framework vorgesehen ist. Eine Zeile Code reicht um eine Datenvisualisierung zu erstellen. Da das Paket auf {ggplot2} aufbaut, kann das erzeugte Objekt zu einem späteren Zeitpunkt dennoch angepasst werden. Um die Wrapper schlank zu halten, werden bei den meisten Funktionen in {biviz} die Daten vor der Übergabe in die Funktion so aufbereitet, dass in der Visualisierung die Datenpunkte in den Daten abgebildet werden und keine Berechnungen innerhalb der Visualisierungsfunktion vorgenommen werden.</p>
<section id="datenvisualisierungsfamilien" class="level2">
<h2 class="anchored" data-anchor-id="datenvisualisierungsfamilien">Datenvisualisierungsfamilien</h2>
<p>Die Visualisierungen sind in 4 Gruppen (amounts, distributions, proportions und time series) aufgeteilt und folgen immer der gleichen Syntax. Jede Funktion startet mit <code>plot_*()</code> anschliessend wird die Gruppe definiert <code>plot_amounts_*()</code> und am Ende die Form <code>plot_amounts_grouped()</code>.</p>
<p>In der Gruppe <em>amounts</em> sind Datenvisualisierungen zusammengefasst, die Mengen abbilden. Dabei werden die Zahlenwerte von Kategorien bzw. deren Anzahl in einer Variable dargestellt. Die Kategorien können zusätzlich auch einer Gruppe zugeordnet werden. Dazu werden Variablen verwendet, welche die Gruppenzugehörigkeit definieren.</p>
<p>Bei <em>distributions</em> werden Verteilungen innerhalb einer Variable dargestellt. Dazu können unterschiedliche Methoden verwendet werden, welche je nach Ausgangslage unterschiedliche Vorteile mit sich bringen. Bei den Datenvisualisierungen zu Verteilungen lohnt es sich verschiedene Grafiken auszuprobieren und ein möglichst akkurates Bild der Daten zu erhalten. Die Funktion <code>plot_distributions_raincloud()</code> verfolgt beispielsweise das Ziel, einen gesamthaften Überblick (inkl. Rohdaten) zu präsentieren. Dies passiert indem verschiedene Layers (Boxplot-, Violin- und Punktediagramm) übereinander gelegt werden. Bei grossen Datenmengen gibt es jedoch so viele Datenpunkte, dass das Punktediagramm keinen Mehrwert mehr liefert. Deshalb bietet die Funktion <code>plot_distributions_boxplot()</code> eine Alternative. Die Diskussion rund um statistisch robusteren und transparenten Ansätzen zur Datenvisualisierung ist ein Disziplin übergreifendes Thema <span class="citation" data-cites="allen2021 hehman2021">(vgl. <a href="#ref-allen2021" role="doc-biblioref">Allen u.&nbsp;a. 2021</a>; <a href="#ref-hehman2021" role="doc-biblioref">Hehman und Xie 2021</a>)</span>.</p>
<p>Für <em>proportions</em> gibt es unterschiedliche Formen der Darstellung, welche verschiedene Vorteile haben. Bei gestapelte Balken oder Donutplots ist es klar ersichtlich, dass es Teilmengen eines Ganzen sind. Nebeneinander angeordnete Balken zeigen den relativen Unterschied besser und eignen sich auch für viele Teilmengen. Werden die Proportionen von verschiedenen Variablen untersucht, dann eignen sich wiederum gestapelte Balken. Durch Visualisierungssysteme wie {ggplot2} lassen sich Proportionen separat als Teil der Gesamtmenge darstellen. Mit <code>plot_proportions_sidebyside_density1()</code> werden zwei Probleme gelöst: Erstens ist das Verhältnis zur Gesamtmenge ersichtlich (im Gegensatz zum Balkendiagramm) und zweitens hat jede Teilmenge eine Grundlinie wodurch die Mengen einfach verglichen werden können (im Gegensatz zu gestapelten Balkendiagrammen). Mit <code>plot_proportions_sidebyside_density2()</code> kann der relativen Anteil zu einem bestimmten Zeitpunkt einfach bestimmt werden <span class="citation" data-cites="nussbaumerknaflic2017 wilke2020">(<a href="#ref-nussbaumerknaflic2017" role="doc-biblioref">Nussbaumer Knaflic 2017, 47</a>; <a href="#ref-wilke2020" role="doc-biblioref">Wilke 2020, 92–94</a>)</span>.</p>
<p>Daten mit einem Zeitpunkt haben eine inhärente Reihenfolge (geordnete Richtung) und Liniendiagramme eigenen sich, die zeitliche Ordnung darzustellen, da abgesehen vom Anfang und Ende alle Datenpunkte einen Vorgänger und Nachfolger haben. Die Familie “time_series” bietet neben unterschiedlichen Formen von Liniendiagrammen auch Visualisierungen von Trends an. Die Darstellung von Trends hilft, übergeordnete Entwicklungen zu erkennen. Um verschiedene Methoden der Glättung und Trendbereinigung bereitzustellen, greifen die Funktionen auf das Paket {<strong>tsbox</strong>} <span class="citation" data-cites="sax2021">(<a href="#ref-sax2021" role="doc-biblioref">Sax 2021</a>)</span> zurück.</p>
</section>
<section id="vorteile" class="level2">
<h2 class="anchored" data-anchor-id="vorteile">Vorteile</h2>
<p>Damit das Handling der Funktion in {biviz} einfach bleibt, haben die Funktionen Einschränkungen bzw. können nicht die ganze Palette an Möglichkeiten die in {ggplot2} zur Verfügung steht anwenden. Wie im Kapitel <a href="#sec-von-datenwerten-zu-visualisierung">Kapitel&nbsp;2</a> gesehen, sind für ein effektives Data Storytelling eine flexible Anpassung von Datenvisualisierungen wichtig. Durch den modularen Aufbau von {ggplot2} geht dies relativ einfach. Mit dem Aufruf einer {biviz} Funktion wird ein {ggplot2} Objekt erstellt. Dieses Objekt kann mit {ggplot2} Funktionen angepasst und verfeinert werden. Geht eine Feinpolierung über die Möglichkeit des {biviz} hinaus, so kann dem erstellten Objekt einfach {ggplot2} Funktionen angehänkt werden um Anpassungen an der Grafik zu machen. Wichtig: Normalerweise werden in R aufeinanderfolgende Funktionsaufrufe mit der Pipe <code>|&gt;</code> verbunden. Bei {ggplot2} Objekten wird dafür das <code>+</code> verwendet.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>df_abfall_zh <span class="ot">&lt;-</span> </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  abfall_zh <span class="sc">|&gt;</span> </span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span><span class="fu">c</span>(<span class="st">"Gemeinde_Nr"</span>, <span class="st">"Einheit"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    Gemeinde <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Aeugst a.A."</span>, </span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Affoltern a.A."</span>, </span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Bonstetten"</span>, </span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Hausen a.A."</span>),</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>    Abfallart <span class="sc">==</span> <span class="st">"Brennbare Abfälle und Sperrgut"</span>,</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">row_number</span>() <span class="sc">%%</span> <span class="dv">214</span> <span class="sc">==</span> <span class="dv">1</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">|&gt;</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Gemeinde) <span class="sc">|&gt;</span> </span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># quelle: https://www.zh.ch/de/politik-staat/gemeinden/gemeindeportraet.html</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Bevoelkerung =</span> <span class="fu">c</span>(<span class="dv">1986</span>, <span class="dv">12358</span>, <span class="dv">5632</span>, <span class="dv">3850</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Gemeinde) <span class="sc">|&gt;</span> </span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">abfall_pro_person =</span> Bevoelkerung <span class="sc">/</span> Wert)</span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(df_abfall_zh)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 4
Columns: 6
Groups: Gemeinde [4]
$ Jahr              &lt;dbl&gt; 2021, 2021, 2021, 2021
$ Gemeinde          &lt;chr&gt; "Aeugst a.A.", "Affoltern a.A.", "Bonstetten", "Haus…
$ Abfallart         &lt;chr&gt; "Brennbare Abfälle und Sperrgut", "Brennbare Abfälle…
$ Wert              &lt;dbl&gt; 323, 2188, 871, 603
$ Bevoelkerung      &lt;dbl&gt; 1986, 12358, 5632, 3850
$ abfall_pro_person &lt;dbl&gt; 6.148607, 5.648080, 6.466131, 6.384743</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="do">## raw plot</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>plot_abfall_zh_raw <span class="ot">&lt;-</span> </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  df_abfall_zh <span class="sc">|&gt;</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># biviz funktion</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_amounts_vertical</span>(</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># die daten haben keine logische reihenfolge, deshalb werden sie</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># der grösse nach sortiert. dies geschieht mit forcats::fct_reorder</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">fct_reorder</span>(Gemeinde, Wert),</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> Wert</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>    ) </span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a><span class="do">## make the plot nice</span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>plot_abfall_zh_nice <span class="ot">&lt;-</span> </span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># das vorherige ggplot2 objekt wird verwendet</span></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>  plot_abfall_zh_raw <span class="sc">+</span></span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># kontext hinzufügen</span></span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Anzahl Brennbare Abfälle und Sperrgut</span><span class="sc">\n</span><span class="st">je Gemeinde im Jahr 2021"</span>) <span class="sc">+</span></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Gemeinde"</span>,</span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Menge in Tonnen"</span></span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a><span class="do">## let the plot shine</span></span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a>plot_abfall_zh_shine <span class="ot">&lt;-</span> </span>
<span id="cb28-26"><a href="#cb28-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># das vorherige ggplot2 objekt wird verwendet</span></span>
<span id="cb28-27"><a href="#cb28-27" aria-hidden="true" tabindex="-1"></a>  plot_abfall_zh_nice <span class="sc">+</span></span>
<span id="cb28-28"><a href="#cb28-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># mit diesem schritt werden alle balken ausser, der hervorzuhebende grau</span></span>
<span id="cb28-29"><a href="#cb28-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># "übermalt" indem ein neuer layer auf die visualisierung gelegt wird</span></span>
<span id="cb28-30"><a href="#cb28-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(</span>
<span id="cb28-31"><a href="#cb28-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> <span class="fu">filter</span>(df_abfall_zh, </span>
<span id="cb28-32"><a href="#cb28-32" aria-hidden="true" tabindex="-1"></a>                  abfall_pro_person <span class="sc">!=</span> <span class="fu">min</span>(df_abfall_zh<span class="sc">$</span>abfall_pro_person)),</span>
<span id="cb28-33"><a href="#cb28-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb28-34"><a href="#cb28-34" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="fu">fct_reorder</span>(Gemeinde, Wert),</span>
<span id="cb28-35"><a href="#cb28-35" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> Wert</span>
<span id="cb28-36"><a href="#cb28-36" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb28-37"><a href="#cb28-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"lightgrey"</span>,</span>
<span id="cb28-38"><a href="#cb28-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="st">"dodge"</span></span>
<span id="cb28-39"><a href="#cb28-39" aria-hidden="true" tabindex="-1"></a>           ) <span class="sc">+</span></span>
<span id="cb28-40"><a href="#cb28-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(</span>
<span id="cb28-41"><a href="#cb28-41" aria-hidden="true" tabindex="-1"></a>    <span class="co"># mit dem paket ggtext kann html/markdown code im text verwendet werden</span></span>
<span id="cb28-42"><a href="#cb28-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste0</span>(</span>
<span id="cb28-43"><a href="#cb28-43" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;span style = 'color:lightgrey;'&gt;Im Jahr 2021 hatte die&lt;/span&gt;&lt;br&gt;"</span>,</span>
<span id="cb28-44"><a href="#cb28-44" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;span style = 'color:#0d7abc; style = font-size:24pt'&gt;</span></span>
<span id="cb28-45"><a href="#cb28-45" aria-hidden="true" tabindex="-1"></a><span class="st">      Gemeinde Affoltern a.A.&lt;/span&gt;&lt;br&gt;"</span>,</span>
<span id="cb28-46"><a href="#cb28-46" aria-hidden="true" tabindex="-1"></a>      <span class="st">" total am meisten "</span>,</span>
<span id="cb28-47"><a href="#cb28-47" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;span style = 'color:lightgrey;'&gt;brennbare Abfälle und Sperrgut&lt;/span&gt;&lt;br&gt;"</span>,</span>
<span id="cb28-48"><a href="#cb28-48" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;span style = 'color:lightgrey;'&gt;aber&lt;/span&gt;"</span>,</span>
<span id="cb28-49"><a href="#cb28-49" aria-hidden="true" tabindex="-1"></a>      <span class="st">" pro Kopf am wenigsten (5.6 Tonnen)"</span></span>
<span id="cb28-50"><a href="#cb28-50" aria-hidden="true" tabindex="-1"></a>      <span class="co">#"&lt;span style = 'color:lightgrey;'&gt;Menge&lt;/span&gt;"</span></span>
<span id="cb28-51"><a href="#cb28-51" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb28-52"><a href="#cb28-52" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb28-53"><a href="#cb28-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Totale Abfallmenge</span><span class="sc">\n</span><span class="st">in Tonnen"</span>) <span class="sc">+</span></span>
<span id="cb28-54"><a href="#cb28-54" aria-hidden="true" tabindex="-1"></a>  <span class="co"># damit der html/markdown code im text gerendert werden kann, benötigt es </span></span>
<span id="cb28-55"><a href="#cb28-55" aria-hidden="true" tabindex="-1"></a>  <span class="co"># die funktion element_markdown</span></span>
<span id="cb28-56"><a href="#cb28-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb28-57"><a href="#cb28-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> ggtext<span class="sc">::</span><span class="fu">element_markdown</span>(<span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb28-58"><a href="#cb28-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb28-59"><a href="#cb28-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">11</span>, <span class="at">vjust =</span> <span class="dv">3</span>)</span>
<span id="cb28-60"><a href="#cb28-60" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>plot_abfall_zh_raw</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>plot_abfall_zh_nice</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>plot_abfall_zh_shine</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="fig-abfall_zh_verschönern" class="cell quarto-layout-panel">
<figure class="figure">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 49.0%;justify-content: center;">
<div id="fig-abfall_zh_verschönern-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="index_files/figure-html/fig-abfall_zh_verschönern-1.png" class="img-fluid figure-img" data-ref-parent="fig-abfall_zh_verschönern" width="624"></p>
<p></p><figcaption class="figure-caption">(a) Raw Plot</figcaption><p></p>
</figure>
</div>
</div>
<div class="quarto-figure-spacer quarto-layout-cell" style="flex-basis: 2.0%;justify-content: center;">
<p>&nbsp;</p>
</div>
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 49.0%;justify-content: center;">
<div id="fig-abfall_zh_verschönern-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="index_files/figure-html/fig-abfall_zh_verschönern-2.png" class="img-fluid figure-img" data-ref-parent="fig-abfall_zh_verschönern" width="624"></p>
<p></p><figcaption class="figure-caption">(b) Make the Plot nice</figcaption><p></p>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 100.0%;justify-content: center;">
<div id="fig-abfall_zh_verschönern-3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="index_files/figure-html/fig-abfall_zh_verschönern-3.png" class="img-fluid figure-img" data-ref-parent="fig-abfall_zh_verschönern" width="624"></p>
<p></p><figcaption class="figure-caption">(c) Let the Plot shine</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p></p><figcaption class="figure-caption">Abbildung&nbsp;14: Verfeinern von biviz Visualisierungen</figcaption><p></p>
</figure>
</div>
</div>
<div style="page-break-after: always;"></div>
</section>
</section>
<section id="fazit" class="level1">
<h1>Fazit</h1>
<p>Der Ausgangspunkt der Masterarbeit war die fehlende Qualität von Datenanalysen bei nicht reproduzierbaren Workflows und fehlendem Storytelling. Der Fokus lag auf der praktischen Umsetzung der Kommunikation mit Daten. Damit das Data Storytelling für die Anwendenden möglichst einfach gestaltet werden kann, wurde das R-Paket {biviz} entwickelt. Durch dieses Paket wurde im gleichen Zug auch die zweite Problemstellung angegangen. Das Paket wird in der Skript basierten Programmierumgebung von R angewendet, wodurch jeder Arbeitsschritt nachvollziehbar ist. Zudem könnte auch eine Datenpipeline von den Rohdaten bis zum finalen Report gebaut werden.</p>
<p>Im ersten Teil der Arbeit wurde aufgezeigt, wie aus Datenwerten eine Visualisierung entsteht. Für diesen Prozess ist die Beziehung zwischen Daten, Skalen und Aesthetics zentral. Also die Verbindung zwischen Daten und quantifizierbaren Merkmalen, in Form von abbildbaren Elementen (Position, Grösse, Farbe und Form). Zudem wurden wichtige Aspekte des Data Storytellings, wie die Entwicklung und Steuerung einer Geschichte, aufgezeigt. Anschliessend wurde die technische Basis für die Entwicklung von {biviz} aufgezeigt und erläutert. Im Mittelpunkt lag dabei die Konzepte von Tidy Data und Grammer of Graphics. Tidy Data heisst, alle Variablen sind Spalten, alle Untersuchungen sind Zeilen und alle Werte sind Zellen. Durch diese Ordnung der Daten sind die weiteren Anlyseschritte einfacher umzusetzen und sie gibt eine konsequente Struktur vor. Eine konsequente Datenstruktur hilft Tools zu entwickeln, da ein Standard des Dateninputs vorliegt. Mit ihren Stages und die damit verbundene Zerstückelung der Erstellung von Grafiken bietet die Grammer of Graphics eine grosse Flexibilität bei der Datenvisualisierung. Diese strukturierte Beziehung von Datenvariablen und deren Repräsentation wurde mit dem Paket {ggplot2} in {bivz} integriert. Im dritten und vierten Teil wurde die effektive Entwicklung von {biviz} beispielhaft dargestellt und auf Herausforderungen und Probleme eingegangen. Zum einen wurde mit der Ordnerstruktur und Codesyntax ein Gerüst für den Entwicklungsprozess definiert. Die Inhalte und Funktionen (Dokumentation, Quellcode, etc.) wurden kurz dargelegt. Da {biviz} auf dem Paket {ggplot2} basiert, welches Tidy evaluation unterstützt, wurden die Unterscheidung zwischen env-variables und data-variables eingeführt. Mit den curly-curly (“{{”) bietet das Tidyverse Framework einen intuitiven Umgang mit diesem Problem beim Erstellen eines Pakets. Der Entwicklungsworkflow besteht aus vier Schritten, welche immer kleinere Teilschritte beinhalten. Die effektive Entwicklung findet dabei in den Schritten “Funktionen schreiben”, “Dokumentation” und “Testen” statt. Eine genaue Abfolge zwischen diesen Schritten gib es nicht. Wichtig ist es, dass die Tests und Dokumentationen regelmässig durchgeführt bzw. ergänzt werden. Es muss noch nicht die Finaleversion sein. Aber solange der geschriebene Code und die Gedanken dazu noch frisch sind, ist es einfacher, entsprechende Tests und Dokumentationen zu schreiben. Das letzten Kapitel zeigte die Anwendung des Pakets und ihre Vorteile. Dafür wurden die Funktionsfamilien beschrieben und ein Showcase zur Anwendung von {biviz} präsentiert.</p>
<blockquote class="blockquote">
<p>Datenvisualisierung ist teils Kunst und teils Wissenschaft. Die Herausforderung besteht darin, die Kunst richtig zu machen, ohne die Wissenschaft falsch zu machen, und umgekehrt.<br>
<span class="citation" data-cites="wilke2020">(<a href="#ref-wilke2020" role="doc-biblioref">Wilke 2020, 1</a>)</span></p>
</blockquote>
<p>Die Arbeit hatte das Ziel, ein Tool zu entwickeln, welches das Data Storytelling und die Datenvisualisierungen vereinfacht und dennoch eine grosse Flexibilität bereithält. Mit {biviz} werden schnell Basisgrafiken erstellt und es steht mehr Zeit zur Verfügung um sich dem Data Storytelling zu widmen. Gleichzeitig wird mit der Verwendung von {biviz} ein minimaler Standard für die Grafiken eingeführt. Dadurch trägt {biviz} dazu bei, dass sowohl die Kunst als auch die Wissenschaft richtig zu machen ein bisschen einfacher geworden ist. Die Fähigkeit eines “Auge” kann das Paket aber nicht kompensieren. Folglich bleibt die Auseinandersetzung und Optimierung von Datenvisualisierungen ein lebenslanger Prozess. In diesem Sinne ist {biviz} auch kein statisches Projekt, sondern wird in Zukunft weiterentwickelt und optimiert.</p>
<p>{biviz} importiert einige Funktionen aus anderen R-Paketen, wodurch sich Abhängigkeiten ergeben. Die grosse Mehrheit der Pakete kommen aus dem Tidyverse Framework, welches vom Unternehmen Posit unterstützt wird und entsprechend eine gewisse Langlebigkeit und Support garantiert. Andere Pakete wie das colorspace <span class="citation" data-cites="zeileis2020">(<a href="#ref-zeileis2020" role="doc-biblioref">Zeileis u.&nbsp;a. 2020</a>)</span> sind in einem universitären Kontext entstanden, was ebenfalls eine Beständigkeit gewährleistet. Der nächste wichtige Schritt für {biviz} ist die Implementierung von formellen Tests. Zudem können weitere Datenvisualisierungen (Heatmap, Punktediagramm, Lollipopdiagramm, etc.) ergänzt und der Code optimiert werden. Ein weiteres Ziel bei der Weiterentwicklung des Pakets ist es, dass die Basisgrafiken bereits mehr Data Storytelling optimiert sind.</p>
<p>Das Paket steht noch in den Kinderschuhen und hat noch Steigerungspotential. Der Arbeit liegt das Motto von Hadley Wickham zugrunde:</p>
<blockquote class="blockquote">
<p>The only way to write good code is to write tons of shitty code first. Feeling shame about bad code stops you from getting to good code.<br>
<span class="citation" data-cites="wickham2015b">(<a href="#ref-wickham2015b" role="doc-biblioref">H. Wickham 2015b</a>)</span></p>
</blockquote>
<p>In diesem Sinne ist {biviz} wie es aktuell dasteht ein erster Entwurf, welcher in Zukunft stetig eine Weiterentwicklung erfährt.</p>
<div style="page-break-after: always;"></div>
</section>
<section id="literaturverzeichnis" class="level1 unnumbered">

<!-- -->


</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">Literaturverzeichnis</h2><div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-allen2021" class="csl-entry" role="doc-biblioentry">
Allen, Micah, Davide Poggiali, Kirstie Whitaker, Tom Rhys Marshall, Jordy van Langen, und Rogier A. Kievit. 2021. <span>„Raincloud Plots: A Multi-Platform Tool for Robust Data Visualization“</span>. <a href="https://doi.org/10.12688/wellcomeopenres.15191.2">https://doi.org/10.12688/wellcomeopenres.15191.2</a>.
</div>
<div id="ref-amtfürabfallwasserenergieundluftdeskantonszürich2022" class="csl-entry" role="doc-biblioentry">
Amt für Abfall, Wasser, Energie und Luft des Kantons Zürich. 2022. <span>„Abfallmengen nach Abfallarten und Gemeinden“</span>. <a href="https://www.zh.ch/de/politik-staat/opendata.zhweb-noredirect.zhweb-cache.html?keywords=ogd#/datasets/1803@awel-kanton-zuerich">https://www.zh.ch/de/politik-staat/opendata.zhweb-noredirect.zhweb-cache.html?keywords=ogd#/datasets/1803@awel-kanton-zuerich</a>.
</div>
<div id="ref-bannert2022" class="csl-entry" role="doc-biblioentry">
Bannert, Matthias. 2022. <em>DevOps Carpentry</em>. <a href="https://devops-carpentry.github.io/book/">https://devops-carpentry.github.io/book/</a>.
</div>
<div id="ref-bartram2017" class="csl-entry" role="doc-biblioentry">
Bartram, Lyn, Abhisekh Patra, und Maureen Stone. 2017. <span>„Affective Color in Visualization“</span>. In <em>Proceedings of the 2017 CHI Conference on Human Factors in Computing Systems</em>, 1364–74. Denver Colorado USA: ACM. <a href="https://doi.org/10.1145/3025453.3026041">https://doi.org/10.1145/3025453.3026041</a>.
</div>
<div id="ref-borland2007" class="csl-entry" role="doc-biblioentry">
Borland, David, und Russell M. Taylor Ii. 2007. <span>„Rainbow Color Map (Still) Considered Harmful“</span>. <em>IEEE Computer Graphics and Applications</em> 27 (2): 14–17. <a href="https://doi.org/10.1109/MCG.2007.323435">https://doi.org/10.1109/MCG.2007.323435</a>.
</div>
<div id="ref-jennybryan2017" class="csl-entry" role="doc-biblioentry">
Bryan, Jennifer. 2017. <span>„Project-Oriented Workflow“</span>. <a href="https://www.tidyverse.org/blog/2017/12/workflow-vs-script/">https://www.tidyverse.org/blog/2017/12/workflow-vs-script/</a>.
</div>
<div id="ref-cleveland1984" class="csl-entry" role="doc-biblioentry">
Cleveland, William S., und Robert McGill. 1984. <span>„Graphical Perception: Theory, Experimentation, and Application to the Development of Graphical Methods“</span>. <em>Journal of the American Statistical Association</em> 79 (387): 531–54. <a href="https://doi.org/10.1080/01621459.1984.10478080">https://doi.org/10.1080/01621459.1984.10478080</a>.
</div>
<div id="ref-diaz-bone2006" class="csl-entry" role="doc-biblioentry">
Diaz-Bone, Rainer. 2006. <em>Statistik für Soziologen</em>. UTB für Wissenschaft : Uni-Taschenbücher. Konstanz: UVK Verlagsgesellschaft.
</div>
<div id="ref-dykes2020" class="csl-entry" role="doc-biblioentry">
Dykes, Brent. 2020. <em>Effective data storytelling: how to drive change with data, narrative and visuals</em>. Hoboken, New Jersey: John Wiley; Sons, Inc.
</div>
<div id="ref-field2012" class="csl-entry" role="doc-biblioentry">
Field, Andy, Jeremy Miles, und Zoë Field. 2012. <em>Discovering Statistics using R</em>. Los Angeles, London, New Delhi, Singapore, Washington DC: Sage.
</div>
<div id="ref-gerste2022" class="csl-entry" role="doc-biblioentry">
Gerste, Ronald D. 2022. <em>Die Heilung der Welt: das Goldene Zeitalter der Medizin 1840-1914</em>. Stuttgart: Klett-Cotta.
</div>
<div id="ref-hawkins2015" class="csl-entry" role="doc-biblioentry">
Hawkins, Ed. 2015. <span>„Scrap Rainbow Colour Scales“</span>. <em>Nature</em> 519 (7543): 291–91. <a href="https://doi.org/10.1038/519291d">https://doi.org/10.1038/519291d</a>.
</div>
<div id="ref-healy2018" class="csl-entry" role="doc-biblioentry">
Healy, Kieran. 2018. <em>Data visualization: a practical introduction</em>. Princeton, NJ: Princeton University Press.
</div>
<div id="ref-hehman2021" class="csl-entry" role="doc-biblioentry">
Hehman, Eric, und Sally Y. Xie. 2021. <span>„Doing Better Data Visualization“</span>. <em>Advances in Methods and Practices in Psychological Science</em> 4 (4): 1–18. <a href="https://doi.org/10.1177/25152459211045334">https://doi.org/10.1177/25152459211045334</a>.
</div>
<div id="ref-henry2023" class="csl-entry" role="doc-biblioentry">
Henry, Lionel, Thomas Lin Pedersen, T Jake Luciani, Matthieu Decorde, und Vaudor Lise. 2023. <span>„Vdiffr: Visual Regression Testing and Graphical Diffing“</span>. <a href="https://vdiffr.r-lib.org/">https://vdiffr.r-lib.org/</a>.
</div>
<div id="ref-henry2022a" class="csl-entry" role="doc-biblioentry">
Henry, Lionel, und Hadley Wickham. 2022a. <span>„Data Mask Programming Patterns“</span>. <a href="https://rlang.r-lib.org/reference/topic-data-mask-programming.html">https://rlang.r-lib.org/reference/topic-data-mask-programming.html</a>.
</div>
<div id="ref-henry2022" class="csl-entry" role="doc-biblioentry">
———. 2022b. <span>„What Is Data-Masking and Why Do I Need <span></span><span></span> ?“</span> <a href="https://rlang.r-lib.org/reference/topic-data-mask.html">https://rlang.r-lib.org/reference/topic-data-mask.html</a>.
</div>
<div id="ref-kanizsa1970" class="csl-entry" role="doc-biblioentry">
Kanizsa, Gaetano. 1970. <span>„Amodale Ergänzung und <span>"</span>Erwartungsfehler<span>"</span> des Gestaltpsychologen“</span>. <em>Psychologische Forschung</em> 33 (4): 325–44. <a href="https://doi.org/10.1007/BF00424558">https://doi.org/10.1007/BF00424558</a>.
</div>
<div id="ref-lowndes2020" class="csl-entry" role="doc-biblioentry">
Lowndes, Julie, und Allison Horst. 2020. <span>„Tidy Data for Efficiency, Reproducibility, and Collaboration“</span>. <a href="https://www.openscapes.org/blog/2020/10/12/tidy-data/">https://www.openscapes.org/blog/2020/10/12/tidy-data/</a>.
</div>
<div id="ref-nussbaumerknaflic2017" class="csl-entry" role="doc-biblioentry">
Nussbaumer Knaflic, Cole. 2017. <em>Storytelling mit Daten: die Grundlagen der effektiven Kommunikation und Visualisierung mit Daten</em>. München: Verlag Franz Vahlen.
</div>
<div id="ref-okabe" class="csl-entry" role="doc-biblioentry">
Okabe, Masataka, und Kei Ito. 2008. <span>„Color Universal Design (CUD) / Colorblind Barrier Free“</span>. <a href="https://jfly.uni-koeln.de/color/#pallet">https://jfly.uni-koeln.de/color/#pallet</a>.
</div>
<div id="ref-sax2021" class="csl-entry" role="doc-biblioentry">
Sax, Christoph. 2021. <span>„Tsbox: Class-Agnostic Time Series in R“</span>. <a href="https://www.tsbox.help">https://www.tsbox.help</a>.
</div>
<div id="ref-silver2020" class="csl-entry" role="doc-biblioentry">
Silver, Nate. 2020. <em>The signal and the noise: why so many predictions fail - but some don’t</em>. Published with a new preface in Penguin Books 2020. New York, NY: Penguin Books.
</div>
<div id="ref-snow1855" class="csl-entry" role="doc-biblioentry">
Snow, John. 1855. <em>On the Mode of Communication of Cholera. 2. Auflage.</em> London.
</div>
<div id="ref-spiegelhalter2020" class="csl-entry" role="doc-biblioentry">
Spiegelhalter, David. 2020. <em>The art of statistics: learning from data</em>. Paperback edition. UK: Pelican Books.
</div>
<div id="ref-tufte2001" class="csl-entry" role="doc-biblioentry">
Tufte, Edward R. 2001. <em>The visual display of quantitative information</em>. 2nd ed. Cheshire, Conn: Graphics Press.
</div>
<div id="ref-tukey1977" class="csl-entry" role="doc-biblioentry">
Tukey, John Wilder. 1977. <em>Exploratory data analysis</em>. Reading, Mass: Addison-Wesley Pub. Co.
</div>
<div id="ref-wickham2010" class="csl-entry" role="doc-biblioentry">
Wickham, Hadley. 2010. <span>„A Layered Grammar of Graphics“</span>. <em>Journal of Computational and Graphical Statistics</em> 19 (1): 3–28. <a href="https://doi.org/10.1198/jcgs.2009.07098">https://doi.org/10.1198/jcgs.2009.07098</a>.
</div>
<div id="ref-wickham2011a" class="csl-entry" role="doc-biblioentry">
———. 2011. <span>„Testthat: Get Started with Testing“</span>. <em>The R Journal</em> 3 (1): 5. <a href="https://doi.org/10.32614/RJ-2011-002">https://doi.org/10.32614/RJ-2011-002</a>.
</div>
<div id="ref-wickham2014" class="csl-entry" role="doc-biblioentry">
———. 2014. <span>„Tidy Data“</span>. <em>Journal of Statistical Software</em> 59: 1–23. <a href="https://doi.org/10.18637/jss.v059.i10">https://doi.org/10.18637/jss.v059.i10</a>.
</div>
<div id="ref-wickham2015a" class="csl-entry" role="doc-biblioentry">
———. 2015a. <em>R packages</em>. First edition. Sebastopol, CA: O’Reilly Media.
</div>
<div id="ref-wickham2015b" class="csl-entry" role="doc-biblioentry">
———. 2015b. <span>„The Only Way to Write Good Code Is to Write Tons of Shitty Code First...“</span> <a href="https://twitter.com/hadleywickham/status/589068687669243905">https://twitter.com/hadleywickham/status/589068687669243905</a>.
</div>
<div id="ref-hadley2016" class="csl-entry" role="doc-biblioentry">
———. 2016. <em>Ggplot2</em>. New York, NY: Springer Science+Business Media, LLC.
</div>
<div id="ref-wickham2019" class="csl-entry" role="doc-biblioentry">
———. 2019. <em>Advanced R</em>. Second edition. Boca Raton: CRC Press/Taylor; Francis Group.
</div>
<div id="ref-hadleywickham2022b" class="csl-entry" role="doc-biblioentry">
———. 2022. <span>„The Tidyverse Style Guide“</span>. <a href="https://style.tidyverse.org">https://style.tidyverse.org</a>.
</div>
<div id="ref-hadleywickham2022" class="csl-entry" role="doc-biblioentry">
Wickham, Hadley, Peter Danenberg, Gábor Csárdi, und Manuel Eugster. 2022a. <span>„Roxygen2: In-Line Documentation for R“</span>. <a href="https://roxygen2.r-lib.org/">https://roxygen2.r-lib.org/</a>.
</div>
<div id="ref-wickham2022b" class="csl-entry" role="doc-biblioentry">
———. 2022b. <span>„Roxygen2: In-Line Documentation for R“</span>. <a href="https://roxygen2.r-lib.org/">https://roxygen2.r-lib.org/</a>.
</div>
<div id="ref-wickham2022" class="csl-entry" role="doc-biblioentry">
Wickham, Hadley, Romain François, Lionel Henry, und Kirill Müller. 2022. <span>„Programming with Dplyr“</span>. <a href="https://dplyr.tidyverse.org/articles/programming.html">https://dplyr.tidyverse.org/articles/programming.html</a>.
</div>
<div id="ref-wickham2016" class="csl-entry" role="doc-biblioentry">
Wickham, Hadley, und Garrett Grolemund. 2016. <em>R for data science: import, tidy, transform, visualize, and model data</em>. First edition. Sebastopol, CA: O’Reilly.
</div>
<div id="ref-hadleywickham2022a" class="csl-entry" role="doc-biblioentry">
Wickham, Hadley, Jim Hester, Winston Chang, und Jennifer Bryan. 2022a. <span>„Devtools: Tools to Make Developing R Packages Easier“</span>. <a href="https://devtools.r-lib.org/">https://devtools.r-lib.org/</a>.
</div>
<div id="ref-wickham2022a" class="csl-entry" role="doc-biblioentry">
———. 2022b. <span>„Devtools: Tools to Make Developing R Packages Easier“</span>. <a href="https://devtools.r-lib.org/">https://devtools.r-lib.org/</a>.
</div>
<div id="ref-rpackag" class="csl-entry" role="doc-biblioentry">
Wickham, Jennifer, Hadley und Bryan. 2022. <em>R Packages (2e)</em>. <a href="https://r-pkgs.org/">https://r-pkgs.org/</a>.
</div>
<div id="ref-wilke2020" class="csl-entry" role="doc-biblioentry">
Wilke, Claus. 2020. <em>Datenvisualisierung - Grundlagen und Praxis: wie Sie aussagekräftige Diagramme und Grafiken gestalten</em>. 1. Auflage. Heidelberg: O’Reilly.
</div>
<div id="ref-wilkinson2005" class="csl-entry" role="doc-biblioentry">
Wilkinson, Leland. 2005. <em>The Grammar of Graphics</em>. 2nd ed. Statistics and computing. New York: Springer.
</div>
<div id="ref-wilkinson2012" class="csl-entry" role="doc-biblioentry">
———. 2012. <span>„The Grammar of Graphics“</span>. In <em>Handbook of Computational Statistics</em>, herausgegeben von James E. Gentle, Wolfgang Karl Härdle, und Yuichi Mori, 375–414. Berlin, Heidelberg: Springer Berlin Heidelberg. <a href="https://doi.org/10.1007/978-3-642-21551-3_13">https://doi.org/10.1007/978-3-642-21551-3_13</a>.
</div>
<div id="ref-zeileis2020" class="csl-entry" role="doc-biblioentry">
Zeileis, Achim, Jason C. Fisher, Kurt Hornik, Ross Ihaka, Claire D. McWhite, Paul Murrell, Reto Stauffer, und Claus O. Wilke. 2020. <span>„Colorspace : A Toolbox for Manipulating and Assessing Colors and Palettes“</span>. <em>Journal of Statistical Software</em> 96 (1). <a href="https://doi.org/10.18637/jss.v096.i01">https://doi.org/10.18637/jss.v096.i01</a>.
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Fußnoten</h2>

<ol>
<li id="fn1"><p>Es gibt viele Programme um die Farbenblindheit zu simulieren. Beispielsweise die Websiten <a href="http://hclwizard.org:3000/cvdemulator/">hclwizard.org/cvdemulator</a> oder <a href="http://www.vischeck.com">vischeck.com</a>.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Quellcode</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb30" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Entwicklung eines R-Pakets für Data Storytelling und Datenvisualisierungen"</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="an">subtitle:</span><span class="co"> "Masterarbeit"</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "2023-02-19"</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> </span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="co">  - name: Andriu Cavelti</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="co">    email: andriu.cavelti@stud.unibas.ch</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a><span class="co">    affiliations:</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="co">        - name: Universität Basel, Digital Humanities</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="an">lang:</span><span class="co"> de</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a><span class="an">toc:</span><span class="co"> true</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a><span class="an">lof:</span><span class="co"> true</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a><span class="an">lot:</span><span class="co"> true</span></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a><span class="an">bibliography:</span><span class="co"> references.bib</span></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a><span class="an">title-block-banner:</span><span class="co"> "#0d7abc"</span></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a><span class="an">link-citations:</span><span class="co"> true</span></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a><span class="an">highlight-style:</span><span class="co"> pygments</span></span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a><span class="an">tbl-cap-location:</span><span class="co"> bottom</span></span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a><span class="co">  html: </span></span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a><span class="co">    #code-link: true</span></span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a><span class="co">  # pdf:</span></span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a><span class="co">  #   documentclass: scrreprt</span></span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a><span class="co">  #   cite-method: biblatex</span></span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true" tabindex="-1"></a><span class="co">  #   biblatexoptions:</span></span>
<span id="cb30-28"><a href="#cb30-28" aria-hidden="true" tabindex="-1"></a><span class="co">  #      - citestyle = authoryear</span></span>
<span id="cb30-29"><a href="#cb30-29" aria-hidden="true" tabindex="-1"></a><span class="co">  #      - bibstyle = authoryear</span></span>
<span id="cb30-30"><a href="#cb30-30" aria-hidden="true" tabindex="-1"></a><span class="co">  #   template-partials:</span></span>
<span id="cb30-31"><a href="#cb30-31" aria-hidden="true" tabindex="-1"></a><span class="co">  #      - before-body.tex</span></span>
<span id="cb30-32"><a href="#cb30-32" aria-hidden="true" tabindex="-1"></a><span class="co">  #   number-sections: true</span></span>
<span id="cb30-33"><a href="#cb30-33" aria-hidden="true" tabindex="-1"></a><span class="co">  #   colorlinks: true</span></span>
<span id="cb30-34"><a href="#cb30-34" aria-hidden="true" tabindex="-1"></a><span class="co">  #   execute:</span></span>
<span id="cb30-35"><a href="#cb30-35" aria-hidden="true" tabindex="-1"></a><span class="co">  #     echo: false</span></span>
<span id="cb30-36"><a href="#cb30-36" aria-hidden="true" tabindex="-1"></a><span class="co">  #     warning: false</span></span>
<span id="cb30-37"><a href="#cb30-37" aria-hidden="true" tabindex="-1"></a><span class="co">  #   geometry:</span></span>
<span id="cb30-38"><a href="#cb30-38" aria-hidden="true" tabindex="-1"></a><span class="co">  #     #- showframe</span></span>
<span id="cb30-39"><a href="#cb30-39" aria-hidden="true" tabindex="-1"></a><span class="co">  #       - top=30mm</span></span>
<span id="cb30-40"><a href="#cb30-40" aria-hidden="true" tabindex="-1"></a><span class="co">  #       - bottom=40mm</span></span>
<span id="cb30-41"><a href="#cb30-41" aria-hidden="true" tabindex="-1"></a><span class="co">  #       - left=30mm</span></span>
<span id="cb30-42"><a href="#cb30-42" aria-hidden="true" tabindex="-1"></a><span class="co">  #       - right=30mm</span></span>
<span id="cb30-43"><a href="#cb30-43" aria-hidden="true" tabindex="-1"></a><span class="co">  #       - heightrounded</span></span>
<span id="cb30-44"><a href="#cb30-44" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb30-45"><a href="#cb30-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-48"><a href="#cb30-48" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-49"><a href="#cb30-49" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: load-packages</span></span>
<span id="cb30-50"><a href="#cb30-50" aria-hidden="true" tabindex="-1"></a><span class="co">#| include: false</span></span>
<span id="cb30-51"><a href="#cb30-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-52"><a href="#cb30-52" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb30-53"><a href="#cb30-53" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb30-54"><a href="#cb30-54" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cowplot)</span>
<span id="cb30-55"><a href="#cb30-55" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(colorspace)</span>
<span id="cb30-56"><a href="#cb30-56" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(biviz)</span>
<span id="cb30-57"><a href="#cb30-57" aria-hidden="true" tabindex="-1"></a><span class="co">#library(palmerpenguins)</span></span>
<span id="cb30-58"><a href="#cb30-58" aria-hidden="true" tabindex="-1"></a><span class="co">#devtools::load_all()</span></span>
<span id="cb30-59"><a href="#cb30-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-60"><a href="#cb30-60" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-61"><a href="#cb30-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-62"><a href="#cb30-62" aria-hidden="true" tabindex="-1"></a><span class="fu"># Einleitung</span></span>
<span id="cb30-63"><a href="#cb30-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-64"><a href="#cb30-64" aria-hidden="true" tabindex="-1"></a>::: callout-note</span>
<span id="cb30-65"><a href="#cb30-65" aria-hidden="true" tabindex="-1"></a>Diese Arbeit ist mit <span class="co">[</span><span class="ot">Quarto</span><span class="co">](https://quarto.org/)</span>{style="font-size: 11pt;"} geschrieben. Eine HTML-Version der Arbeit steht zusammen mit der Dokumentation auf der Website des Pakets <span class="co">[</span><span class="ot">biviz</span><span class="co">](https://tricktracktriu.github.io/biviz)</span>{style="font-size: 11pt;"} (https://tricktracktriu.github.io/biviz/) zur Verfügung. Der Quellcode des Pakets ist unter <span class="co">[</span><span class="ot">GitHub</span><span class="co">](https://github.com/tricktracktriu/biviz/)</span>{style="font-size: 11pt;"} (https://github.com/tricktracktriu/biviz/) abrufbar.</span>
<span id="cb30-66"><a href="#cb30-66" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb30-67"><a href="#cb30-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-68"><a href="#cb30-68" aria-hidden="true" tabindex="-1"></a>\</span>
<span id="cb30-69"><a href="#cb30-69" aria-hidden="true" tabindex="-1"></a>Datenvisualisierungen und die Auseinandersetzung mit Informationsdesign für quantitative Daten gab es schon lange vor Big Data. John W. Tukey <span class="co">[</span><span class="ot">@tukey1977</span><span class="co">]</span>, Edward R. Tufte <span class="co">[</span><span class="ot">@tufte2001, Erstveröffentlichung 1982</span><span class="co">]</span> und William S. Cleveland <span class="co">[</span><span class="ot">@cleveland1984</span><span class="co">]</span> sind bis heute prägend für das Gebiet der Datenvisualisierung. Datenvisualisierungen wurden aber schon viel früher für die Erkenntnisgewinnung verwendet. John Snow, ein britischer Epidemiologe im 19. Jahrhundert, erkannte durch die Visualisierung von Choleratodesfällen auf einer Karte von London (jeder Todesfall war ein kleiner schwarzer Balken), dass die Cholerafälle sich rund um eine Wasserpumpe in der Broad Street konzentrierten. Nach der Abschaltung der Wasserpumpe gab es keine weiteren Fälle mehr <span class="co">[</span><span class="ot">@gerste2022, Kapitel Karte des Todes; @snow1855, S. 45</span><span class="co">]</span>. Datenvisualisierungen können wichtige Einblicke in Daten geben. Dennoch werden sie in der statistischen Ausbildung oft etwas vernachlässigt.</span>
<span id="cb30-70"><a href="#cb30-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-71"><a href="#cb30-71" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; The Analysis stage has traditionally been the main emphasis of statistics courses </span><span class="sc">\[</span><span class="at">...</span><span class="sc">\]</span><span class="at"> but sometimes all that is required is a useful visualization </span><span class="sc">\[</span><span class="at">...</span><span class="sc">\]</span><span class="at">.\</span></span>
<span id="cb30-72"><a href="#cb30-72" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; </span><span class="co">[</span><span class="ot">@spiegelhalter2020, S. 15</span><span class="co">]</span></span>
<span id="cb30-73"><a href="#cb30-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-74"><a href="#cb30-74" aria-hidden="true" tabindex="-1"></a>Datenvisualisierungen alleine reichen aber nicht aus. Sie müssen eine Geschichte erzählen, damit sie zu einer Aktion führen, beispielsweise zur Abschaltung der Wasserpumpe in der Broad Street. Das Storytelling ist bei der Arbeit mit Daten eine der wichtigsten Aufgaben. Nate Silver beschreibt es wie folgt:</span>
<span id="cb30-75"><a href="#cb30-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-76"><a href="#cb30-76" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; The number have no way of speaking for themselves. We speak for them. We imbue them with meaning.\</span></span>
<span id="cb30-77"><a href="#cb30-77" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; </span><span class="co">[</span><span class="ot">@silver2020, S. 9</span><span class="co">]</span></span>
<span id="cb30-78"><a href="#cb30-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-79"><a href="#cb30-79" aria-hidden="true" tabindex="-1"></a>Als ich bei meinem alten Arbeitgeber angefangen habe, bemerkte ich schnell, dass diese Erkenntnisse in der Berufswelt noch nicht überall fussgefasst haben. Daten wurden meistens als Tabellen oder einzelne Werte in Excel oder PowerPoint dargestellt. Manchmal gab es auch Grafiken, sie wurden aber erstellt ohne sich Gedanken über die gewünschte Botschaft und ihre Wirkung zu machen. Bei diesem Workflow gibt es zwei grosse Probleme, welche die Qualität der Datenanalysen einschränken. Zum einen sind die Reports oder Analysen nicht reproduzierbar. In Excel ist Copy-Paste und händische Arbeitsschritte der Standard bei der Aufbereitung sowie Verarbeitung von Daten. Folglich können die Auswertungen nicht reproduziert werden. Das hat weiter zur Folge, dass die Arbeitsschritte bei jeder Auswertungsperiode manuell abgearbeitet werden müssen. Das kann zu Fehlern führen und bringt viel Aufwand mit sich. Leider können dabei die Fehlerquellen nicht mit Sicherheit ausgemacht werden, da die manuellen Arbeitsschritte nicht "aufgezeichnet" werden. Ein Skript basierter Workflow kann beiden Problemen entgegenwirken. Im Skript werden alle Arbeitsschritte als Code festgehalten. Am besten werden gleich ganze Datenpipelines erstellt. Bei wiederkehrenden Reports muss anschliessend nur die Datenquelle aktualisiert und das Skript laufen gelassen werden. Alle Arbeitschritte werden anschliessend automatisch durchgeführt. Durch den Code sind die einzelnen Arbeitsschritte "verschriftlicht" und der Computer führt die Anweisungen im Skript aus. Somit kann genau nachvollzogen werden, was, wann und wie gemacht wird. Das heisst, der Report ist reproduzierbar. Das zweite Problem ist die Annahme, dass die Daten für sich selbst sprechen und Datenvisualisierungen verwendet werden ohne sich Gedanken dazu zu machen, ob die gewählte Form nützlich für die Botschaft ist. Diese Problematik für die Qualität der Datenanalysen ist der Ausgangspunkt dieser Masterarbeit. Damit Analysen gehört werden, müssen sie überzeugen. Datenvisualisierungen sind ein wichtiges Tool um die Daten und Erkenntnisse klar und aussagekräftig zu präsentieren. Der Masterarbeit ging die Fragestellung "Wie wird Data Storytelling integraler Bestandteil eines Report?" voraus. Das ist eine komplexe Frage und steht im Zusammenhang mit Arbeitsprozessen sowie Gewohnheiten. Wilke <span class="co">[</span><span class="ot">-@wilke2020</span><span class="co">]</span> vergleicht die Fähigkeit klare, attraktive und überzeugende Visualisierungen zu erstellen mit dem "Ohr" eines Textredakteurs der beim Lesen innerlich zu "hört", ob ein Text gut geschrieben ist:</span>
<span id="cb30-80"><a href="#cb30-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-81"><a href="#cb30-81" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; </span><span class="sc">\[</span><span class="at">...</span><span class="sc">\]</span><span class="at"> brauchen wir in ähnlicher Weise ein "Auge", also die Fähigkeit, eine Abbildung zu betrachten und festzustellen, ob sie ausgewogen, klar und überzeugend ist. Und ebenso wie beim Beurteilen von Text kann die Fähigkeit, zu sehen, ob eine Abbildung funktioniert oder nicht, erlernt werden. </span><span class="sc">\[</span><span class="at">...</span><span class="sc">\]</span><span class="at"> Meine Erfahrung nach entwickeln Sie </span><span class="sc">\[</span><span class="at">...</span><span class="sc">\]</span><span class="at"> noch kein Auge, wenn Sie am Wochenende mal ein Buch lesen. Es ist ein lebenslanger Prozess </span><span class="sc">\[</span><span class="at">...</span><span class="sc">\]</span><span class="at">.\</span></span>
<span id="cb30-82"><a href="#cb30-82" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; </span><span class="co">[</span><span class="ot">@wilke2020, S. XI</span><span class="co">]</span></span>
<span id="cb30-83"><a href="#cb30-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-84"><a href="#cb30-84" aria-hidden="true" tabindex="-1"></a>Da es in einer Masterarbeit schwer ist, einen lebenslangen Prozess zu untersuchen, verfolgt diese Masterarbeit ein bescheideneres Ziel. Die Arbeit möchte die Entwicklung von Data Storys und Datenvisualisierungen unterstützen. Dies geschieht indem in R ein Visualisierungsprogramm entwickelt wird. Ziel des Pakets (Software) ist es, oft verwendete Datenvisualisierungen möglichst einfach zu erstellen. Gleichzeitig sollen die Grafiken einfach individuell weiterentwickelt werden können. Das heisst, die Funktionen im entwickelten Paket erzeugen Datenvisualisierungen, die so verwendet werden können, ihr ganzes Potential aber erst mit einigen interaktiven Codeergänzungen ausschöpfen. Die Idee dabei ist, dass die Hürde eine Datenvisualisierung zu erstellen möglichst gering ist. Desto einfacher ein Prozess ist, je eher wird er angewendet. Es ist schade, wenn aufgrund des befürchteten Arbeitsaufwands (oder Zeitdrucks) keine Grafik erstellt wird oder nicht verschiedene Formen der Grafik getestet werden (was immer der Fall sein sollte). Mit der Zunahme der Datenmenge (Big Data) geht auch der Wusch einher die Daten zu verstehen. Dank der Erzählung von Geschichten entlang Datenvisualisierung werden Daten in Informationen verwandelt und helfen Verständnis für eine Sachlage zu schaffen sowie Entscheidungen zu treffen <span class="co">[</span><span class="ot">@nussbaumerknaflic2017</span><span class="co">]</span>. Mit dieser Masterarbeit soll dieser Prozess vereinfacht werden, ohne an Flexibilität einzubüssen.</span>
<span id="cb30-85"><a href="#cb30-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-86"><a href="#cb30-86" aria-hidden="true" tabindex="-1"></a>Im ersten Teil der Arbeit werden die wichtigsten Punkte für die Erstellung von Visualisierungen mit Daten eingeführt und erläutert. Wie werden aus Datenwerten Datenvisualisierungen? Zum einen sind das technische Aspekte wie das Koordinatensystem, zum anderen psychologische Faktoren wie die Verarbeitung von kognitiven Reizen. Im zweiten Teile wird auf Methoden und Voraussetzungen der Datenvisualisierungen, die bei der Erstellung des Pakets verwendet wurden, eingegangen. Der dritte Abschnitt erläutert die klassischen Entwicklungsschritte eines Pakets. Am Ende wird die Anwendung des entwickelten Pakets beispielhaft gezeigt und anschliessend ein Fazit gezogen.</span>
<span id="cb30-87"><a href="#cb30-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-88"><a href="#cb30-88" aria-hidden="true" tabindex="-1"></a>{{&lt; pagebreak &gt;}}</span>
<span id="cb30-89"><a href="#cb30-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-90"><a href="#cb30-90" aria-hidden="true" tabindex="-1"></a><span class="fu"># Von Datenwerten zu Visualisierung {#sec-von-datenwerten-zu-visualisierung}</span></span>
<span id="cb30-91"><a href="#cb30-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-92"><a href="#cb30-92" aria-hidden="true" tabindex="-1"></a>Daten zu visualisieren heisst, eine Transformation von Daten hin zu systematischen und logischen visuelle Elementen zu vollziehen, welche in ihrer Summe als bildliche Einheit interpretiert werden. Im Kern ordnet der Transformationsprozess den Daten ein quantifizierbares Merkmal zu. Das kann eine Grösse, eine Farbe, eine Form oder eine Position sein. In der Datenvisualisierung stehen 4 grundlegende Aesthetics (Gestaltungselemente) für die Darstellung von Daten als Grafiken zur Verfügung <span class="co">[</span><span class="ot">@wilke2020, S. 7</span><span class="co">]</span>.</span>
<span id="cb30-93"><a href="#cb30-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-94"><a href="#cb30-94" aria-hidden="true" tabindex="-1"></a>+------------------------------+-----------------------------+---------------------------+--------------------------+</span>
<span id="cb30-95"><a href="#cb30-95" aria-hidden="true" tabindex="-1"></a>| Position                     | Grösse                      | Farbe                     | Form                     |</span>
<span id="cb30-96"><a href="#cb30-96" aria-hidden="true" tabindex="-1"></a>+:============================:+:===========================:+:=========================:+:========================:+</span>
<span id="cb30-97"><a href="#cb30-97" aria-hidden="true" tabindex="-1"></a>| <span class="al">![](images/aes_position.JPG)</span> | <span class="al">![](images/aes_groesse.JPG)</span> | <span class="al">![](images/aes_farbe.JPG)</span> | <span class="al">![](images/aes_form.JPG)</span> |</span>
<span id="cb30-98"><a href="#cb30-98" aria-hidden="true" tabindex="-1"></a>+------------------------------+-----------------------------+---------------------------+--------------------------+</span>
<span id="cb30-99"><a href="#cb30-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-100"><a href="#cb30-100" aria-hidden="true" tabindex="-1"></a>: Basis Aesthetics Quelle: @wilke2020, S. 8. {#tbl-aesthetics}</span>
<span id="cb30-101"><a href="#cb30-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-102"><a href="#cb30-102" aria-hidden="true" tabindex="-1"></a>Die Aesthetics Linientyp, Linienbreite und Transparenz können als Spezialelemente von Form, Grösse und Farbe interpretiert werden.</span>
<span id="cb30-103"><a href="#cb30-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-104"><a href="#cb30-104" aria-hidden="true" tabindex="-1"></a>Aesthetics werden in 2 Skalen unterteilt: solche die kontinuierliche Daten darstellen können und solche, die das nicht können <span class="co">[</span><span class="ot">@wilke2020, S. 8-9</span><span class="co">]</span>. Unter kontinuierlichen Daten werden alle Skalenniveaus, für die eine beliebige Anzahl an Zwischenausprägungen besteht, gefasst: beispielsweise eine Zeitdauer. Umgekehrt haben diskrete Daten eine begrenzte Anzahl an Ausprägungen, die nicht weiter abgestuft werden können. Es ist zum Beispiel nicht möglich, dass eine Familie 1.7 Kinder hat. Das Skalenniveau definiert die Art der Ausprägung (Werte) der gemessenen Dimensionen (Merkmale), die in einer Variable erfasst werden. Bei quantitativen Forschungsmethoden werden die Skalen sehr genau definiert, da das Skalenniveau die rechnerischen Operationen und die Vergleichsmöglichkeiten definiert <span class="co">[</span><span class="ot">@diaz-bone2006, Kapitel 2.1, 2.2; @field2012, Kapitel 1.5.1</span><span class="co">]</span>. Für die Anwendung der Aesthetics ist aber die Unterscheidung zwischen kontinuierlichen und diskreten Skalen entscheidend.</span>
<span id="cb30-105"><a href="#cb30-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-106"><a href="#cb30-106" aria-hidden="true" tabindex="-1"></a>+-----------------+-----------------------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span id="cb30-107"><a href="#cb30-107" aria-hidden="true" tabindex="-1"></a>| Variablentyp    | Skala                       | Beispiel                              | Beschreibung                                                                                                                                                                                              |</span>
<span id="cb30-108"><a href="#cb30-108" aria-hidden="true" tabindex="-1"></a>+=================+=============================+=======================================+===========================================================================================================================================================================================================+</span>
<span id="cb30-109"><a href="#cb30-109" aria-hidden="true" tabindex="-1"></a>| Quantitativ/\   | Kontinuierlich              | 1,3; 83; 1.5 x 10^-2^                 | Beliebige numerische Werte. Diese können ganze, rationale oder reelle Zahlen sein.\                                                                                                                       |</span>
<span id="cb30-110"><a href="#cb30-110" aria-hidden="true" tabindex="-1"></a>| numerisch       |                             |                                       |                                                                                                                                                                                                           |</span>
<span id="cb30-111"><a href="#cb30-111" aria-hidden="true" tabindex="-1"></a>+-----------------+-----------------------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span id="cb30-112"><a href="#cb30-112" aria-hidden="true" tabindex="-1"></a>| Quantitativ/\   | Diskret                     | 1, 2, 3, 4                            | Zahlen in diskreten Einheiten sind meistens ganze Zahlen. Ausnahmen: Bspw. die Werte 0.5, 1.0, 1.5 sind auch diskrete Werte, sofern im Datensatz keine dazwischen liegenden Werte **existieren können**.\ |</span>
<span id="cb30-113"><a href="#cb30-113" aria-hidden="true" tabindex="-1"></a>| numerisch       |                             |                                       |                                                                                                                                                                                                           |</span>
<span id="cb30-114"><a href="#cb30-114" aria-hidden="true" tabindex="-1"></a>+-----------------+-----------------------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span id="cb30-115"><a href="#cb30-115" aria-hidden="true" tabindex="-1"></a>| Qualitativ/\    | Diskret                     | Hund, Katze, Fisch                    | Eindeutige Kategorien ohne feste Reihenfolge. Oft als Merkmale bezeichnet.\                                                                                                                               |</span>
<span id="cb30-116"><a href="#cb30-116" aria-hidden="true" tabindex="-1"></a>| nominal         |                             |                                       |                                                                                                                                                                                                           |</span>
<span id="cb30-117"><a href="#cb30-117" aria-hidden="true" tabindex="-1"></a>+-----------------+-----------------------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span id="cb30-118"><a href="#cb30-118" aria-hidden="true" tabindex="-1"></a>| Qualitativ/\    | Diskret                     | schlecht, angemessen, gut\            | Eindeutige Kategorien mit fester Reihenfolge. Oft als geordnete Merkmale bezeichnet.                                                                                                                      |</span>
<span id="cb30-119"><a href="#cb30-119" aria-hidden="true" tabindex="-1"></a>| ordinal         |                             |                                       |                                                                                                                                                                                                           |</span>
<span id="cb30-120"><a href="#cb30-120" aria-hidden="true" tabindex="-1"></a>+-----------------+-----------------------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span id="cb30-121"><a href="#cb30-121" aria-hidden="true" tabindex="-1"></a>| Datum oder Zeit | Kontinuierlich oder diskret | 5<span class="sc">\.</span> Jan 2018, 08:03h                  | Spezifische Tage und/oder Zeiten. Allgemeine Datumsangaben ohne Jahr sind auch möglich ("4. Juli"). Das Format kann variieren.\                                                                           |</span>
<span id="cb30-122"><a href="#cb30-122" aria-hidden="true" tabindex="-1"></a>+-----------------+-----------------------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span id="cb30-123"><a href="#cb30-123" aria-hidden="true" tabindex="-1"></a>| Text            | Keine oder diskret          | Franz jagt im Taxi quer durch Bayern. | Freitext. Kann bei Bedarf als kategorisierbar behandelt werden.                                                                                                                                           |</span>
<span id="cb30-124"><a href="#cb30-124" aria-hidden="true" tabindex="-1"></a>+-----------------+-----------------------------+---------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span id="cb30-125"><a href="#cb30-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-126"><a href="#cb30-126" aria-hidden="true" tabindex="-1"></a>: Variablentypen für Visualisierungen. Quelle: @wilke2020, S. 9. Eigene Anpassungen. {#tbl-variablentypen} {tbl-colwidths="<span class="sc">\[</span>17.5, 17.5, 20, 45<span class="sc">\]</span>"}</span>
<span id="cb30-127"><a href="#cb30-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-128"><a href="#cb30-128" aria-hidden="true" tabindex="-1"></a>Die @tbl-data-abfall-zuerich zeigt die verschiedenen Variablentypen. Die Spalte *Jahr* ist ein diskreter Datumwert, da kein anderes Jahr in der Variable vorkommt. *Gemeinde* und *Abfallart* sind beides nominale (kategorische) Werte ohne logische Reihenfolge. *Menge in Tonnen* ist ein kontinuierlicher numerischer Wert.</span>
<span id="cb30-129"><a href="#cb30-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-132"><a href="#cb30-132" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-133"><a href="#cb30-133" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-data-abfall-zuerich</span></span>
<span id="cb30-134"><a href="#cb30-134" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "Abfallart und -menge im Kanton Zürich. Quelle: @amtfürabfallwasserenergieundluftdeskantonszürich2022 `%%% ANPASSEN biviz pkg %%%`"</span></span>
<span id="cb30-135"><a href="#cb30-135" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb30-136"><a href="#cb30-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-137"><a href="#cb30-137" aria-hidden="true" tabindex="-1"></a>abfall_zh_sample <span class="ot">&lt;-</span> </span>
<span id="cb30-138"><a href="#cb30-138" aria-hidden="true" tabindex="-1"></a>  biviz<span class="sc">::</span>abfall_zh<span class="sc">|&gt;</span> </span>
<span id="cb30-139"><a href="#cb30-139" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span><span class="fu">c</span>(<span class="st">"Gemeinde_Nr"</span>, <span class="st">"Einheit"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb30-140"><a href="#cb30-140" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"Menge in Tonnen"</span> <span class="ot">=</span> Wert) <span class="sc">|&gt;</span> </span>
<span id="cb30-141"><a href="#cb30-141" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">%%</span> <span class="dv">214</span> <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb30-142"><a href="#cb30-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-143"><a href="#cb30-143" aria-hidden="true" tabindex="-1"></a>abfall_zh_sample <span class="sc">|&gt;</span> </span>
<span id="cb30-144"><a href="#cb30-144" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">4</span>) <span class="sc">|&gt;</span> </span>
<span id="cb30-145"><a href="#cb30-145" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span>
<span id="cb30-146"><a href="#cb30-146" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-147"><a href="#cb30-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-148"><a href="#cb30-148" aria-hidden="true" tabindex="-1"></a>Für die Abbildung der Daten auf den Aesthetics wird angegeben, welche Datenwerte welchem Wert auf der Datenskala entsprechen. Das bedeutet, mithilfe der Skala erfolgt die eindeutige Zuordnung zwischen Daten und Aesthetics. Bei einem Diagramm mit einer x-Achse wird angegeben welcher Wert auf welcher Position auf dieser Achse dargestellt wird. Der gleichen Logik folgend, wird angegeben welche Grösse, Farbe oder Form ein Datenwert einnehmen soll. Anstatt eine Positionsskala wird eine Grössen-, Farben- oder Formskala verwendet. Ein Datenwert entspricht in jeder Skala einem eindeutigen Skalawert bzw. Aesthetic. Je Datenwert darf es nur einen Skalawert geben und umgekehrt. Eine eins zu eins Beziehung ist notwendig, damit die Datenvisualisierung nicht mehrdeutig wird (vgl. @sec-die-beziehung-von-daten-und-visualiserungen-mit-grammer-of-graphics).</span>
<span id="cb30-149"><a href="#cb30-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-150"><a href="#cb30-150" aria-hidden="true" tabindex="-1"></a><span class="al">![Skalen verknüpfen Datenwerte mit Aesthetics. Quelle: @wilke2020, S. 10](images/image-103507192.png)</span>{#fig-aesthetics}</span>
<span id="cb30-151"><a href="#cb30-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-152"><a href="#cb30-152" aria-hidden="true" tabindex="-1"></a>Wenden wir diese Erkenntnisse beim Datensatz zum Abfall im Kanton Zürich an, dann erhalten wird folgendes Ergebnis: Auf der x-Achse werden die *Gemeinden* anhand der Positionsskala platziert. Die Variable hat keine logische Reihenfolge. Für die Unterstützung des lesens des Diagramms (@fig-abfall_zh), sind die Gemeinden anhand der Menge an Abfall sortiert. Auf der Positionsskala y-Achse ist die *Menge in Tonnen* übertragen. Zusätzlich wurden die *Gemeinden* auf die Farbskala übertragen. Vor dem Hintergrund des Data Storytelling lässt sich die Frage stellen, ob die Verwendung des Aesthetic Farbe sinnvoll ist (vgl. @sec-farben-als-steuerungsinstrument). Bei diesem Beispiel steht jedoch die Beziehung zwischen den Datenwerten und Aesthetics durch Skalen im Zentrum. Daher wurde für jede Gemeinde eine eigene Farbe verwendet.</span>
<span id="cb30-153"><a href="#cb30-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-156"><a href="#cb30-156" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-157"><a href="#cb30-157" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-abfall_zh</span></span>
<span id="cb30-158"><a href="#cb30-158" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Anzahl brennbare Abfälle und Sperrgut je Gemeinde im Jahr 2021. Eigene Darstellung."</span></span>
<span id="cb30-159"><a href="#cb30-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-160"><a href="#cb30-160" aria-hidden="true" tabindex="-1"></a>abfall_zh_sample <span class="sc">|&gt;</span> </span>
<span id="cb30-161"><a href="#cb30-161" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb30-162"><a href="#cb30-162" aria-hidden="true" tabindex="-1"></a>    Gemeinde <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Aeugst a.A."</span>, </span>
<span id="cb30-163"><a href="#cb30-163" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Affoltern a.A."</span>, </span>
<span id="cb30-164"><a href="#cb30-164" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Bonstetten"</span>, </span>
<span id="cb30-165"><a href="#cb30-165" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Hausen a.A."</span>),</span>
<span id="cb30-166"><a href="#cb30-166" aria-hidden="true" tabindex="-1"></a>    Abfallart <span class="sc">==</span> <span class="st">"Brennbare Abfälle und Sperrgut"</span></span>
<span id="cb30-167"><a href="#cb30-167" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">|&gt;</span> </span>
<span id="cb30-168"><a href="#cb30-168" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_amounts_grouped</span>(</span>
<span id="cb30-169"><a href="#cb30-169" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">fct_reorder</span>(Gemeinde, <span class="st">`</span><span class="at">Menge in Tonnen</span><span class="st">`</span>),</span>
<span id="cb30-170"><a href="#cb30-170" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">`</span><span class="at">Menge in Tonnen</span><span class="st">`</span>, </span>
<span id="cb30-171"><a href="#cb30-171" aria-hidden="true" tabindex="-1"></a>    <span class="at">group =</span> Gemeinde</span>
<span id="cb30-172"><a href="#cb30-172" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb30-173"><a href="#cb30-173" aria-hidden="true" tabindex="-1"></a>  <span class="co"># nicht notwendig, macht den plot aber etwas hübscher</span></span>
<span id="cb30-174"><a href="#cb30-174" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Gemeinde"</span>) <span class="sc">+</span> </span>
<span id="cb30-175"><a href="#cb30-175" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb30-176"><a href="#cb30-176" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-177"><a href="#cb30-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-178"><a href="#cb30-178" aria-hidden="true" tabindex="-1"></a><span class="fu">## Das kartesisches Koordinatensystem als Positionsskala {#sec-das-kartesisches-koordinatensystem-als-positionsskala}</span></span>
<span id="cb30-179"><a href="#cb30-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-180"><a href="#cb30-180" aria-hidden="true" tabindex="-1"></a>Bei der @fig-abfall_zh entspricht die Positionsskala einem kartesischen 2D-Koordinatensystem. Jeder Ort ist durch einen x- und y-Wert eindeutig markiert. Da die Achsen positive als auch negative Zahlen darstellen, muss der Zahlenbereich für jede Achse definiert werden. Bei diesem Beispiel verläuft die y-Achse von 0 bis 2297.4 (5% über dem höchsten y-Wert, welcher bei diesem Beispiel 2188 ist). Ist ein Datenwert innerhalb des definierten Zahlenbereichs, dann wird er im Diagramm an der entsprechenden Position abgebildet. Ansonsten wird der Wert verworfen und erscheint nicht im Diagramm <span class="co">[</span><span class="ot">@wilke2020, S. 13</span><span class="co">]</span>.</span>
<span id="cb30-181"><a href="#cb30-181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-184"><a href="#cb30-184" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-185"><a href="#cb30-185" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-economics</span></span>
<span id="cb30-186"><a href="#cb30-186" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb30-187"><a href="#cb30-187" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Die Anzahl Arbeitslose sind in tausend angegeben. Datenquelle: Teil des ggplot2 Pakets. Eigene Darstellung."</span></span>
<span id="cb30-188"><a href="#cb30-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-189"><a href="#cb30-189" aria-hidden="true" tabindex="-1"></a>temp_plot <span class="ot">&lt;-</span> </span>
<span id="cb30-190"><a href="#cb30-190" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span>economics <span class="sc">|&gt;</span> </span>
<span id="cb30-191"><a href="#cb30-191" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">group =</span> <span class="st">"eco"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb30-192"><a href="#cb30-192" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(date <span class="sc">&gt;</span> <span class="st">"1980-01-01"</span> <span class="sc">&amp;</span> date <span class="sc">&lt;=</span> <span class="st">"2000-01-01"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb30-193"><a href="#cb30-193" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_timeseries_line</span>(<span class="at">x =</span> date, <span class="at">y =</span> unemploy, <span class="at">group =</span> group) <span class="sc">+</span></span>
<span id="cb30-194"><a href="#cb30-194" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(</span>
<span id="cb30-195"><a href="#cb30-195" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="fu">ymd</span>(<span class="st">"1980-01-01"</span>), <span class="fu">ymd</span>(<span class="st">"1990-01-01"</span>), <span class="fu">ymd</span>(<span class="st">"2000-01-01"</span>)),</span>
<span id="cb30-196"><a href="#cb30-196" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"1980"</span>, <span class="st">"1990"</span>, <span class="st">"2000"</span>)</span>
<span id="cb30-197"><a href="#cb30-197" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb30-198"><a href="#cb30-198" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal_grid</span>() <span class="sc">+</span></span>
<span id="cb30-199"><a href="#cb30-199" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb30-200"><a href="#cb30-200" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Jahr"</span>,</span>
<span id="cb30-201"><a href="#cb30-201" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Arbeitslose"</span> <span class="co">#\n in 1000"</span></span>
<span id="cb30-202"><a href="#cb30-202" aria-hidden="true" tabindex="-1"></a>  ) <span class="co">#+  theme(axis.title.y = element_text(size = 12))</span></span>
<span id="cb30-203"><a href="#cb30-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-204"><a href="#cb30-204" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_grid</span>(</span>
<span id="cb30-205"><a href="#cb30-205" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_grid</span>(</span>
<span id="cb30-206"><a href="#cb30-206" aria-hidden="true" tabindex="-1"></a>    temp_plot, <span class="cn">NULL</span>, temp_plot,</span>
<span id="cb30-207"><a href="#cb30-207" aria-hidden="true" tabindex="-1"></a>    <span class="at">rel_widths =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="fl">0.06</span>, <span class="dv">2</span>),</span>
<span id="cb30-208"><a href="#cb30-208" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">""</span>, <span class="st">"b"</span>),</span>
<span id="cb30-209"><a href="#cb30-209" aria-hidden="true" tabindex="-1"></a>    <span class="at">nrow =</span> <span class="dv">1</span></span>
<span id="cb30-210"><a href="#cb30-210" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb30-211"><a href="#cb30-211" aria-hidden="true" tabindex="-1"></a>  <span class="cn">NULL</span>, temp_plot,</span>
<span id="cb30-212"><a href="#cb30-212" aria-hidden="true" tabindex="-1"></a>  <span class="at">rel_heights =</span> <span class="fu">c</span>(<span class="fl">1.5</span>, <span class="fl">0.06</span>, <span class="dv">1</span>),</span>
<span id="cb30-213"><a href="#cb30-213" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">""</span>, <span class="st">""</span>, <span class="st">"c"</span>),</span>
<span id="cb30-214"><a href="#cb30-214" aria-hidden="true" tabindex="-1"></a>  <span class="at">label_y =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="fl">1.2</span>),</span>
<span id="cb30-215"><a href="#cb30-215" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol =</span> <span class="dv">1</span></span>
<span id="cb30-216"><a href="#cb30-216" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb30-217"><a href="#cb30-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-218"><a href="#cb30-218" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-219"><a href="#cb30-219" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-220"><a href="#cb30-220" aria-hidden="true" tabindex="-1"></a>Beim kartesischen Koordinatensystem sind die Abstände zwischen den Gitterlinien der Achsen diskrete Schritte. Entlang einer Achse sind die Gitterlinien gleichmässig verteilt und entsprechen einer linearen Positionsskala. Dies gilt sowohl für die Dateneinheiten als auch in der Visualisierung. In allen drei Diagrammen der @fig-economics sind die Schritte auf der y-Achse 3000 je Gitterlinie und auf der x-Achse 10 Jahre. Der verwendete Raum um die diskreten Schritte abzubilden können aber unterschiedlich gross sein, womit unterschiedliche Botschaften vermittelt werden. Abbildung (a) betont die Veränderung auf der y-Achse und Abbildung (c) betont die Veränderung über die Zeit. Werden auf der x- und y-Achse die gleichen Einheiten verwendet, so sollten die Gitterabstände identische sein. So, dass der Abstand zwischen zwei Gitterlinien die gleiche Menge an Dateneinheiten beinhaltet <span class="co">[</span><span class="ot">@wilke2020, S. 14-15</span><span class="co">]</span>.</span>
<span id="cb30-221"><a href="#cb30-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-222"><a href="#cb30-222" aria-hidden="true" tabindex="-1"></a>Neben linearen Achsen gibt es auch nichtlineare Skalen, welche meistens eine logarithmische Skala verwendet. Hier entspricht eine Einheit auf der Skala einer Multiplikation von einem festen Wert <span class="co">[</span><span class="ot">@wilke2020, S. 17</span><span class="co">]</span>. Bei Datenvisualisierungen werden auch Polarkoordinatensysteme verwendet, bei denen die Position durch den Winkel und radialen Abstand zum Ursprung angegeben wird <span class="co">[</span><span class="ot">@wilke2020, S. 22</span><span class="co">]</span>. Da bei dieser Arbeit ausser beim Donutdiagramm nur das lineare kartesische Koordinatensystem verwendet wird, stehen diese Systeme nicht im Fokus. Für eine Vertiefung der Thematik ist das *Kapitel 3* aus @wilke2020 zu Empfehlen.</span>
<span id="cb30-223"><a href="#cb30-223" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-224"><a href="#cb30-224" aria-hidden="true" tabindex="-1"></a><span class="fu">## Farbe als Steuerungsinstrument {#sec-farben-als-steuerungsinstrument}</span></span>
<span id="cb30-225"><a href="#cb30-225" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-226"><a href="#cb30-226" aria-hidden="true" tabindex="-1"></a>Bei Datenvisualisierungen sind Farben ein wirkungsvolles Mittel um die Betrachtenden beim Lesen des Diagramms zu unterstützen und ihre Aufmerksamkeit zu lenken. Damit die Wirkung sich entfalten kann, muss die Anwendung von Farben selektiv und überlegt sein. Die Verwendung von Farbe sollte ein bewusster Entscheid mit einer strategischen Absicht sein. Welche Aspekte sollen die Aufmerksamkeit der Lesenden erhalten? Damit die Farben wirken, benötigt es einen Kontrast. Die Gitterlinien der bisherigen Grafiken sind alle in grau. Farben heben sich besser von grau als von blau ab, dadurch entsteht ein grösserer Kontrast zu den Farben, die für die Lenkung der Lesenden verwendet werden. Für die grösste Wirkung der Farben werden sie sparsam und konsistent eingesetzt. So wird gewährleistet, dass sie ihre präattentive Wirkung beibehalten. Ist alles unterschiedlich, dann kann auch nichts hervorstechen <span class="co">[</span><span class="ot">@nussbaumerknaflic2017, S. 98-99</span><span class="co">]</span>. Unter präattentive Merkmale versteht Nussbaumer Knaflic Kennzeichnungen, die ein vorbewusste Wahrnehmung von Sinnesreizen stimulieren und effizent mit dem ikonischen Gedächtnis interagieren. Das ikonische Gedächtnis ist aktiviert, sobald wir etwas betrachten. Dabei nehmen wir seine Tätigkeit nicht bewusst wahr. Bereits nach einem Sekundenbruchteil wird das Signal ans Kurzzeitgedächtnis weitergeleitet. Hier werden die Informationen verarbeitet. Da das Kurzzeitgedächtnis nur eine begrenzte Kapazität hat, müssen beim Data Storytelling die Reize für das Gehirn bewusst gesteuert werden. Die kognitive Belastung für das Publikum soll möglichst gering sein, damit es die vermittelten Informationen aufnehmen kann. Das Kurzzeitgedächtnis kann in etwa vier Elemente visueller Informationen zeitgleich Verarbeiten. Indem Informationen als zusammenhängende visuelle Elemente dargestellt werden, wird die kognitive Belastung für das Publikum reduziert und besitzt dennoch eine hohe Informationsdichte. Präattentive Merkmale helfen die Aufmerksamkeit des Publikums zu steuern und eine visuelle Hierarchie in einem Diagramm zu schaffen. Neben Farben sind auch Formen, Grösse oder Positionen klassiche präattentive Merkmale <span class="co">[</span><span class="ot">@nussbaumerknaflic2017, S. 83-86</span><span class="co">]</span>. Beispielsweise können wir dank der präattentiven Funktion der Farbe einfacher und schneller die Anzahl Dreien in einem Zahlenblock zählen @fig-ohne_praeattetiven_merkmalen und @fig-mit_praeattetiven_merkmalen.</span>
<span id="cb30-227"><a href="#cb30-227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-228"><a href="#cb30-228" aria-hidden="true" tabindex="-1"></a>::: {#fig-praeattetiven_merkmalen layout-ncol="2"}</span>
<span id="cb30-229"><a href="#cb30-229" aria-hidden="true" tabindex="-1"></a><span class="al">![Ohne präattentivem Merkmal](images/ohne_praeattentive_merkmale.jpg)</span>{#fig-ohne_praeattetiven_merkmalen}</span>
<span id="cb30-230"><a href="#cb30-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-231"><a href="#cb30-231" aria-hidden="true" tabindex="-1"></a><span class="al">![Mit präattentivem Merkmal](images/mit_praeattentive_merkmale.jpg)</span>{#fig-mit_praeattetiven_merkmalen}</span>
<span id="cb30-232"><a href="#cb30-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-233"><a href="#cb30-233" aria-hidden="true" tabindex="-1"></a>Zahlen mit und ohne präattentivem Merkmal. Quelle: <span class="co">[</span><span class="ot">@nussbaumerknaflic2017, S. 86</span><span class="co">]</span></span>
<span id="cb30-234"><a href="#cb30-234" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb30-235"><a href="#cb30-235" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-236"><a href="#cb30-236" aria-hidden="true" tabindex="-1"></a>Die korrekte Verwendung von Farbpaletten und ihre Wichtigkeit für die Kommunikation mit Datenvisualisierungen betrifft neben der Interpretation der Diagrammen auch die Berücksichtigung der Farbenblindheit <span class="co">[</span><span class="ot">@hawkins2015; @bartram2017</span><span class="co">]</span>. Die wichtigsten Aufgaben von Farben ist die Unterscheidung von Datengruppen (wie bei @fig-mit_praeattetiven_merkmalen ), das Darstellen von Datenwerten oder die Hervorhebung von Datenpunkte. Bei @fig-abfall_zh dient die Farbe als Unterscheidungsmerkmal der einzelnen Gemeinden. Bei der Anwendung von Farbe als Unterscheidungsmerkmal werden qualitative Farbskalen verwendet. Das heisst, die Anzahl Farben ist endlich, sie unterscheiden sich voneinander und sind gleichwertig zueinander. Folglich darf keine Farbe dominanter als die andere sein und der Eindruck einer Reihenfolge muss vermieden werden <span class="co">[</span><span class="ot">@wilke2020, S. 25-26</span><span class="co">]</span>. Die Okabe Ito Farbskala <span class="co">[</span><span class="ot">@okabe</span><span class="co">]</span> ist eine bekannte Standardskala welche die beschriebenen Voraussetzungen erfüllt und Farbenblindheit berücksichtigt. Rund acht Prozent der Männer und ein halbes Prozent der Frauen sind farbenblind, wodurch sie Rottöne und Grüntöne nur schlecht unterscheiden können.<span class="ot">[^1]</span> Um positive und negative Punkte trotzdem mit Farben hervorzuheben wird oft blau für positive Werte und orange für negative Werte verwendet <span class="co">[</span><span class="ot">@nussbaumerknaflic2017, S.101-102</span><span class="co">]</span>. Um quantitative Datenwerte darzustellen werden sequenzielle Farbskalen verwendet, bei denen erkennbar ist, welcher Wert grösser oder kleiner ist. Damit abgeschätzt werden kann, wie weit zwei Werte voneinander entfernt sind, müssen sich die Farbabstuffungen gleichmässig über den gesamten Bereich verändern. Das ist sowohl mit einem einzelnen Farbton wie auch mit mehreren Farbtönen möglich. Werden quantitative Datenwerte relativ zu einem neutralen Mittelpunkt visualisiert, wird eine divergente Farbskala verwendet. Beispielsweise bei einer Variable mit positiven als auch negativen Werten <span class="co">[</span><span class="ot">@wilke2020, S. 27-28</span><span class="co">]</span>.</span>
<span id="cb30-237"><a href="#cb30-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-238"><a href="#cb30-238" aria-hidden="true" tabindex="-1"></a><span class="ot">[^1]: </span>Es gibt viele Programme um die Farbenblindheit zu simulieren. Beispielsweise die Websiten <span class="co">[</span><span class="ot">hclwizard.org/cvdemulator</span><span class="co">](http://hclwizard.org:3000/cvdemulator/)</span> oder <span class="co">[</span><span class="ot">vischeck.com</span><span class="co">](http://www.vischeck.com)</span>.</span>
<span id="cb30-239"><a href="#cb30-239" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-242"><a href="#cb30-242" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-243"><a href="#cb30-243" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-farbskalen</span></span>
<span id="cb30-244"><a href="#cb30-244" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb30-245"><a href="#cb30-245" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Das R Paket colorspace [@zeileis2020] ist ein flexibles Werkzeug um eigene Farbpaletten zu erstellen (beispielsweise eine Okabe Ito Farbskala) oder auf bestehende Skalen zuzugreifen. Eigene Darstellung."</span></span>
<span id="cb30-246"><a href="#cb30-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-247"><a href="#cb30-247" aria-hidden="true" tabindex="-1"></a><span class="fu">swatchplot</span>(</span>
<span id="cb30-248"><a href="#cb30-248" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Qualitative 1"</span>              <span class="ot">=</span> <span class="fu">qualitative_hcl</span>(<span class="at">n =</span> <span class="dv">5</span>, <span class="at">palette =</span> <span class="st">"Dark 3"</span>),</span>
<span id="cb30-249"><a href="#cb30-249" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Qualitative 2"</span>              <span class="ot">=</span> <span class="fu">qualitative_hcl</span>(<span class="at">n =</span> <span class="dv">5</span>, <span class="at">palette =</span> <span class="st">"Pastel 1"</span>),</span>
<span id="cb30-250"><a href="#cb30-250" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Sequenziell</span><span class="sc">\n</span><span class="st">einfarbig"</span>     <span class="ot">=</span> <span class="fu">sequential_hcl</span>(<span class="at">n =</span> <span class="dv">5</span>, <span class="at">palette =</span> <span class="st">"Blues"</span>),</span>
<span id="cb30-251"><a href="#cb30-251" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Sequenziell</span><span class="sc">\n</span><span class="st">mehrfarbig"</span>    <span class="ot">=</span> <span class="fu">sequential_hcl</span>(<span class="at">n =</span> <span class="dv">5</span>, <span class="at">palette =</span> <span class="st">"YlOrRd"</span>),</span>
<span id="cb30-252"><a href="#cb30-252" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Divergent"</span>                  <span class="ot">=</span> <span class="fu">diverging_hcl</span>(<span class="at">n =</span> <span class="dv">5</span>, <span class="at">palette =</span> <span class="st">"Green-Brown"</span>),</span>
<span id="cb30-253"><a href="#cb30-253" aria-hidden="true" tabindex="-1"></a>  <span class="at">off =</span> <span class="dv">0</span></span>
<span id="cb30-254"><a href="#cb30-254" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb30-255"><a href="#cb30-255" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-256"><a href="#cb30-256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-257"><a href="#cb30-257" aria-hidden="true" tabindex="-1"></a>Wann ist der Einsatz von Farbe sinnvoll? Immer dann wenn sie dem Publikum das Lesen des Diagramms erleichtert. Farbe muss nicht unterhalten, sondern ein Signal senden. Verändert sich etwas in der Grafik oder gibt es einen wichtigen Punkt zu beachten? Dann muss das Publikum auf diesen Umstand aufmerksam gemacht werden. Das geht nur, wenn die Farben zurückhaltend und durchgehend sind, also nicht in jeder Visualisierung eine andere Farbe verwendet wird. Die kognitive Belastung reduziert sich, wenn die Bedeutung einer Farbe innerhalb eines Visualisierungsportfolio (beispielsweise in einem Paper oder in einer Präsentation) gleich bleibt <span class="co">[</span><span class="ot">@nussbaumerknaflic2017, S. 100-101</span><span class="co">]</span>. Ansonsten besteht nicht nur die Gefahr, dass das Publikum verwirrt sondern gar aktiv in die Irre geführt wird <span class="co">[</span><span class="ot">@borland2007, S. 15</span><span class="co">]</span>.</span>
<span id="cb30-258"><a href="#cb30-258" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-259"><a href="#cb30-259" aria-hidden="true" tabindex="-1"></a><span class="fu">## Gestaltungsprizipien in Datenvisualisierungen {#sec-gestaltungsprizipien-in-datenvisualisierungen}</span></span>
<span id="cb30-260"><a href="#cb30-260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-261"><a href="#cb30-261" aria-hidden="true" tabindex="-1"></a>Die Aufnahme von Informationen ist für das Gehirn eine mentale Anstrengung. Die Gehirnkapazität des Publikums ist begrenzt, daher muss die kognitive Belastung bewusst und effektiv gestaltet sein. Das bedeutet, relevanten Informationen müssen mit möglichst geringer wahrgenommener kognitiver Belastung kommuniziert werden. Dafür müssen die Signale (die Informationen, die vermittelt werden) gestärkt und das Rauschen (Elemente die von der Information ablenken) reduziert werden. Das Diagramm soll eingänglich und einfach erscheinen. Komplizierte Grafiken können das Publikum abschrecken und ihre Aufmerksamkeit geht verloren. Die Gestaltprinzipien der visuellen Wahrnehmung helfen die Signale einer Grafik zu erkennen und Rauschen zu minimieren. Damit die Botschaft der präsentierten Daten einfach erkennbar ist <span class="co">[</span><span class="ot">@nussbaumerknaflic2017, S. 61-63</span><span class="co">]</span>. Die Überlegungen und Grafiken zu den Gestaltprinzipien folgen den Ausführungen von Nussbaumer Knaflic <span class="co">[</span><span class="ot">-@nussbaumerknaflic2017</span><span class="co">]</span> im Kapitel *Gestaltprinzipien der visuellen Wahrnehmung*:</span>
<span id="cb30-262"><a href="#cb30-262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-263"><a href="#cb30-263" aria-hidden="true" tabindex="-1"></a>::: {#fig-naehe layout-ncol="2" fig-pos="H"}</span>
<span id="cb30-264"><a href="#cb30-264" aria-hidden="true" tabindex="-1"></a><span class="al">![](images/gestaltprinzip_naehe.jpg)</span></span>
<span id="cb30-265"><a href="#cb30-265" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-266"><a href="#cb30-266" aria-hidden="true" tabindex="-1"></a><span class="al">![](images/gestaltprinzip_naehe2.jpg)</span></span>
<span id="cb30-267"><a href="#cb30-267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-268"><a href="#cb30-268" aria-hidden="true" tabindex="-1"></a>Das Gestaltprinzip der Nähe.</span>
<span id="cb30-269"><a href="#cb30-269" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb30-270"><a href="#cb30-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-271"><a href="#cb30-271" aria-hidden="true" tabindex="-1"></a>Durch die physische Nähe der Punkte, werden sie als zusammengehörig wahrgenommen. Dank der Anordnung und Nutzung von Zwischenräumen sehen die Augen Gruppen, Linien etc.. Bei den vertikalen Reihen ist der Weissraum (Zwischenräume) grösser zwischen den nebeneinander liegenden Punkten und bei den horizontalen Reihen zwischen den oberen und unteren Punkten.</span>
<span id="cb30-272"><a href="#cb30-272" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-273"><a href="#cb30-273" aria-hidden="true" tabindex="-1"></a>::: {#fig-aehnlichkeit layout-ncol="2" fig-pos="H"}</span>
<span id="cb30-274"><a href="#cb30-274" aria-hidden="true" tabindex="-1"></a><span class="al">![](images/gestaltprinzip_aehnlichkeit.jpg)</span></span>
<span id="cb30-275"><a href="#cb30-275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-276"><a href="#cb30-276" aria-hidden="true" tabindex="-1"></a><span class="al">![](images/gestaltprinzip_aehnlichkeit2.jpg)</span></span>
<span id="cb30-277"><a href="#cb30-277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-278"><a href="#cb30-278" aria-hidden="true" tabindex="-1"></a>Das Gestaltprinzip der Ähnlichkeit.</span>
<span id="cb30-279"><a href="#cb30-279" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb30-280"><a href="#cb30-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-281"><a href="#cb30-281" aria-hidden="true" tabindex="-1"></a>Haben Objekte eine ähnliche Erscheinung (Form, Farbe, Grösse, etc) so stellt unser Gehirn eine Verbindung zwischen diesen Punkten her. Damit kann dem Publikum wichtige Interpretationshilfe geboten werden und die kognitive Belastung ist tief. Beispielsweise sehen wir durch die Färbung der Punkte in der zweiten Grafik Linien.</span>
<span id="cb30-282"><a href="#cb30-282" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-283"><a href="#cb30-283" aria-hidden="true" tabindex="-1"></a>::: {#fig-umrandung layout-ncol="2" fig-pos="H"}</span>
<span id="cb30-284"><a href="#cb30-284" aria-hidden="true" tabindex="-1"></a><span class="al">![](images/gestaltprinzip_umrandung.jpg)</span></span>
<span id="cb30-285"><a href="#cb30-285" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-286"><a href="#cb30-286" aria-hidden="true" tabindex="-1"></a><span class="al">![](images/gestaltprinzip_umrandung2.jpg)</span></span>
<span id="cb30-287"><a href="#cb30-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-288"><a href="#cb30-288" aria-hidden="true" tabindex="-1"></a>Das Gestaltprinzip der Umrandung</span>
<span id="cb30-289"><a href="#cb30-289" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb30-290"><a href="#cb30-290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-291"><a href="#cb30-291" aria-hidden="true" tabindex="-1"></a>Durch einen Rahmen werden Teilemengen einfach als Gruppe identifiziert. Die Fläche kann schattiert oder klassisch mit Linien umrandet werden. Die Umrandung ist hilfreich zur Unterscheidung von unterschiedlichen (Daten-) Bereichen.</span>
<span id="cb30-292"><a href="#cb30-292" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-293"><a href="#cb30-293" aria-hidden="true" tabindex="-1"></a>::: {#fig-form layout-ncol="2" fig-pos="H"}</span>
<span id="cb30-294"><a href="#cb30-294" aria-hidden="true" tabindex="-1"></a><span class="al">![](images/gestaltprinzip_form.jpg)</span></span>
<span id="cb30-295"><a href="#cb30-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-296"><a href="#cb30-296" aria-hidden="true" tabindex="-1"></a><span class="al">![](images/gestaltprinzip_form2.jpg)</span></span>
<span id="cb30-297"><a href="#cb30-297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-298"><a href="#cb30-298" aria-hidden="true" tabindex="-1"></a>Das Gestaltprinzip der Form.</span>
<span id="cb30-299"><a href="#cb30-299" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb30-300"><a href="#cb30-300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-301"><a href="#cb30-301" aria-hidden="true" tabindex="-1"></a>Unser Hirn neigt dazu, einzelne Elemente in einer Reihe wenn möglich als ein einzige Form wahrzunehmen. Trotz der Lücken in der Kreisform erkennt unser Gehirn einen Kreis, indem er die fehlenden Teile ausfüllt. Dazu muss das Konstrukt aber bekannt und eine einfach Darstellung sein. Dank dem Konzept der Form erkennen wir auch, die Zusammengehörigkeit einer Grafik ohne einen Rahmen. Gleichzeitig wird das Rauschen reduziert und die Daten hervorgehoben.</span>
<span id="cb30-302"><a href="#cb30-302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-303"><a href="#cb30-303" aria-hidden="true" tabindex="-1"></a>::: {#fig-kontinuitaet layout-ncol="2" fig-pos="H"}</span>
<span id="cb30-304"><a href="#cb30-304" aria-hidden="true" tabindex="-1"></a><span class="al">![](images/gestaltprinzip_kontinuitaet.jpg)</span></span>
<span id="cb30-305"><a href="#cb30-305" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-306"><a href="#cb30-306" aria-hidden="true" tabindex="-1"></a><span class="al">![](images/gestaltprinzip_kontinuitaet2.jpg)</span></span>
<span id="cb30-307"><a href="#cb30-307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-308"><a href="#cb30-308" aria-hidden="true" tabindex="-1"></a>Das Gestaltprinzip der Kontinuität.</span>
<span id="cb30-309"><a href="#cb30-309" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb30-310"><a href="#cb30-310" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-311"><a href="#cb30-311" aria-hidden="true" tabindex="-1"></a>Unser Gehirn sucht in Objekten die Kontinuität und das Bekannte. Daher erwarten die meisten Menschen beim Auseinander nehmen des Bildes 1, das Bild 2, obwohl es genauso gut Bild 3 sein könnte <span class="co">[</span><span class="ot">vgl. auch @kanizsa1970</span><span class="co">]</span>. Im Balkendiagramm wird kein y-Achse benötigt, da unser Hirn die Linie selber zeichnet und erkennt, dass alle Balken am gleichen Punkt starten. Da die Distanz bzw. der Weissraum zwischen der Beschriftung (links) und den dargestellten Daten (rechtes) überall identisch ist, wird eine Linie signalisiert.</span>
<span id="cb30-312"><a href="#cb30-312" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-313"><a href="#cb30-313" aria-hidden="true" tabindex="-1"></a>::: {#fig-verbindung layout-ncol="2" fig-pos="H"}</span>
<span id="cb30-314"><a href="#cb30-314" aria-hidden="true" tabindex="-1"></a><span class="al">![](images/gestaltprinzip_verbindung.jpg)</span></span>
<span id="cb30-315"><a href="#cb30-315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-316"><a href="#cb30-316" aria-hidden="true" tabindex="-1"></a><span class="al">![](images/gestaltprinzip_verbindung2.jpg)</span></span>
<span id="cb30-317"><a href="#cb30-317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-318"><a href="#cb30-318" aria-hidden="true" tabindex="-1"></a>Das Gestaltprinzip der Verbindung.</span>
<span id="cb30-319"><a href="#cb30-319" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb30-320"><a href="#cb30-320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-321"><a href="#cb30-321" aria-hidden="true" tabindex="-1"></a>Das Gestaltprinzip der Verbindung ist stärker als das Prinzip der Ähnlichkeit und schwächer als die Umrandung. Das heisst, die Zusammengehörigkeit von verbundenen Elemente ist stärker als die gleiche Farbe, Grösse oder Form. Eine Umrandung besitzt jedoch eine höhere visuelle Hirarchie als die Verbindung, wodurch die Objekte in einem Rahmen zusammengehörig wahrgenommen werden obwohl sie mit einem anderen Objekten verbunden sind. Verbindungen helfen, den Datenpunkten eine Ordnung zu geben und wird unter anderem bei Liniendiagrammen eingesetzt. Die meisten Liniendiagramme bestehen aus einzelnen Datenpunkten, welche erst dank dem Gestaltprinzip der Verbindung als Kontinuum erkennbar sind.</span>
<span id="cb30-322"><a href="#cb30-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-323"><a href="#cb30-323" aria-hidden="true" tabindex="-1"></a><span class="fu">## Mit Daten Geschichten erzählen</span></span>
<span id="cb30-324"><a href="#cb30-324" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-325"><a href="#cb30-325" aria-hidden="true" tabindex="-1"></a>Die Vermittlung von Analysen ist üblicherweise der einzige Teil, welcher das Publikum zu sehen bekommt von einer Datenanalyse. Folglich sollte dieser Schritt möglichst erfolgreich und nachhaltig gestaltet sein. Damit das erreicht wird, muss der Wechsel von der erforschenden Analyse zur erklärenden Analyse erfolgen. Die erforschende Analyse ist der Prozess, welcher zu neuem Verständnis und neuen Erkenntnissen führt. Bei der Vermittlung der Resultate kann aber nicht der gesamte analytische Prozess wiedergeben werden, daher ist es wichtig einen erklärenden Ansatz anzuwenden. Hier wird eine bestimmte Erkenntnis erklärt und analysiert, die für das Publikum und die gegebene Situation wichtig ist <span class="co">[</span><span class="ot">@nussbaumerknaflic2017, S. 17</span><span class="co">]</span>.</span>
<span id="cb30-326"><a href="#cb30-326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-327"><a href="#cb30-327" aria-hidden="true" tabindex="-1"></a>+------------------------------------------+------------------------------------+------------------------------+</span>
<span id="cb30-328"><a href="#cb30-328" aria-hidden="true" tabindex="-1"></a>|                                          | erforschende Analyse               | erklärende Analyse           |</span>
<span id="cb30-329"><a href="#cb30-329" aria-hidden="true" tabindex="-1"></a>+:=========================================+:===================================+:=============================+</span>
<span id="cb30-330"><a href="#cb30-330" aria-hidden="true" tabindex="-1"></a>| Ziel                                     | Verstehen                          | Kommunizieren\               |</span>
<span id="cb30-331"><a href="#cb30-331" aria-hidden="true" tabindex="-1"></a>+------------------------------------------+------------------------------------+------------------------------+</span>
<span id="cb30-332"><a href="#cb30-332" aria-hidden="true" tabindex="-1"></a>| Publikum                                 | Analyst:in (sich selbst)           | andere Personen\             |</span>
<span id="cb30-333"><a href="#cb30-333" aria-hidden="true" tabindex="-1"></a>+------------------------------------------+------------------------------------+------------------------------+</span>
<span id="cb30-334"><a href="#cb30-334" aria-hidden="true" tabindex="-1"></a>| Vertrautheit des Publikums mit den Daten | Sehr vertraut                      | Nicht bis wenige vertraut\   |</span>
<span id="cb30-335"><a href="#cb30-335" aria-hidden="true" tabindex="-1"></a>+------------------------------------------+------------------------------------+------------------------------+</span>
<span id="cb30-336"><a href="#cb30-336" aria-hidden="true" tabindex="-1"></a>| Fokus der Visualisierung                 | Flexibel und schnell               | Einfach, klar und schlüssig\ |</span>
<span id="cb30-337"><a href="#cb30-337" aria-hidden="true" tabindex="-1"></a>+------------------------------------------+------------------------------------+------------------------------+</span>
<span id="cb30-338"><a href="#cb30-338" aria-hidden="true" tabindex="-1"></a>| Erzählung                                | Unbekannt                          | Bekannt\                     |</span>
<span id="cb30-339"><a href="#cb30-339" aria-hidden="true" tabindex="-1"></a>+------------------------------------------+------------------------------------+------------------------------+</span>
<span id="cb30-340"><a href="#cb30-340" aria-hidden="true" tabindex="-1"></a>| Resultat                                 | Insight (Verständnis &amp; Erkenntnis) | Aktion                       |</span>
<span id="cb30-341"><a href="#cb30-341" aria-hidden="true" tabindex="-1"></a>+------------------------------------------+------------------------------------+------------------------------+</span>
<span id="cb30-342"><a href="#cb30-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-343"><a href="#cb30-343" aria-hidden="true" tabindex="-1"></a>: Die zwei Arten der Analyse. Quelle: @dykes2020, S. 138. Eigene Anpassungen. {#tbl-erforschen-erklaeren}</span>
<span id="cb30-344"><a href="#cb30-344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-345"><a href="#cb30-345" aria-hidden="true" tabindex="-1"></a>In der Forschung ist die erklärende Position die Beantwortung der Forschungsfrage und im geschäftlichen Umfeld beispielsweise die Erklärung, weshalb der Pendenzenstand im Team A zugenommen hat. Um die Fragen zu beantworten, werden eine Vielzahl von erforschenden Analysen durchgeführt, aber nur einige wenige geben Informationen um die Fragestellung zu beantworten. Auf diese Informationen wird bei der erklärenden Analyse eingegangen. Damit die Argumente überzeugen und die Erkenntnisse in Erinnerung bleiben, wird eine packende Geschichte benötigt. Die Erzählung einer Geschichte hilft, die gewonnen Fakten aus der erforschenden Analyse bei der erklärenden Analyse dem Publikum interessant und nachvollziehbar zu präsentieren. Damit das möglich ist, muss der Kontext eruiert werden. Wer ist das Publikum und in welcher Rolle stehe ich zum Zielpublikum? Je nach Situation muss eine andere Kommunikation gewählt werden, damit die Geschichte ihr Ziel erreicht. Was soll das Publikum wissen? Erkennen was für das Publikum spannend und relevant ist. Hier wir die Handlung der Geschichte definiert. Dabei muss immer die Frage beantwortet werden, weshalb soll sich das Publikum für die Geschichte interessieren. Wie kann die Frage beantwortet werden? Bei diesem Schritt werden die Daten ausgewählt, welche die Geschichte untermauern und plausibilisieren <span class="co">[</span><span class="ot">@nussbaumerknaflic2017, S. 18-23</span><span class="co">]</span>.</span>
<span id="cb30-346"><a href="#cb30-346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-347"><a href="#cb30-347" aria-hidden="true" tabindex="-1"></a>Was aber ist eine Geschichte? Bei einer Geschichte werden Beobachtungen, Erkenntnisse und Ereignisse in eine bestimmte Reihenfolge gebracht, mit dem Ziel beim Publikum eine emotionale Wirkung zu erzielen. Durch den Aufbau einer Spannung am Anfang und der Lösung am Ende der Geschichte wird das Publikum gefesselt, was eine emotionale Reaktion auslöst <span class="co">[</span><span class="ot">@wilke2020, S. 304</span><span class="co">]</span>. Neben der Wiederholung ist die emotionale Wirkung der Geschichte durch den Spannungsbogen wichtig, damit sie in unserem Gedächtnis bleibt. Es gibt eine Vielzahl von narrativen Strukturen und Methoden des Storytellings, sei es im Theater, im Film oder bei Texten. Eine einfache Methode für das Data Storytelling ist das Muster Anfang-Mitte-Ende, welches dem klassischen Narrativ eines Forschungspaper (Einleitung-Hauptteil-Schlussfolgerung) gleicht. Am Anfang wir die Handlung eingeführt und eine Auslegeordnung gemacht, damit das Publikum erkennt, weshalb die Geschichte wichtig für sie ist. Was ist der Kontext, welches sind die Schlüsselpunkte, was ist das Problem und was ist die gewünschte Lösung? In der Mitte muss das Publikum von einem Sachstand überzeugt werden. Deshalb steht das *wie* der Problemlösung im Zentrum. Dafür wird das Thema in seinen Details (Hintergrundinformationen, Vergleiche, Szenarien, mögliche Problemlösungen) dargestellt. Am Ende wird auf die Ausgangslage Bezug genommen und eine Handlungsempfehlung abgegeben. Über den ganzen Prozess hinweg steht immer das Publikum im Mittelpunkt: Warum ist es relevant für sie? Was stösst auf Resonanz und motiviert? Dabei steht jedes Mal der gleiche Inhalt zur Debatte, lediglich aus unterschiedlichen Perspektiven (Einführen, Details, Zusammenfassen) <span class="co">[</span><span class="ot">@nussbaumerknaflic2017, S. 146-149</span><span class="co">]</span>.</span>
<span id="cb30-348"><a href="#cb30-348" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-349"><a href="#cb30-349" aria-hidden="true" tabindex="-1"></a>Bei der Integration von Datenvisualisierungen in Geschichte müssen gewisse Punkte berücksichtigt werden. Erstens kann eine einzelne Visualisierung keine ganze Geschichte erzählen. Damit mit Visualisierung eine Geschichte erzählt werden kann, benötigt es mehrere Diagramme. Je Station des Storytellings benötigt es in der Regel mindestens eine Grafik. Sowenig in Textform der Anfang, die Mitte und das Ende einer Geschichte in einem Satz sinnvoll dargelegt werden kann, kann dies auch keine Visualisierung erreichen <span class="co">[</span><span class="ot">@wilke2020, S. 305</span><span class="co">]</span>. Damit die Visualisierung (Form) den gewünschten Effekt (Funktion) auslöst, muss die Form (Visualisierung) der Funktion (Effekt) folgen. Das heisst, die Visualisierung soll etwas auslösen, damit das funktioniert, benötigt sie eine vorher definierte Funktion (Was soll die Grafik machen?). Um die Funktion des Diagramms zu zeigen, muss dem Publikum gezeigt werden, wie es mit der Darstellung umgehen soll. Die wichtigste Methode dafür ist bei der Datenvisualisierung die Verwendung von Farben (vgl. @sec-farben-als-steuerungsinstrument). Damit die Hervorhebung seine Wirkung entfalten kann, ist es wichtig sparsam mit diesem Tool umzugehen <span class="co">[</span><span class="ot">@nussbaumerknaflic2017, S. 107-109</span><span class="co">]</span>. Zudem muss die Visualisierung zugänglich sein. Nicht das Publikum ist verantwortlich, dass es die Grafik versteht sondern die Autorschaft. Das wird erreicht durch ein verständliches Design (keine unnötige Komplexität), Lesbarkeit (Schriftart und Grösse), Klarheit (wichtiges wird hervorgehoben) und einfache Sprache (Publikum angepasst). Das Publikum muss durch das Diagramm geführt werden, dazu sind Titel, Achsenbeschriftungen und direkte Annotationen notwendig <span class="co">[</span><span class="ot">@nussbaumerknaflic2017, S. 118-119</span><span class="co">]</span>. Werden alle diese Punkte berücksichtige und alle Elemente folgen einer visuellen Ordnung, dann hat das Diagramm eine ansprechende Ästhetik, wodurch das Vertrauen des Publikums gewonnen wird <span class="co">[</span><span class="ot">@nussbaumerknaflic2017, S. 68; S. 123</span><span class="co">]</span>.</span>
<span id="cb30-350"><a href="#cb30-350" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-351"><a href="#cb30-351" aria-hidden="true" tabindex="-1"></a><span class="fu"># Vorgehen Methode</span></span>
<span id="cb30-352"><a href="#cb30-352" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-353"><a href="#cb30-353" aria-hidden="true" tabindex="-1"></a><span class="fu">## Tidy Data als Basis von Datenvisualisierungen</span></span>
<span id="cb30-354"><a href="#cb30-354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-355"><a href="#cb30-355" aria-hidden="true" tabindex="-1"></a>Für die effiziente Anwendung von Datenvisualisierungen müssen die Daten als *Tidy Data* <span class="co">[</span><span class="ot">@wickham2014</span><span class="co">]</span> aufbereitet sein. Folgende Kriterien müssen gemäss Wickham <span class="co">[</span><span class="ot">-@wickham2014, S. 4</span><span class="co">]</span> erfüllt sein, damit ein Datensatz dem Grundsatz Tidy Data entspricht:</span>
<span id="cb30-356"><a href="#cb30-356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-357"><a href="#cb30-357" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>Jede Variable hat eine eigene Spalte.</span>
<span id="cb30-358"><a href="#cb30-358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-359"><a href="#cb30-359" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>Jede Beobachtung hat eine eigene Zeile.</span>
<span id="cb30-360"><a href="#cb30-360" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-361"><a href="#cb30-361" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>Jeder Wert hat eine eigene Zelle.</span>
<span id="cb30-362"><a href="#cb30-362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-363"><a href="#cb30-363" aria-hidden="true" tabindex="-1"></a><span class="al">![Bei einem tidy Datenset sind Variablen in Spalten, Beobachtungen in Zeilen und Werte in Zellen gespeichert. Quelle: @wickham2016, S. 149.](images/image-192429895.png)</span>{#fig-tidy-data-struktur}</span>
<span id="cb30-364"><a href="#cb30-364" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-365"><a href="#cb30-365" aria-hidden="true" tabindex="-1"></a>Die Standardisierung der Organisation von Datenwerten in einem Datensatz vereinfacht die Datenanalyse. Die Datenstruktur (Zweidimensionale Tabelle mit Spalten und Zeilen) wird beim Tidy Data Ansatz mit einer Semantik (Variablen, Beobachtungen, Werte) verknüpft. Es ist nicht immer einfach herauszufinden, was Beobachtungen und was Variablen sind. Um die Variablen und Beobachtungen für eine Datenanalyse herauszufinden, gilt der Grundsatz: Beziehungen lassen sich einfacher zwischen Variablen beschreiben und Vergleiche zwischen Gruppen von Beobachtungen <span class="co">[</span><span class="ot">@wickham2014, S. 3-4</span><span class="co">]</span>.</span>
<span id="cb30-366"><a href="#cb30-366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-367"><a href="#cb30-367" aria-hidden="true" tabindex="-1"></a><span class="al">![Ordnung durch Tidy Data. Quelle: @lowndes2020](images/tidy_data.jpg)</span>{#fig-tidy-data fig-alt="There are two sets of anthropomorphized data tables. The top group of three tables are all rectangular and smiling, with a shared speech bubble reading “our columns are variables and our rows are observations!”. Text to the left of that group reads “The standard structure of tidy data means that “tidy datasets are all alike…” The lower group of four tables are all different shapes, look ragged and concerned, and have different speech bubbles reading (from left to right) “my column are values and my rows are variables”, “I have variables in columns AND in rows”, “I have multiple variables in a single column”, and “I don’t even KNOW what my deal is.” Next to the frazzled data tables is text “...but every messy dataset is messy in its own way."}</span>
<span id="cb30-368"><a href="#cb30-368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-369"><a href="#cb30-369" aria-hidden="true" tabindex="-1"></a>Abgesehen, dass mit Tidy Data eine konsistente Methode für die Datenspeicherung verwendet wird, kann R die Vorteile einer vektorisierten Programmiersprache so optimal ausschöpfen <span class="co">[</span><span class="ot">@wickham2016, S. 150</span><span class="co">]</span>. Vektorisiert bedeutet, dass eine Funktion einen Vektor mit Werten als Input nimmt und einen Vektor mit der gleichen Anzahl an Werten als Output retourniert <span class="co">[</span><span class="ot">@wickham2016, S. 56</span><span class="co">]</span>. Tidy Data entspricht einem langen Datenformat. Dadurch entsteht eine Redundanz an Werten, was bei der Speicherung von Daten nicht gewünscht ist, aber die Datenanalyse vereinfacht <span class="co">[</span><span class="ot">@healy2018, S. 56</span><span class="co">]</span>.</span>
<span id="cb30-370"><a href="#cb30-370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-371"><a href="#cb30-371" aria-hidden="true" tabindex="-1"></a><span class="fu">## Die Beziehung von Daten und Visualiserungen mit "Grammer of Graphics" {#sec-die-beziehung-von-daten-und-visualiserungen-mit-grammer-of-graphics}</span></span>
<span id="cb30-372"><a href="#cb30-372" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-373"><a href="#cb30-373" aria-hidden="true" tabindex="-1"></a>Die Datenvisualisierungen im entwickelten Paket {**biviz}** basieren auf dem Paket **{ggplot2}** [@hadley2016], welches den Ansatz *The Grammar of Graphics* [@wilkinson2005] verfolgt und vektorisiert ist. Durch die Grammer of Graphics werden Beziehungen zwischen den Daten und ihrer grafischen Darstellung ausgedrückt und bietet eine einheitliche Möglichkeit Visualisierungen zu erstellen. In der Theorie folgt die Grammer of Graphics sieben Schritten zur Erstellung einer Grafik. Daten werden Variablen zugeordnet. Anschliessend durchlaufen die Variablen drei mögliche Transformationsschritte (Algebra, Skalen, Statistik). Danach werden die transformierten Variablen einem geometrischen Objekt übergeben, damit die Daten eine Form erhalten. Im nächsten Schritt wird das Objekt in einem Koordinatensystem positioniert. Zum Schluss wird ein visuell wahrnehmbares Objekt erstellt, das Grafik heisst [@wilkinson2012, S. 376-377]. Diese strukturierte Beziehung zwischen den Datenvariablen und deren Repräsentation in einer Grafik macht sich das Paket {ggplot2} zu eigen um Diagramme zu erstellen. Dazu werden zuerst die Daten definiert, anschliessend wird das visuelle Element gewählt und am Ende werden die Details einer Visualisierung angepasst. Das heisst, ein Code mit {ggplot2} folgt bei der Erstellung einer Grafik einer logischen Struktur. Es werden Verbindungen zwischen den Datenvariablen und den Skalen der grafischen Elementen (Farbe, Form, Position, Grösse) einer Visualisierung hergestellt. Diese Verbindungen heissen *aesthetics* (vgl. @sec-von-datenwerten-zu-visualisierung). Am Ende des Datenvisualisierungsprozess wird diese Verbindung in eine Grafik umgewandelt. Damit eine solche Verbindung entstehen kann, werden in der Funktion `ggplot()` die Daten sowie die Beziehung zwischen den Datenvariablen und dem *mapping* auf die aesthetics definiert. Anschliessend wird dem Programm gesagt, welcher Diagrammtyp (Balkendiagramm, Streudiagramm, etc.) dargestellt werden soll. Diagrammtypen werden anhand der *geom* definiert. Mit dem geom wird gesagt, welches geometrische Objekt (Balken, Punkte, etc.) für das Diagramm benutzt wird. Das heisst Balkendiagramme werden mit <span class="in">`geom_bar()`</span> oder Streudiagramme mit <span class="in">`geom_point()`</span> erzeugt. Diese Abfolge von Code reicht, damit {ggplot2} eine Grafik erstellen kann. Um mehr Details der Grafik, wie Achsen, Skalen oder Beschriftungen zu kontrollieren, werden weitere Codestücke hinzugefügt. Dafür wird die gleiche Logik wie beim Definieren der Diagrammtypen benutzt <span class="co">[</span><span class="ot">@healy2018, S. 54-56</span><span class="co">]</span>. Viele Schritte der Grammer of Graphics haben bei {ggplot2} abhängig von den Daten und dem gewählten geom eine Voreinstellung, beispielsweise bei den Transformationsschritten und dem Koordinatensystem. Die Einstellungen können aber manuell angepasst werden. Jeder Teilaspekt hat eine eigene Funktion, welche Argumente besitzt, die spezifizieren was an der Grafik angepasst wird.</span>
<span id="cb30-374"><a href="#cb30-374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-375"><a href="#cb30-375" aria-hidden="true" tabindex="-1"></a>Durch die Zerstückelung der einzelnen Schritte der Erstellung einer Datenvisualisierung, kann systematisch Stück für Stück eine individuelle Grafik erstellt werden. Dabei basieren die unterschiedlichen Grafiktypen immer auf den oben beschriebenen Grundspezifikationen. Am Ende besteht ein Diagramm immer aus einer Kombination von drei Quellen: 1. Daten, dessen Datenwerte durch das geom dargestellt werden. 2. Skalen und Koordinatensystem um die Daten in eine Grafik abzubilden. 3. Erläuterungen wie Labels oder Titel damit die Grafik interpretierbar wird <span class="co">[</span><span class="ot">@wickham2010, S. 4-5</span><span class="co">]</span>.</span>
<span id="cb30-376"><a href="#cb30-376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-377"><a href="#cb30-377" aria-hidden="true" tabindex="-1"></a>Die Umsetzung in {ggplot2} folgt immer dem gleichen Konzept <span class="co">[</span><span class="ot">@healy2018, S. 60</span><span class="co">]</span>:</span>
<span id="cb30-378"><a href="#cb30-378" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-379"><a href="#cb30-379" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>Daten als Tidy Data aufbereiten.</span>
<span id="cb30-380"><a href="#cb30-380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-383"><a href="#cb30-383" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-384"><a href="#cb30-384" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb30-385"><a href="#cb30-385" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb30-386"><a href="#cb30-386" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-387"><a href="#cb30-387" aria-hidden="true" tabindex="-1"></a><span class="do">## Step 1: Tidy Data</span></span>
<span id="cb30-388"><a href="#cb30-388" aria-hidden="true" tabindex="-1"></a>ggplot2<span class="sc">::</span>mpg <span class="sc">|&gt;</span> </span>
<span id="cb30-389"><a href="#cb30-389" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(manufacturer<span class="sc">:</span>cyl, class) <span class="sc">|&gt;</span> </span>
<span id="cb30-390"><a href="#cb30-390" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="sc">|&gt;</span> </span>
<span id="cb30-391"><a href="#cb30-391" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span>
<span id="cb30-392"><a href="#cb30-392" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-393"><a href="#cb30-393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-394"><a href="#cb30-394" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>Daten definieren und entscheiden welche Beziehung abgebildet werden sollen.</span>
<span id="cb30-395"><a href="#cb30-395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-398"><a href="#cb30-398" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-399"><a href="#cb30-399" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb30-400"><a href="#cb30-400" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb30-401"><a href="#cb30-401" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-402"><a href="#cb30-402" aria-hidden="true" tabindex="-1"></a><span class="do">## Step 2: Mapping</span></span>
<span id="cb30-403"><a href="#cb30-403" aria-hidden="true" tabindex="-1"></a>plot <span class="ot">&lt;-</span> </span>
<span id="cb30-404"><a href="#cb30-404" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">data =</span> mpg,</span>
<span id="cb30-405"><a href="#cb30-405" aria-hidden="true" tabindex="-1"></a>         <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> class)) <span class="co"># aesthetics</span></span>
<span id="cb30-406"><a href="#cb30-406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-407"><a href="#cb30-407" aria-hidden="true" tabindex="-1"></a>plot</span>
<span id="cb30-408"><a href="#cb30-408" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-409"><a href="#cb30-409" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-410"><a href="#cb30-410" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>Wahl des geometrischen Objekts. Es sind mehrere Layer möglich. Die aesthetics können je geom in der <span class="in">`geom_*()`</span> Funktion angepasst werden.</span>
<span id="cb30-411"><a href="#cb30-411" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-414"><a href="#cb30-414" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-415"><a href="#cb30-415" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb30-416"><a href="#cb30-416" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb30-417"><a href="#cb30-417" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-418"><a href="#cb30-418" aria-hidden="true" tabindex="-1"></a><span class="do">## Step 3: Geom</span></span>
<span id="cb30-419"><a href="#cb30-419" aria-hidden="true" tabindex="-1"></a>plot <span class="ot">&lt;-</span> </span>
<span id="cb30-420"><a href="#cb30-420" aria-hidden="true" tabindex="-1"></a>  plot <span class="sc">+</span> </span>
<span id="cb30-421"><a href="#cb30-421" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span>
<span id="cb30-422"><a href="#cb30-422" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-423"><a href="#cb30-423" aria-hidden="true" tabindex="-1"></a>plot</span>
<span id="cb30-424"><a href="#cb30-424" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-425"><a href="#cb30-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-426"><a href="#cb30-426" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span>Kontrolle von Details im Diagramm inkl. Koordinatensystem. Default ist das kartesische Koordinatensystem <span class="co">[</span><span class="ot">@wilke2020, S.13</span><span class="co">]</span>.</span>
<span id="cb30-427"><a href="#cb30-427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-430"><a href="#cb30-430" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-431"><a href="#cb30-431" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb30-432"><a href="#cb30-432" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb30-433"><a href="#cb30-433" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 6.5</span></span>
<span id="cb30-434"><a href="#cb30-434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-435"><a href="#cb30-435" aria-hidden="true" tabindex="-1"></a><span class="do">## Step 4: Details</span></span>
<span id="cb30-436"><a href="#cb30-436" aria-hidden="true" tabindex="-1"></a>plot <span class="ot">&lt;-</span> </span>
<span id="cb30-437"><a href="#cb30-437" aria-hidden="true" tabindex="-1"></a>  plot <span class="sc">+</span></span>
<span id="cb30-438"><a href="#cb30-438" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="cn">NA</span>)) <span class="sc">+</span></span>
<span id="cb30-439"><a href="#cb30-439" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb30-440"><a href="#cb30-440" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"SUVs sind die grösste Gruppe von Fahrzeugtypen"</span>,</span>
<span id="cb30-441"><a href="#cb30-441" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Autotyp"</span>,</span>
<span id="cb30-442"><a href="#cb30-442" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Anzahl"</span></span>
<span id="cb30-443"><a href="#cb30-443" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb30-444"><a href="#cb30-444" aria-hidden="true" tabindex="-1"></a>  cowplot<span class="sc">::</span><span class="fu">theme_minimal_hgrid</span>()</span>
<span id="cb30-445"><a href="#cb30-445" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-446"><a href="#cb30-446" aria-hidden="true" tabindex="-1"></a>plot</span>
<span id="cb30-447"><a href="#cb30-447" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-448"><a href="#cb30-448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-449"><a href="#cb30-449" aria-hidden="true" tabindex="-1"></a><span class="fu"># R-Paket Entwicklung</span></span>
<span id="cb30-450"><a href="#cb30-450" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-451"><a href="#cb30-451" aria-hidden="true" tabindex="-1"></a><span class="fu">## Struktur im Prozess</span></span>
<span id="cb30-452"><a href="#cb30-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-453"><a href="#cb30-453" aria-hidden="true" tabindex="-1"></a>Zu Beginn des Entwicklungsprozesses standen organisatorische Entscheide im Fokus. Zum einen musste die Ordnerstruktur des Pakets bestimmt und zum anderen eine Strategie für die Benennung der Funktionen definiert werden. Beide Aspekte helfen eine Struktur im Paket zu etablieren. Die Ordnerstruktur im {biviz} Paket folgt der Empfehlung von Bannert <span class="co">[</span><span class="ot">@bannert2022, Kapitel 3.2.5</span><span class="co">]</span>:</span>
<span id="cb30-454"><a href="#cb30-454" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-455"><a href="#cb30-455" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>R</span>
<span id="cb30-456"><a href="#cb30-456" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-457"><a href="#cb30-457" aria-hidden="true" tabindex="-1"></a>    Hier werden die Skripts der Funktionen gespeichert. Die einzelne Funktionen des Pakets werden thematisch in einer Datei zusammengefasst. Dank dem Paket {**roxygen2}** [@hadleywickham2022] kann die Dokumentation der Funktionen gleich im selben Skript wie die Funktionen geschrieben werden. Mit dem Paket {**devtools}** <span class="co">[</span><span class="ot">@hadleywickham2022a</span><span class="co">]</span> werden automatisch alle relevanten Dateien für die Dokumentation erzeugt. {devtools} erstellt diesen Ordner automatisch.</span>
<span id="cb30-458"><a href="#cb30-458" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-459"><a href="#cb30-459" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>man</span>
<span id="cb30-460"><a href="#cb30-460" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-461"><a href="#cb30-461" aria-hidden="true" tabindex="-1"></a>    In diesen Ordner wird im Normalfall die automatisch erzeugte Dokumentation abgespeichert und beinhaltet die Funktion- und Datendokumentationen. Diese Dokumentationen werden bei der Anwendung des Pakets mithilfe ?function_name oder help(function_name) aufgerufen. {devtools} erstellt diesen Ordner automatisch.</span>
<span id="cb30-462"><a href="#cb30-462" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-463"><a href="#cb30-463" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>data</span>
<span id="cb30-464"><a href="#cb30-464" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-465"><a href="#cb30-465" aria-hidden="true" tabindex="-1"></a>    Damit der Bezug der Daten relativ bleibt, werden sie in einem separaten Ordner abgespeichert. Der relative Bezug auf Daten und Funktionen (R) ist wichtig, damit andere Nutzende das Programm einfach verwenden können und der Pfad nicht aufgrund der persönlichen Ordnerstruktur gebrochen wird. Weitere Details zu relativen Datenpfaden hat Jenny Bryan ein einem Blogpost dargestellt <span class="co">[</span><span class="ot">@jennybryan2017</span><span class="co">]</span>.</span>
<span id="cb30-466"><a href="#cb30-466" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-467"><a href="#cb30-467" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>inst</span>
<span id="cb30-468"><a href="#cb30-468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-469"><a href="#cb30-469" aria-hidden="true" tabindex="-1"></a>    R Pakete werden in der Regel mit <span class="in">`install.packages()`</span> installiert und werden irgendwo auf dem Computer auf dem R verwendet wird abgespeichert. Sollen Dateien, welche nicht direkt in Zusammenhang mit dem Paket stehen mitgeliefert werden, dann ist der *inst* Ordner ein guter Ort dafür. Der Ordner wird im Stammordner des installierten Pakets gespeichert und bleibt so immer in Bezug zum Paket. Der Ordner bietet auch Platz für Sandboxes oder um mit neuen Funktionen zu experimentieren.</span>
<span id="cb30-470"><a href="#cb30-470" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-471"><a href="#cb30-471" aria-hidden="true" tabindex="-1"></a><span class="at">    &gt; **TODO**: docs / vignettes\</span></span>
<span id="cb30-472"><a href="#cb30-472" aria-hidden="true" tabindex="-1"></a><span class="at">    &gt; https://devops-carpentry.github.io/book/programming.html#folder-structure\</span></span>
<span id="cb30-473"><a href="#cb30-473" aria-hidden="true" tabindex="-1"></a><span class="at">    &gt; https://r-pkgs.org/vignettes.html#sec-vignettes-article\</span></span>
<span id="cb30-474"><a href="#cb30-474" aria-hidden="true" tabindex="-1"></a><span class="at">    &gt; https://r-pkgs.org/other-markdown.html\</span></span>
<span id="cb30-475"><a href="#cb30-475" aria-hidden="true" tabindex="-1"></a><span class="at">    &gt; https://r-pkgs.org/lifecycle.html#sec-lifecycle-breaking-change-pros-cons</span></span>
<span id="cb30-476"><a href="#cb30-476" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-477"><a href="#cb30-477" aria-hidden="true" tabindex="-1"></a>Neben der Ordnerstruktur ist für die stringente Entwicklung und anschliessende Nutzung des Pakets eine einheitliche Syntax wichtig. Für {biviz} wird der snake_case Ansatz verwendet. Beim snake_case werden alle Begriffe in Kleinbuchstaben oder Zahlen verwendet und mit einem Unterstrich (<span class="sc">\_</span>) verbunden. Neben der Darstellung ist auch der Inhalt wichtig. Gute Namen können bereits eine Form der Dokumentation sein und entsprechend beschreiben was sie repräsentieren. Als Faustregel gilt: Variablen sind Nomen und beschreiben was sie sind (<span class="in">`abfallart`</span>). Funktionen sind Verben und beschreiben was sie machen (<span class="in">`plot_amounts_grouped`</span>). <span class="co">[</span><span class="ot">@hadleywickham2022b</span><span class="co">]</span> Es hilft sich in Erinnerung zu rufen, dass der Code auch von Menschen gelesen und verstanden werden muss. Für den Computer ist es nicht relevant ob <span class="in">`function1()`</span> oder <span class="in">`compute_max()`</span> steht. Für einen Menschen ist es jedoch ein grosser Unterschied und macht den Code verständlicher. Entsprechend soll der Code für Menschen einfach und verständlich gehalten werden.</span>
<span id="cb30-478"><a href="#cb30-478" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-479"><a href="#cb30-479" aria-hidden="true" tabindex="-1"></a><span class="fu">## Tidy evaluation</span></span>
<span id="cb30-480"><a href="#cb30-480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-481"><a href="#cb30-481" aria-hidden="true" tabindex="-1"></a>Im Tidyverse Ecosystem wird Tidy evaluation verwendet, was eine Spezialform des non-standard evaluation ist (mehr Details zu non-standard evaluation <span class="co">[</span><span class="ot">@wickham2019, Abschnitt Metaprogramming</span><span class="co">]</span>). Für das Paket {biviz} wurde das data masking und tidy selection angewendet. Mit dem **data-masking** können Variablen in bestimmten Funktionen so verwendet werden, als ob sie in der Programmierumgebung bzw. Funktionsumgebung sind. Es reicht dann <span class="in">`variable_x`</span> zu verwenden anstatt <span class="in">`df$variable_x`</span>. Mit data-masking verschwimmt die Abgrenzung zwischen env-variables (Variablen fürs Programmieren, welche in R mit <span class="in">`&lt;-`</span> erstellt werden und Objekte sind) und data-variables (Statistische Variablen, welche in Datentabellen gespeichert sind) <span class="co">[</span><span class="ot">@wickham2022</span><span class="co">]</span>. Vereinfacht gesagt, wird durch das data-masking die spezifisch aufgerufene env-variable (im Normalfall eine Datentabelle) zur Programmierumgebung und die data-variable zur env-variable während dem Aufruf der Funktion.</span>
<span id="cb30-482"><a href="#cb30-482" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-485"><a href="#cb30-485" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-486"><a href="#cb30-486" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb30-487"><a href="#cb30-487" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb30-488"><a href="#cb30-488" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-489"><a href="#cb30-489" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">variable_x =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">3</span>), <span class="at">variable_y =</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>))</span>
<span id="cb30-490"><a href="#cb30-490" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-491"><a href="#cb30-491" aria-hidden="true" tabindex="-1"></a><span class="do">## env-variable</span></span>
<span id="cb30-492"><a href="#cb30-492" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb30-493"><a href="#cb30-493" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-494"><a href="#cb30-494" aria-hidden="true" tabindex="-1"></a><span class="do">## data-variable</span></span>
<span id="cb30-495"><a href="#cb30-495" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>variable_x</span>
<span id="cb30-496"><a href="#cb30-496" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-497"><a href="#cb30-497" aria-hidden="true" tabindex="-1"></a><span class="do">## ohne tidy evaluation</span></span>
<span id="cb30-498"><a href="#cb30-498" aria-hidden="true" tabindex="-1"></a>df[df<span class="sc">$</span>variable_x <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> df<span class="sc">$</span>variable_y <span class="sc">==</span> <span class="st">"a"</span>, ]</span>
<span id="cb30-499"><a href="#cb30-499" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-500"><a href="#cb30-500" aria-hidden="true" tabindex="-1"></a><span class="do">## mit tidy evaluation</span></span>
<span id="cb30-501"><a href="#cb30-501" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(df, variable_x <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> variable_y <span class="sc">==</span> <span class="st">"a"</span>)</span>
<span id="cb30-502"><a href="#cb30-502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-503"><a href="#cb30-503" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-504"><a href="#cb30-504" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-505"><a href="#cb30-505" aria-hidden="true" tabindex="-1"></a>Das tidy evaluation Konzept vereinfacht die interaktive Datenanalyse. Beim Programmieren mit Tools die data-masking benutzen gilt es jedoch gewisse Herausforderungen zu meistern. Beim Schreiben von eigenen Funktionen mit data-variables müssen sie im Code speziell mit {{ variable_x }} ("{{" wird auch curly-curly genannt) aufgerufen werden. Ohne die Einschliessung in {{ sucht R in der Funktionsumgebung bzw. Programmierumgebung nach einer env-variable "variable_x" und findet sie nicht, da variable_x eine data-variable ist, welche eine Spalte im df (env-variable) ist. {{ ist ein Weiterleitungsoperator, wodurch Funktionen mit data-masking welche in der selber geschriebenen Funktion verwendet werden ihr Verhalten in die neue Umgebung mitnehmen <span class="co">[</span><span class="ot">@henry2022; @henry2022a</span><span class="co">]</span>.</span>
<span id="cb30-506"><a href="#cb30-506" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-509"><a href="#cb30-509" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-510"><a href="#cb30-510" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb30-511"><a href="#cb30-511" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb30-512"><a href="#cb30-512" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-513"><a href="#cb30-513" aria-hidden="true" tabindex="-1"></a><span class="do">## interaktive Datenanalyse</span></span>
<span id="cb30-514"><a href="#cb30-514" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> </span>
<span id="cb30-515"><a href="#cb30-515" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">max =</span> <span class="fu">max</span>(variable_x))</span>
<span id="cb30-516"><a href="#cb30-516" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-517"><a href="#cb30-517" aria-hidden="true" tabindex="-1"></a><span class="do">## Funktionen programmieren</span></span>
<span id="cb30-518"><a href="#cb30-518" aria-hidden="true" tabindex="-1"></a>compute_max <span class="ot">&lt;-</span>  <span class="cf">function</span>(data, variable) {</span>
<span id="cb30-519"><a href="#cb30-519" aria-hidden="true" tabindex="-1"></a>  data <span class="sc">|&gt;</span> </span>
<span id="cb30-520"><a href="#cb30-520" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">max =</span> <span class="fu">max</span>({{ variable }}))</span>
<span id="cb30-521"><a href="#cb30-521" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb30-522"><a href="#cb30-522" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-523"><a href="#cb30-523" aria-hidden="true" tabindex="-1"></a><span class="fu">compute_max</span>(df, variable_x)</span>
<span id="cb30-524"><a href="#cb30-524" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-525"><a href="#cb30-525" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-526"><a href="#cb30-526" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-527"><a href="#cb30-527" aria-hidden="true" tabindex="-1"></a>Beim **tidy-selection** können in gewissen Funktionen auf die Variablen anhand ihres Namens, Typs oder Position zugegriffen werden. Tidy-selection folgt den gleichen Prinzipien wie data-masking. Folglich gelten die gleichen Regeln wie oben beim data-masking beschrieben <span class="co">[</span><span class="ot">@wickham2022</span><span class="co">]</span>.</span>
<span id="cb30-528"><a href="#cb30-528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-529"><a href="#cb30-529" aria-hidden="true" tabindex="-1"></a><span class="fu"># Workflow für die Entwickung von Paketen in R</span></span>
<span id="cb30-530"><a href="#cb30-530" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-531"><a href="#cb30-531" aria-hidden="true" tabindex="-1"></a>Wie für viele andere Aufgaben gibt es in R Pakete, welche die Entwicklung von eigenen Paketen unterstützen. Diese Pakete werden im {devtools} <span class="co">[</span><span class="ot">@wickham2022a</span><span class="co">]</span> zusammengefasst. Nach dem das Paket devtools installiert und geladen ist, kann der Entwicklungsprozess beginnen. Der hier beschriebene Ablauf orientiert sich am Kapitel *The Whole Game* der zweiten Edition des Buches R Packages <span class="co">[</span><span class="ot">@wickham2015a; @rpackag</span><span class="co">]</span> und wird beispielhaft am Toypaket {dogorcat} durchgespielt. Die zweite Edition ist noch nicht veröffentlicht, die work-in-progress Version steht jedoch <span class="co">[</span><span class="ot">online</span><span class="co">](https://r-pkgs.org/whole-game.html)</span> zur Verfügung. In den folgenden Schritten werden die Funktionsaufrufe mit Angabe des spezifischen Pakets angegeben, damit die Herkunft der Funktionen ersichtlich ist.</span>
<span id="cb30-532"><a href="#cb30-532" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-533"><a href="#cb30-533" aria-hidden="true" tabindex="-1"></a><span class="fu">## Schritt 1: Initiierung des Pakets</span></span>
<span id="cb30-534"><a href="#cb30-534" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-535"><a href="#cb30-535" aria-hidden="true" tabindex="-1"></a>Als erstes wird mit <span class="in">`usethis::create_package("dogorcat")`</span> im derzeitigen Arbeitsverzeichnis das Paket erstellen. Alternativ kann auch ein spezifischer Ordner verwendet werden <span class="in">`usethis::create_package("C:/Users/Andriu/Documents/dogorcat").`</span> Mit <span class="in">`usethis::use_git()`</span> und <span class="in">`usethis::use_github()`</span> oder via Tools <span class="sc">\&gt;</span> Version Control kann ein Git repository sowie die Verbindung zum GitHub repository erstellt werden.</span>
<span id="cb30-536"><a href="#cb30-536" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-537"><a href="#cb30-537" aria-hidden="true" tabindex="-1"></a><span class="al">![Initiierung des Pakets.](images/pkg_step_1.JPG)</span>{#pkg_development_step_1 fig-align="center"}</span>
<span id="cb30-538"><a href="#cb30-538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-539"><a href="#cb30-539" aria-hidden="true" tabindex="-1"></a><span class="fu">## Schritt 2: Funktionen schreiben {#sec-schritt-2-funktionen-schreiben}</span></span>
<span id="cb30-540"><a href="#cb30-540" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-541"><a href="#cb30-541" aria-hidden="true" tabindex="-1"></a>Nach der Initiierung des Pakets können Funktionen geschrieben werden. Zuerst wird mit <span class="in">`usethis::use_r("dog_or_cat")`</span> (kann später auch verwendet werden um das Skript zu öffnen) ein Skriptfile im Ordner R abgespeichert. Dieser Schritt kann natürlich auch manuell erfolgen. Anschliessend wird die Funktion geschrieben. Die Funktionen im {biviz} sind als Familien organisiert. Das heisst, je Thema -- beispielsweise Proportions -- gibt es eine Datei in der der Quellcode und die Dokumentation von mehreren Funktionen zusammen leben. Der Code kann direkt in der Funktion mit <span class="in">`#`</span> dokumentiert werden. Wichtig beim Dokumentieren des Codes ist das *Warum*. Warum mache ich das so, wie ich es mache? Für weitere Details zum Schreiben von Funktionen eignet sich das Kapitel Functions are for Humans and Computers im Buch R for Data Science <span class="co">[</span><span class="ot">@wickham2016</span><span class="co">]</span>.</span>
<span id="cb30-542"><a href="#cb30-542" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-545"><a href="#cb30-545" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-546"><a href="#cb30-546" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb30-547"><a href="#cb30-547" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb30-548"><a href="#cb30-548" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-549"><a href="#cb30-549" aria-hidden="true" tabindex="-1"></a>dog_or_cat <span class="ot">&lt;-</span> <span class="cf">function</span>(favorite) {</span>
<span id="cb30-550"><a href="#cb30-550" aria-hidden="true" tabindex="-1"></a>  <span class="co"># eine fehlerhafte eingabe soll so früh wie möglich erkannt werden</span></span>
<span id="cb30-551"><a href="#cb30-551" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stopifnot</span>(<span class="st">"Das Argument 'favorite' muss ein String sein."</span> </span>
<span id="cb30-552"><a href="#cb30-552" aria-hidden="true" tabindex="-1"></a>            <span class="ot">=</span> <span class="fu">is.character</span>(favorite), </span>
<span id="cb30-553"><a href="#cb30-553" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Kein anderes Haustier möglich. Wähle Dog oder Cat."</span> </span>
<span id="cb30-554"><a href="#cb30-554" aria-hidden="true" tabindex="-1"></a>            <span class="ot">=</span> favorite <span class="sc">==</span> <span class="st">"dog"</span> <span class="sc">|</span> favorite <span class="sc">==</span> <span class="st">"cat"</span>)</span>
<span id="cb30-555"><a href="#cb30-555" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ifelse</span>(favorite <span class="sc">==</span> <span class="st">"cat"</span>, <span class="st">"Miauu!"</span>, <span class="st">"Woof, woof!"</span>)</span>
<span id="cb30-556"><a href="#cb30-556" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb30-557"><a href="#cb30-557" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-558"><a href="#cb30-558" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-559"><a href="#cb30-559" aria-hidden="true" tabindex="-1"></a>Mit <span class="in">`devtools::load_all()`</span> ("Ctrl + Shift + L" oder Build <span class="sc">\&gt;</span> Load All) kann anschliessend das Paket geladen werden und die Funktion steht zur Verfügung.</span>
<span id="cb30-560"><a href="#cb30-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-563"><a href="#cb30-563" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-564"><a href="#cb30-564" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb30-565"><a href="#cb30-565" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb30-566"><a href="#cb30-566" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-567"><a href="#cb30-567" aria-hidden="true" tabindex="-1"></a><span class="fu">dog_or_cat</span>(<span class="st">"dog"</span>)</span>
<span id="cb30-568"><a href="#cb30-568" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-569"><a href="#cb30-569" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-570"><a href="#cb30-570" aria-hidden="true" tabindex="-1"></a>Mit <span class="in">`devtools::check()`</span> ("Ctrl + Shift + E" oder Build <span class="sc">\&gt;</span> Check Package) wird ein R CMD check aufgerufen, welcher prüft ob das Paket funktionsfähig ist. Es ist zu empfehlen <span class="in">`devtools::check()`</span> regelmässig auszuführen, damit frühzeitig Fehler entdeckt und behoben werden können. Beispielsweise nach dem Schreiben einer neuen Funktion.</span>
<span id="cb30-571"><a href="#cb30-571" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-572"><a href="#cb30-572" aria-hidden="true" tabindex="-1"></a><span class="fu">## Schritt 3: Dokumentation</span></span>
<span id="cb30-573"><a href="#cb30-573" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-574"><a href="#cb30-574" aria-hidden="true" tabindex="-1"></a>Als erstes werden die Metadaten für das Paket erfasst. Dazu wird das File <span class="in">`DESCRIPTION`</span> geöffnet und die relevanten Daten (Paketname, Autor, Licence, etc.) erfasst. Die Lizenz wird am einfachsten mit einem Shortcut wie <span class="in">`usethis::use_mit_licences()`</span> ausgefüllt.</span>
<span id="cb30-575"><a href="#cb30-575" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-576"><a href="#cb30-576" aria-hidden="true" tabindex="-1"></a>Anschliessend wird eine Dokumentation für die Funktion erstellt. Dazu wird das Paket {roxygen2} <span class="co">[</span><span class="ot">@wickham2022b</span><span class="co">]</span> verwendet. Im Skript mit der Funktion wird der Cursor in der Funktion <span class="in">`dog_or_cat`</span> platziert und via Code <span class="sc">\&gt;</span> Insert Roxygen Skeleton das Template aufgerufen. Anschliessend können alle Punkte bearbeitet werden.</span>
<span id="cb30-577"><a href="#cb30-577" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-580"><a href="#cb30-580" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-581"><a href="#cb30-581" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb30-582"><a href="#cb30-582" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb30-583"><a href="#cb30-583" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-584"><a href="#cb30-584" aria-hidden="true" tabindex="-1"></a><span class="co">#' Title</span></span>
<span id="cb30-585"><a href="#cb30-585" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb30-586"><a href="#cb30-586" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param favorite </span></span>
<span id="cb30-587"><a href="#cb30-587" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb30-588"><a href="#cb30-588" aria-hidden="true" tabindex="-1"></a><span class="co">#' @return </span></span>
<span id="cb30-589"><a href="#cb30-589" aria-hidden="true" tabindex="-1"></a><span class="co">#' @export</span></span>
<span id="cb30-590"><a href="#cb30-590" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb30-591"><a href="#cb30-591" aria-hidden="true" tabindex="-1"></a><span class="co">#' @examples</span></span>
<span id="cb30-592"><a href="#cb30-592" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-593"><a href="#cb30-593" aria-hidden="true" tabindex="-1"></a>dog_or_cat <span class="ot">&lt;-</span> <span class="cf">function</span>(favorite) {</span>
<span id="cb30-594"><a href="#cb30-594" aria-hidden="true" tabindex="-1"></a>  <span class="co"># eine fehlerhafte eingabe soll so früh wie möglich erkennt werden</span></span>
<span id="cb30-595"><a href="#cb30-595" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stopifnot</span>(<span class="st">"Das Argument 'favorite' muss ein String sein."</span> </span>
<span id="cb30-596"><a href="#cb30-596" aria-hidden="true" tabindex="-1"></a>            <span class="ot">=</span> <span class="fu">is.character</span>(favorite), </span>
<span id="cb30-597"><a href="#cb30-597" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Kein anderes Haustier möglich. Wähle Dog oder Cat."</span></span>
<span id="cb30-598"><a href="#cb30-598" aria-hidden="true" tabindex="-1"></a>            <span class="ot">=</span> favorite <span class="sc">==</span> <span class="st">"dog"</span> <span class="sc">|</span> favorite <span class="sc">==</span> <span class="st">"cat"</span>)</span>
<span id="cb30-599"><a href="#cb30-599" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ifelse</span>(favorite <span class="sc">==</span> <span class="st">"cat"</span>, <span class="st">"Miauu!"</span>, <span class="st">"Woof, woof!"</span>)</span>
<span id="cb30-600"><a href="#cb30-600" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb30-601"><a href="#cb30-601" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-602"><a href="#cb30-602" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-603"><a href="#cb30-603" aria-hidden="true" tabindex="-1"></a>Nun soll der Dokumentationsteil noch als separate Datei im Ordner *man* gespeichert werde, damit es später mit <span class="in">`?dog_or_cat`</span> oder <span class="in">`help("dog_or_cat")`</span> zur Verfügung steht. Mit <span class="in">`devtools::document()`</span> ("Ctrl + Shift + D" oder Build <span class="sc">\&gt;</span> Document) wird in man die Datei dog_or_cat.Rd erstellt.</span>
<span id="cb30-604"><a href="#cb30-604" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-605"><a href="#cb30-605" aria-hidden="true" tabindex="-1"></a>Die Verwendung von Funktionen aus anderen Paketen muss ebenfalls dokumentiert werden. Dazu wird mit <span class="in">`usethis::use_package("pkgname")`</span> das Paket in <span class="in">`DESCRIPTION`</span> als Import angegeben und mit <span class="in">`@importFrom`</span> in der Dokumentation vermerkt. Alternativ kann auch die Funktion mit <span class="in">`pkgname::functionname`</span> aufgerufen werden, wodurch das <span class="in">`@importFrom`</span> hinfällig ist.</span>
<span id="cb30-606"><a href="#cb30-606" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-609"><a href="#cb30-609" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-610"><a href="#cb30-610" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb30-611"><a href="#cb30-611" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb30-612"><a href="#cb30-612" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-613"><a href="#cb30-613" aria-hidden="true" tabindex="-1"></a><span class="co">#' Liebliengshaustier eruieren</span></span>
<span id="cb30-614"><a href="#cb30-614" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb30-615"><a href="#cb30-615" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param favorite </span></span>
<span id="cb30-616"><a href="#cb30-616" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb30-617"><a href="#cb30-617" aria-hidden="true" tabindex="-1"></a><span class="co">#' @return Ein character (string) Vektor.</span></span>
<span id="cb30-618"><a href="#cb30-618" aria-hidden="true" tabindex="-1"></a><span class="co">#' @export</span></span>
<span id="cb30-619"><a href="#cb30-619" aria-hidden="true" tabindex="-1"></a><span class="co">#' </span></span>
<span id="cb30-620"><a href="#cb30-620" aria-hidden="true" tabindex="-1"></a><span class="co">#' @importFrom dplyr</span></span>
<span id="cb30-621"><a href="#cb30-621" aria-hidden="true" tabindex="-1"></a><span class="co">#' if_else</span></span>
<span id="cb30-622"><a href="#cb30-622" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb30-623"><a href="#cb30-623" aria-hidden="true" tabindex="-1"></a><span class="co">#' @examples</span></span>
<span id="cb30-624"><a href="#cb30-624" aria-hidden="true" tabindex="-1"></a><span class="co">#' dog &lt;- tidy_dog_or_cat("dog")</span></span>
<span id="cb30-625"><a href="#cb30-625" aria-hidden="true" tabindex="-1"></a><span class="co">#' dog</span></span>
<span id="cb30-626"><a href="#cb30-626" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-627"><a href="#cb30-627" aria-hidden="true" tabindex="-1"></a>tidy_dog_or_cat <span class="ot">&lt;-</span> <span class="cf">function</span>(favorite) {</span>
<span id="cb30-628"><a href="#cb30-628" aria-hidden="true" tabindex="-1"></a>  <span class="co"># eine fehlerhafte eingabe soll so früh wie möglich erkennt werden</span></span>
<span id="cb30-629"><a href="#cb30-629" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stopifnot</span>(<span class="st">"Das Argument 'favorite' muss ein String sein."</span> </span>
<span id="cb30-630"><a href="#cb30-630" aria-hidden="true" tabindex="-1"></a>            <span class="ot">=</span> <span class="fu">is.character</span>(favorite),</span>
<span id="cb30-631"><a href="#cb30-631" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Kein anderes Haustier möglich. Wähle Dog oder Cat."</span> </span>
<span id="cb30-632"><a href="#cb30-632" aria-hidden="true" tabindex="-1"></a>            <span class="ot">=</span> favorite <span class="sc">==</span> <span class="st">"dog"</span> <span class="sc">|</span> favorite <span class="sc">==</span> <span class="st">"cat"</span>)</span>
<span id="cb30-633"><a href="#cb30-633" aria-hidden="true" tabindex="-1"></a>  <span class="fu">if_else</span>(favorite <span class="sc">==</span> <span class="st">"cat"</span>, <span class="st">"Miauu!"</span>, <span class="st">"Woof, woof!"</span>)</span>
<span id="cb30-634"><a href="#cb30-634" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb30-635"><a href="#cb30-635" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-636"><a href="#cb30-636" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-637"><a href="#cb30-637" aria-hidden="true" tabindex="-1"></a>Als letztes wird noch ein <span class="in">`README`</span> für GitHub benötigt. Hier werden der Zweck des Pakets, die Installationsanweisungen und einen kleinen Einblick in die Anwendung des Pakets gegeben. Natürlich können noch weitere Punkte ins <span class="in">`README`</span> gepackt werden. Am einfachsten wird mit <span class="in">`devtools::use_readme_rmd()`</span> ein RMakrdown Dokument erstellt, so kann die Seite in gewohnter Umgebung geschrieben werden. Anschliessend wir mit <span class="in">`devtools::build_readme()`</span> das <span class="in">`README.md`</span>für GitHub erstellt. Das <span class="in">`README`</span> ist die Homepage und unterstützt beim Einstieg ins Paket. Später kann auch eine eigene Website erstellt werden.</span>
<span id="cb30-638"><a href="#cb30-638" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-639"><a href="#cb30-639" aria-hidden="true" tabindex="-1"></a><span class="fu">## Schritt 4: Testen</span></span>
<span id="cb30-640"><a href="#cb30-640" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-641"><a href="#cb30-641" aria-hidden="true" tabindex="-1"></a>Das Testen der Funktionen ist ein wichtiger Teil der Paketentwicklung. Es ist so wichtig, dass es sich ab einer gewisse Relevanz (Anzahl Funktionen, Anzahl Nutzende, etc.) lohnt die Test zu formalisieren. Mit {**testthat**} [@wickham2011a] liefert das Paket {devtools} ein Framework, welches das Schreiben von Tests unterstützt. Für das Testen von grafischen Outputs wir zusätzlich noch das Paket {**vdiffr**} <span class="co">[</span><span class="ot">@henry2023</span><span class="co">]</span> benötigt. Beim Unit Test wird die erwartete Ausgabe eines Codes festgehalten und mit dem tatsächlichen Wert verglichen. Dieser Prozess läuft automatisch auf der Basis von Code. Beim Snaphot testing wird eine Datei erstellt, die von einem Menschen lesbar ist. Bei Datenvisualisierungen -- wie im Paket {biviz} -- wird das Snaphot testing angewendet. Hier wird ein Bildfile mit der erwarteten Darstellung erstellt. Beim Testen wird anschliessend mit der erwarteten Darstellung abgeglichen. Snapshots test für Grafiken sind anfällig. Aus diesem Grund und da {biviz} noch in der Entwicklungsphase ist, werden die Test bei {biviz} noch informell, also manuell gemacht. Ausgenommen davon sind die standardisierten R CMD checks wie in @sec-schritt-2-funktionen-schreiben beschrieben. Beim nächsten Entwicklungsschritt, sollen die Tests wie oben beschrieben formalisiert werden.</span>
<span id="cb30-642"><a href="#cb30-642" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-643"><a href="#cb30-643" aria-hidden="true" tabindex="-1"></a><span class="fu">## **Schritt 5: Installieren**</span></span>
<span id="cb30-644"><a href="#cb30-644" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-645"><a href="#cb30-645" aria-hidden="true" tabindex="-1"></a>Vor dem Installieren des Pakets wird nochmals mit <span class="in">`devtools::check()`</span> alles geprüft und anschliessend mit <span class="in">`devtools::install()`</span> (oder von GitHub mit <span class="in">`devtools::install_github()`</span>) installiert. Danach wird das Paket wie alle Pakete mit <span class="in">`base::library()`</span> verwendet.</span>
<span id="cb30-646"><a href="#cb30-646" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-647"><a href="#cb30-647" aria-hidden="true" tabindex="-1"></a>Die effektive Entwicklung von Paketen geschieht in den Schritten zwei bis vier. Die Anwendung und Reihenfolge dieser Schritte ist dabei dynamisch.</span>
<span id="cb30-648"><a href="#cb30-648" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-649"><a href="#cb30-649" aria-hidden="true" tabindex="-1"></a><span class="fu"># (README) Verwendung von {biviz}</span></span>
<span id="cb30-650"><a href="#cb30-650" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-651"><a href="#cb30-651" aria-hidden="true" tabindex="-1"></a>Mit {biviz} können häufig verwendete Datenvisualisierungen mit einfachen Funktionen erstellt werden. {biviz} stellt insbesondere Datenvisualisierungen, die oft im Bereich Business Intelligence (BI) verwendet werden, zur Verfügung. Das Paket implementiert Trends der Datenvisualisierung, wodurch sich das Paket auch für andere Zwecke eignet. In {biviz} werden {ggplot2} Wrapper zur Verfügung gestellt, welche die gängigen Datenvisualisierungen erzeugen. Dies hat den Vorteil, dass bei Standardgrafiken die Datenvisualisierung nicht Schicht für Schicht programmiert wird, wie es beim {ggplot2} Framework vorgesehen ist. Eine Zeile Code reicht um eine Datenvisualisierung zu erstellen. Da das Paket auf {ggplot2} aufbaut, kann das erzeugte Objekt zu einem späteren Zeitpunkt dennoch angepasst werden. Um die Wrapper schlank zu halten, werden bei den meisten Funktionen in {biviz} die Daten vor der Übergabe in die Funktion so aufbereitet, dass in der Visualisierung die Datenpunkte in den Daten abgebildet werden und keine Berechnungen innerhalb der Visualisierungsfunktion vorgenommen werden.</span>
<span id="cb30-652"><a href="#cb30-652" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-653"><a href="#cb30-653" aria-hidden="true" tabindex="-1"></a><span class="fu">## Datenvisualisierungsfamilien</span></span>
<span id="cb30-654"><a href="#cb30-654" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-655"><a href="#cb30-655" aria-hidden="true" tabindex="-1"></a>Die Visualisierungen sind in 4 Gruppen (amounts, distributions, proportions und time series) aufgeteilt und folgen immer der gleichen Syntax. Jede Funktion startet mit <span class="in">`plot_*()`</span> anschliessend wird die Gruppe definiert <span class="in">`plot_amounts_*()`</span> und am Ende die Form <span class="in">`plot_amounts_grouped()`</span>.</span>
<span id="cb30-656"><a href="#cb30-656" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-657"><a href="#cb30-657" aria-hidden="true" tabindex="-1"></a>In der Gruppe *amounts* sind Datenvisualisierungen zusammengefasst, die Mengen abbilden. Dabei werden die Zahlenwerte von Kategorien bzw. deren Anzahl in einer Variable dargestellt. Die Kategorien können zusätzlich auch einer Gruppe zugeordnet werden. Dazu werden Variablen verwendet, welche die Gruppenzugehörigkeit definieren.</span>
<span id="cb30-658"><a href="#cb30-658" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-659"><a href="#cb30-659" aria-hidden="true" tabindex="-1"></a>Bei *distributions* werden Verteilungen innerhalb einer Variable dargestellt. Dazu können unterschiedliche Methoden verwendet werden, welche je nach Ausgangslage unterschiedliche Vorteile mit sich bringen. Bei den Datenvisualisierungen zu Verteilungen lohnt es sich verschiedene Grafiken auszuprobieren und ein möglichst akkurates Bild der Daten zu erhalten. Die Funktion <span class="in">`plot_distributions_raincloud()`</span> verfolgt beispielsweise das Ziel, einen gesamthaften Überblick (inkl. Rohdaten) zu präsentieren. Dies passiert indem verschiedene Layers (Boxplot-, Violin- und Punktediagramm) übereinander gelegt werden. Bei grossen Datenmengen gibt es jedoch so viele Datenpunkte, dass das Punktediagramm keinen Mehrwert mehr liefert. Deshalb bietet die Funktion <span class="in">`plot_distributions_boxplot()`</span> eine Alternative. Die Diskussion rund um statistisch robusteren und transparenten Ansätzen zur Datenvisualisierung ist ein Disziplin übergreifendes Thema <span class="co">[</span><span class="ot">vgl. @allen2021; @hehman2021</span><span class="co">]</span>.</span>
<span id="cb30-660"><a href="#cb30-660" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-661"><a href="#cb30-661" aria-hidden="true" tabindex="-1"></a>Für *proportions* gibt es unterschiedliche Formen der Darstellung, welche verschiedene Vorteile haben. Bei gestapelte Balken oder Donutplots ist es klar ersichtlich, dass es Teilmengen eines Ganzen sind. Nebeneinander angeordnete Balken zeigen den relativen Unterschied besser und eignen sich auch für viele Teilmengen. Werden die Proportionen von verschiedenen Variablen untersucht, dann eignen sich wiederum gestapelte Balken. Durch Visualisierungssysteme wie {ggplot2} lassen sich Proportionen separat als Teil der Gesamtmenge darstellen. Mit <span class="in">`plot_proportions_sidebyside_density1()`</span> werden zwei Probleme gelöst: Erstens ist das Verhältnis zur Gesamtmenge ersichtlich (im Gegensatz zum Balkendiagramm) und zweitens hat jede Teilmenge eine Grundlinie wodurch die Mengen einfach verglichen werden können (im Gegensatz zu gestapelten Balkendiagrammen). Mit <span class="in">`plot_proportions_sidebyside_density2()`</span> kann der relativen Anteil zu einem bestimmten Zeitpunkt einfach bestimmt werden <span class="co">[</span><span class="ot">@nussbaumerknaflic2017, S. 47; @wilke2020 S. 92-94</span><span class="co">]</span>.</span>
<span id="cb30-662"><a href="#cb30-662" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-663"><a href="#cb30-663" aria-hidden="true" tabindex="-1"></a>Daten mit einem Zeitpunkt haben eine inhärente Reihenfolge (geordnete Richtung) und Liniendiagramme eigenen sich, die zeitliche Ordnung darzustellen, da abgesehen vom Anfang und Ende alle Datenpunkte einen Vorgänger und Nachfolger haben. Die Familie "time_series" bietet neben unterschiedlichen Formen von Liniendiagrammen auch Visualisierungen von Trends an. Die Darstellung von Trends hilft, übergeordnete Entwicklungen zu erkennen. Um verschiedene Methoden der Glättung und Trendbereinigung bereitzustellen, greifen die Funktionen auf das Paket {**tsbox**} <span class="co">[</span><span class="ot">@sax2021</span><span class="co">]</span> zurück.</span>
<span id="cb30-664"><a href="#cb30-664" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-665"><a href="#cb30-665" aria-hidden="true" tabindex="-1"></a><span class="fu">## Vorteile</span></span>
<span id="cb30-666"><a href="#cb30-666" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-667"><a href="#cb30-667" aria-hidden="true" tabindex="-1"></a>Damit das Handling der Funktion in {biviz} einfach bleibt, haben die Funktionen Einschränkungen bzw. können nicht die ganze Palette an Möglichkeiten die in {ggplot2} zur Verfügung steht anwenden. Wie im Kapitel @sec-von-datenwerten-zu-visualisierung gesehen, sind für ein effektives Data Storytelling eine flexible Anpassung von Datenvisualisierungen wichtig. Durch den modularen Aufbau von {ggplot2} geht dies relativ einfach. Mit dem Aufruf einer {biviz} Funktion wird ein {ggplot2} Objekt erstellt. Dieses Objekt kann mit {ggplot2} Funktionen angepasst und verfeinert werden. Geht eine Feinpolierung über die Möglichkeit des {biviz} hinaus, so kann dem erstellten Objekt einfach {ggplot2} Funktionen angehänkt werden um Anpassungen an der Grafik zu machen. Wichtig: Normalerweise werden in R aufeinanderfolgende Funktionsaufrufe mit der Pipe <span class="in">`|&gt;`</span> verbunden. Bei {ggplot2} Objekten wird dafür das <span class="in">`+`</span> verwendet.</span>
<span id="cb30-668"><a href="#cb30-668" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-671"><a href="#cb30-671" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-672"><a href="#cb30-672" aria-hidden="true" tabindex="-1"></a>df_abfall_zh <span class="ot">&lt;-</span> </span>
<span id="cb30-673"><a href="#cb30-673" aria-hidden="true" tabindex="-1"></a>  abfall_zh <span class="sc">|&gt;</span> </span>
<span id="cb30-674"><a href="#cb30-674" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span><span class="fu">c</span>(<span class="st">"Gemeinde_Nr"</span>, <span class="st">"Einheit"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb30-675"><a href="#cb30-675" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb30-676"><a href="#cb30-676" aria-hidden="true" tabindex="-1"></a>    Gemeinde <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Aeugst a.A."</span>, </span>
<span id="cb30-677"><a href="#cb30-677" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Affoltern a.A."</span>, </span>
<span id="cb30-678"><a href="#cb30-678" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Bonstetten"</span>, </span>
<span id="cb30-679"><a href="#cb30-679" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Hausen a.A."</span>),</span>
<span id="cb30-680"><a href="#cb30-680" aria-hidden="true" tabindex="-1"></a>    Abfallart <span class="sc">==</span> <span class="st">"Brennbare Abfälle und Sperrgut"</span>,</span>
<span id="cb30-681"><a href="#cb30-681" aria-hidden="true" tabindex="-1"></a>    <span class="fu">row_number</span>() <span class="sc">%%</span> <span class="dv">214</span> <span class="sc">==</span> <span class="dv">1</span></span>
<span id="cb30-682"><a href="#cb30-682" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">|&gt;</span></span>
<span id="cb30-683"><a href="#cb30-683" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Gemeinde) <span class="sc">|&gt;</span> </span>
<span id="cb30-684"><a href="#cb30-684" aria-hidden="true" tabindex="-1"></a>  <span class="co"># quelle: https://www.zh.ch/de/politik-staat/gemeinden/gemeindeportraet.html</span></span>
<span id="cb30-685"><a href="#cb30-685" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Bevoelkerung =</span> <span class="fu">c</span>(<span class="dv">1986</span>, <span class="dv">12358</span>, <span class="dv">5632</span>, <span class="dv">3850</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb30-686"><a href="#cb30-686" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Gemeinde) <span class="sc">|&gt;</span> </span>
<span id="cb30-687"><a href="#cb30-687" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">abfall_pro_person =</span> Bevoelkerung <span class="sc">/</span> Wert)</span>
<span id="cb30-688"><a href="#cb30-688" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-689"><a href="#cb30-689" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(df_abfall_zh)</span>
<span id="cb30-690"><a href="#cb30-690" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-691"><a href="#cb30-691" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-694"><a href="#cb30-694" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-695"><a href="#cb30-695" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb30-696"><a href="#cb30-696" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb30-697"><a href="#cb30-697" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-698"><a href="#cb30-698" aria-hidden="true" tabindex="-1"></a><span class="do">## raw plot</span></span>
<span id="cb30-699"><a href="#cb30-699" aria-hidden="true" tabindex="-1"></a>plot_abfall_zh_raw <span class="ot">&lt;-</span> </span>
<span id="cb30-700"><a href="#cb30-700" aria-hidden="true" tabindex="-1"></a>  df_abfall_zh <span class="sc">|&gt;</span></span>
<span id="cb30-701"><a href="#cb30-701" aria-hidden="true" tabindex="-1"></a>  <span class="co"># biviz funktion</span></span>
<span id="cb30-702"><a href="#cb30-702" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_amounts_vertical</span>(</span>
<span id="cb30-703"><a href="#cb30-703" aria-hidden="true" tabindex="-1"></a>    <span class="co"># die daten haben keine logische reihenfolge, deshalb werden sie</span></span>
<span id="cb30-704"><a href="#cb30-704" aria-hidden="true" tabindex="-1"></a>    <span class="co"># der grösse nach sortiert. dies geschieht mit forcats::fct_reorder</span></span>
<span id="cb30-705"><a href="#cb30-705" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">fct_reorder</span>(Gemeinde, Wert),</span>
<span id="cb30-706"><a href="#cb30-706" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> Wert</span>
<span id="cb30-707"><a href="#cb30-707" aria-hidden="true" tabindex="-1"></a>    ) </span>
<span id="cb30-708"><a href="#cb30-708" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-709"><a href="#cb30-709" aria-hidden="true" tabindex="-1"></a><span class="do">## make the plot nice</span></span>
<span id="cb30-710"><a href="#cb30-710" aria-hidden="true" tabindex="-1"></a>plot_abfall_zh_nice <span class="ot">&lt;-</span> </span>
<span id="cb30-711"><a href="#cb30-711" aria-hidden="true" tabindex="-1"></a>  <span class="co"># das vorherige ggplot2 objekt wird verwendet</span></span>
<span id="cb30-712"><a href="#cb30-712" aria-hidden="true" tabindex="-1"></a>  plot_abfall_zh_raw <span class="sc">+</span></span>
<span id="cb30-713"><a href="#cb30-713" aria-hidden="true" tabindex="-1"></a>  <span class="co"># kontext hinzufügen</span></span>
<span id="cb30-714"><a href="#cb30-714" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Anzahl Brennbare Abfälle und Sperrgut</span><span class="sc">\n</span><span class="st">je Gemeinde im Jahr 2021"</span>) <span class="sc">+</span></span>
<span id="cb30-715"><a href="#cb30-715" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb30-716"><a href="#cb30-716" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Gemeinde"</span>,</span>
<span id="cb30-717"><a href="#cb30-717" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Menge in Tonnen"</span></span>
<span id="cb30-718"><a href="#cb30-718" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb30-719"><a href="#cb30-719" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb30-720"><a href="#cb30-720" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-721"><a href="#cb30-721" aria-hidden="true" tabindex="-1"></a><span class="do">## let the plot shine</span></span>
<span id="cb30-722"><a href="#cb30-722" aria-hidden="true" tabindex="-1"></a>plot_abfall_zh_shine <span class="ot">&lt;-</span> </span>
<span id="cb30-723"><a href="#cb30-723" aria-hidden="true" tabindex="-1"></a>  <span class="co"># das vorherige ggplot2 objekt wird verwendet</span></span>
<span id="cb30-724"><a href="#cb30-724" aria-hidden="true" tabindex="-1"></a>  plot_abfall_zh_nice <span class="sc">+</span></span>
<span id="cb30-725"><a href="#cb30-725" aria-hidden="true" tabindex="-1"></a>  <span class="co"># mit diesem schritt werden alle balken ausser, der hervorzuhebende grau</span></span>
<span id="cb30-726"><a href="#cb30-726" aria-hidden="true" tabindex="-1"></a>  <span class="co"># "übermalt" indem ein neuer layer auf die visualisierung gelegt wird</span></span>
<span id="cb30-727"><a href="#cb30-727" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(</span>
<span id="cb30-728"><a href="#cb30-728" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> <span class="fu">filter</span>(df_abfall_zh, </span>
<span id="cb30-729"><a href="#cb30-729" aria-hidden="true" tabindex="-1"></a>                  abfall_pro_person <span class="sc">!=</span> <span class="fu">min</span>(df_abfall_zh<span class="sc">$</span>abfall_pro_person)),</span>
<span id="cb30-730"><a href="#cb30-730" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb30-731"><a href="#cb30-731" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="fu">fct_reorder</span>(Gemeinde, Wert),</span>
<span id="cb30-732"><a href="#cb30-732" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> Wert</span>
<span id="cb30-733"><a href="#cb30-733" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb30-734"><a href="#cb30-734" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"lightgrey"</span>,</span>
<span id="cb30-735"><a href="#cb30-735" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="st">"dodge"</span></span>
<span id="cb30-736"><a href="#cb30-736" aria-hidden="true" tabindex="-1"></a>           ) <span class="sc">+</span></span>
<span id="cb30-737"><a href="#cb30-737" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(</span>
<span id="cb30-738"><a href="#cb30-738" aria-hidden="true" tabindex="-1"></a>    <span class="co"># mit dem paket ggtext kann html/markdown code im text verwendet werden</span></span>
<span id="cb30-739"><a href="#cb30-739" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste0</span>(</span>
<span id="cb30-740"><a href="#cb30-740" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;span style = 'color:lightgrey;'&gt;Im Jahr 2021 hatte die&lt;/span&gt;&lt;br&gt;"</span>,</span>
<span id="cb30-741"><a href="#cb30-741" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;span style = 'color:#0d7abc; style = font-size:24pt'&gt;</span></span>
<span id="cb30-742"><a href="#cb30-742" aria-hidden="true" tabindex="-1"></a><span class="st">      Gemeinde Affoltern a.A.&lt;/span&gt;&lt;br&gt;"</span>,</span>
<span id="cb30-743"><a href="#cb30-743" aria-hidden="true" tabindex="-1"></a>      <span class="st">" total am meisten "</span>,</span>
<span id="cb30-744"><a href="#cb30-744" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;span style = 'color:lightgrey;'&gt;brennbare Abfälle und Sperrgut&lt;/span&gt;&lt;br&gt;"</span>,</span>
<span id="cb30-745"><a href="#cb30-745" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;span style = 'color:lightgrey;'&gt;aber&lt;/span&gt;"</span>,</span>
<span id="cb30-746"><a href="#cb30-746" aria-hidden="true" tabindex="-1"></a>      <span class="st">" pro Kopf am wenigsten (5.6 Tonnen)"</span></span>
<span id="cb30-747"><a href="#cb30-747" aria-hidden="true" tabindex="-1"></a>      <span class="co">#"&lt;span style = 'color:lightgrey;'&gt;Menge&lt;/span&gt;"</span></span>
<span id="cb30-748"><a href="#cb30-748" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb30-749"><a href="#cb30-749" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb30-750"><a href="#cb30-750" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Totale Abfallmenge</span><span class="sc">\n</span><span class="st">in Tonnen"</span>) <span class="sc">+</span></span>
<span id="cb30-751"><a href="#cb30-751" aria-hidden="true" tabindex="-1"></a>  <span class="co"># damit der html/markdown code im text gerendert werden kann, benötigt es </span></span>
<span id="cb30-752"><a href="#cb30-752" aria-hidden="true" tabindex="-1"></a>  <span class="co"># die funktion element_markdown</span></span>
<span id="cb30-753"><a href="#cb30-753" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb30-754"><a href="#cb30-754" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> ggtext<span class="sc">::</span><span class="fu">element_markdown</span>(<span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb30-755"><a href="#cb30-755" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb30-756"><a href="#cb30-756" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">11</span>, <span class="at">vjust =</span> <span class="dv">3</span>)</span>
<span id="cb30-757"><a href="#cb30-757" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb30-758"><a href="#cb30-758" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-759"><a href="#cb30-759" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-760"><a href="#cb30-760" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-763"><a href="#cb30-763" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-764"><a href="#cb30-764" aria-hidden="true" tabindex="-1"></a><span class="co">#| layout: [[49, -2, 49], [100]]</span></span>
<span id="cb30-765"><a href="#cb30-765" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 6.5</span></span>
<span id="cb30-766"><a href="#cb30-766" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-abfall_zh_verschönern</span></span>
<span id="cb30-767"><a href="#cb30-767" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: Verfeinern von biviz Visualisierungen</span></span>
<span id="cb30-768"><a href="#cb30-768" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-subcap: </span></span>
<span id="cb30-769"><a href="#cb30-769" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - "Raw Plot"</span></span>
<span id="cb30-770"><a href="#cb30-770" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - "Make the Plot nice"</span></span>
<span id="cb30-771"><a href="#cb30-771" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - "Let the Plot shine"</span></span>
<span id="cb30-772"><a href="#cb30-772" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-773"><a href="#cb30-773" aria-hidden="true" tabindex="-1"></a>plot_abfall_zh_raw</span>
<span id="cb30-774"><a href="#cb30-774" aria-hidden="true" tabindex="-1"></a>plot_abfall_zh_nice</span>
<span id="cb30-775"><a href="#cb30-775" aria-hidden="true" tabindex="-1"></a>plot_abfall_zh_shine</span>
<span id="cb30-776"><a href="#cb30-776" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-777"><a href="#cb30-777" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-778"><a href="#cb30-778" aria-hidden="true" tabindex="-1"></a>{{&lt; pagebreak &gt;}}</span>
<span id="cb30-779"><a href="#cb30-779" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-780"><a href="#cb30-780" aria-hidden="true" tabindex="-1"></a><span class="fu"># Fazit</span></span>
<span id="cb30-781"><a href="#cb30-781" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-782"><a href="#cb30-782" aria-hidden="true" tabindex="-1"></a>Der Ausgangspunkt der Masterarbeit war die fehlende Qualität von Datenanalysen bei nicht reproduzierbaren Workflows und fehlendem Storytelling. Der Fokus lag auf der praktischen Umsetzung der Kommunikation mit Daten. Damit das Data Storytelling für die Anwendenden möglichst einfach gestaltet werden kann, wurde das R-Paket {biviz} entwickelt. Durch dieses Paket wurde im gleichen Zug auch die zweite Problemstellung angegangen. Das Paket wird in der Skript basierten Programmierumgebung von R angewendet, wodurch jeder Arbeitsschritt nachvollziehbar ist. Zudem könnte auch eine Datenpipeline von den Rohdaten bis zum finalen Report gebaut werden.</span>
<span id="cb30-783"><a href="#cb30-783" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-784"><a href="#cb30-784" aria-hidden="true" tabindex="-1"></a>Im ersten Teil der Arbeit wurde aufgezeigt, wie aus Datenwerten eine Visualisierung entsteht. Für diesen Prozess ist die Beziehung zwischen Daten, Skalen und Aesthetics zentral. Also die Verbindung zwischen Daten und quantifizierbaren Merkmalen, in Form von abbildbaren Elementen (Position, Grösse, Farbe und Form). Zudem wurden wichtige Aspekte des Data Storytellings, wie die Entwicklung und Steuerung einer Geschichte, aufgezeigt. Anschliessend wurde die technische Basis für die Entwicklung von {biviz} aufgezeigt und erläutert. Im Mittelpunkt lag dabei die Konzepte von Tidy Data und Grammer of Graphics. Tidy Data heisst, alle Variablen sind Spalten, alle Untersuchungen sind Zeilen und alle Werte sind Zellen. Durch diese Ordnung der Daten sind die weiteren Anlyseschritte einfacher umzusetzen und sie gibt eine konsequente Struktur vor. Eine konsequente Datenstruktur hilft Tools zu entwickeln, da ein Standard des Dateninputs vorliegt. Mit ihren Stages und die damit verbundene Zerstückelung der Erstellung von Grafiken bietet die Grammer of Graphics eine grosse Flexibilität bei der Datenvisualisierung. Diese strukturierte Beziehung von Datenvariablen und deren Repräsentation wurde mit dem Paket {ggplot2} in {bivz} integriert. Im dritten und vierten Teil wurde die effektive Entwicklung von {biviz} beispielhaft dargestellt und auf Herausforderungen und Probleme eingegangen. Zum einen wurde mit der Ordnerstruktur und Codesyntax ein Gerüst für den Entwicklungsprozess definiert. Die Inhalte und Funktionen (Dokumentation, Quellcode, etc.) wurden kurz dargelegt. Da {biviz} auf dem Paket {ggplot2} basiert, welches Tidy evaluation unterstützt, wurden die Unterscheidung zwischen env-variables und data-variables eingeführt. Mit den curly-curly ("{{") bietet das Tidyverse Framework einen intuitiven Umgang mit diesem Problem beim Erstellen eines Pakets. Der Entwicklungsworkflow besteht aus vier Schritten, welche immer kleinere Teilschritte beinhalten. Die effektive Entwicklung findet dabei in den Schritten "Funktionen schreiben", "Dokumentation" und "Testen" statt. Eine genaue Abfolge zwischen diesen Schritten gib es nicht. Wichtig ist es, dass die Tests und Dokumentationen regelmässig durchgeführt bzw. ergänzt werden. Es muss noch nicht die Finaleversion sein. Aber solange der geschriebene Code und die Gedanken dazu noch frisch sind, ist es einfacher, entsprechende Tests und Dokumentationen zu schreiben. Das letzten Kapitel zeigte die Anwendung des Pakets und ihre Vorteile. Dafür wurden die Funktionsfamilien beschrieben und ein Showcase zur Anwendung von {biviz} präsentiert.</span>
<span id="cb30-785"><a href="#cb30-785" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-786"><a href="#cb30-786" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; Datenvisualisierung ist teils Kunst und teils Wissenschaft. Die Herausforderung besteht darin, die Kunst richtig zu machen, ohne die Wissenschaft falsch zu machen, und umgekehrt.\</span></span>
<span id="cb30-787"><a href="#cb30-787" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; </span><span class="co">[</span><span class="ot">@wilke2020, S. 1</span><span class="co">]</span></span>
<span id="cb30-788"><a href="#cb30-788" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-789"><a href="#cb30-789" aria-hidden="true" tabindex="-1"></a>Die Arbeit hatte das Ziel, ein Tool zu entwickeln, welches das Data Storytelling und die Datenvisualisierungen vereinfacht und dennoch eine grosse Flexibilität bereithält. Mit {biviz} werden schnell Basisgrafiken erstellt und es steht mehr Zeit zur Verfügung um sich dem Data Storytelling zu widmen. Gleichzeitig wird mit der Verwendung von {biviz} ein minimaler Standard für die Grafiken eingeführt. Dadurch trägt {biviz} dazu bei, dass sowohl die Kunst als auch die Wissenschaft richtig zu machen ein bisschen einfacher geworden ist. Die Fähigkeit eines "Auge" kann das Paket aber nicht kompensieren. Folglich bleibt die Auseinandersetzung und Optimierung von Datenvisualisierungen ein lebenslanger Prozess. In diesem Sinne ist {biviz} auch kein statisches Projekt, sondern wird in Zukunft weiterentwickelt und optimiert.</span>
<span id="cb30-790"><a href="#cb30-790" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-791"><a href="#cb30-791" aria-hidden="true" tabindex="-1"></a>{biviz} importiert einige Funktionen aus anderen R-Paketen, wodurch sich Abhängigkeiten ergeben. Die grosse Mehrheit der Pakete kommen aus dem Tidyverse Framework, welches vom Unternehmen Posit unterstützt wird und entsprechend eine gewisse Langlebigkeit und Support garantiert. Andere Pakete wie das colorspace <span class="co">[</span><span class="ot">@zeileis2020</span><span class="co">]</span> sind in einem universitären Kontext entstanden, was ebenfalls eine Beständigkeit gewährleistet. Der nächste wichtige Schritt für {biviz} ist die Implementierung von formellen Tests. Zudem können weitere Datenvisualisierungen (Heatmap, Punktediagramm, Lollipopdiagramm, etc.) ergänzt und der Code optimiert werden. Ein weiteres Ziel bei der Weiterentwicklung des Pakets ist es, dass die Basisgrafiken bereits mehr Data Storytelling optimiert sind.</span>
<span id="cb30-792"><a href="#cb30-792" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-793"><a href="#cb30-793" aria-hidden="true" tabindex="-1"></a>Das Paket steht noch in den Kinderschuhen und hat noch Steigerungspotential. Der Arbeit liegt das Motto von Hadley Wickham zugrunde:</span>
<span id="cb30-794"><a href="#cb30-794" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-795"><a href="#cb30-795" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; The only way to write good code is to write tons of shitty code first. Feeling shame about bad code stops you from getting to good code.\</span></span>
<span id="cb30-796"><a href="#cb30-796" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; </span><span class="co">[</span><span class="ot">@wickham2015b</span><span class="co">]</span></span>
<span id="cb30-797"><a href="#cb30-797" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-798"><a href="#cb30-798" aria-hidden="true" tabindex="-1"></a>In diesem Sinne ist {biviz} wie es aktuell dasteht ein erster Entwurf, welcher in Zukunft stetig eine Weiterentwicklung erfährt.</span>
<span id="cb30-799"><a href="#cb30-799" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-800"><a href="#cb30-800" aria-hidden="true" tabindex="-1"></a>{{&lt; pagebreak &gt;}}</span>
<span id="cb30-801"><a href="#cb30-801" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-802"><a href="#cb30-802" aria-hidden="true" tabindex="-1"></a><span class="fu"># Literaturverzeichnis {.unnumbered}</span></span>
</code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>